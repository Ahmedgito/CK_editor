/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x4dacf2=_0x6057;(function(_0x19cefa,_0x3ee28e){const _0x13a3ba=_0x6057,_0x5afdf2=_0x19cefa();while(!![]){try{const _0x2a012d=-parseInt(_0x13a3ba(0x165))/0x1*(-parseInt(_0x13a3ba(0x161))/0x2)+parseInt(_0x13a3ba(0x141))/0x3+parseInt(_0x13a3ba(0x132))/0x4+parseInt(_0x13a3ba(0x174))/0x5*(parseInt(_0x13a3ba(0x150))/0x6)+parseInt(_0x13a3ba(0x16d))/0x7*(parseInt(_0x13a3ba(0x17e))/0x8)+-parseInt(_0x13a3ba(0x14f))/0x9+-parseInt(_0x13a3ba(0x151))/0xa;if(_0x2a012d===_0x3ee28e)break;else _0x5afdf2['push'](_0x5afdf2['shift']());}catch(_0x31c574){_0x5afdf2['push'](_0x5afdf2['shift']());}}}(_0x2234,0x68b88));import{Plugin as _0xce627}from'ckeditor5/src/core.js';import{IconAddComment as _0x4b4244}from'ckeditor5/src/icons.js';import{CommentsRepository as _0x5917a6}from'./commentsrepository.js';import{CommentsEditing as _0x2589ca}from'./commentsediting.js';import{EditorAnnotations as _0xbddd6a}from'../annotations/editorannotations.js';function _0x2234(){const _0x47f954=['has','_showLicenseError','init','commentsLicenseKeyTrialLimit','74431sVvkKH','removeCommentThread','commands','comment','execute','add','listenTo','4225dWKxbz','stop','commentsLicenseKeyNotAllowed','expired','invalid','editing','set','commentsLicenseKeyEvaluationLimit','hasContent','hasMarkerForId','184OxYSht','view','hasCommentThread','map','pluginName','domainLimit','focus','_createUIButton','trialLimit','featureNotAllowed','bind','234340nNZhZH','get','locale','usageLimit','CommentsListView','focusTracker','Comments','length','commentsLicenseKeyValid','addComment','commentsLicenseKeyExpired','isEnabled','Comment','menuBar:comment','isPremiumPlugin','1367511OObuEM','low','commentsLicenseKeyDomainLimit','highest','addSourceCollector','_licenseKeyCheckInterval','isFocused','CommentsUI','comment:','addCommentThread','change:activeAnnotations','config','editor','CommentThreadInputView','7579800UvpkxO','4170QWSxbW','3498080ZstMLf','getAllMarkersForId','destroy','commentsLicenseKeyUsageLimit','commentsLicenseKeyInvalid','push','isOfficialPlugin','from','licenseKey','getCommentThread','getRange','_threadToController','componentFactory','requires','find','_viewToController','549376NihITZ','model','activeMarker','evaluationLimit','1McIUSE','tooltip','plugins','innerView'];_0x2234=function(){return _0x47f954;};return _0x2234();}function _0x6057(_0x8c9f87,_0x4d8116){const _0x22344d=_0x2234();return _0x6057=function(_0x60575a,_0x370d85){_0x60575a=_0x60575a-0x131;let _0x2247e7=_0x22344d[_0x60575a];return _0x2247e7;},_0x6057(_0x8c9f87,_0x4d8116);}import{ButtonView as _0x4571e1,MenuBarMenuListItemButtonView as _0x39d942}from'ckeditor5/src/ui.js';import{Annotations as _0x409863}from'../annotations/annotations.js';import{CommentsListView as _0x1bf781}from'./ui/view/commentslistview.js';import{CommentThreadInputView as _0x50e1da}from'./ui/view/commentthreadinputview.js';import{getTranslation as _0x1e3ab1}from'../utils/common-translations.js';export class CommentsUI extends _0xce627{[_0x4dacf2(0x159)];[_0x4dacf2(0x146)];static get[_0x4dacf2(0x182)](){const _0x5d54c3=_0x4dacf2;return _0x5d54c3(0x148);}static get[_0x4dacf2(0x157)](){return!0x0;}static get[_0x4dacf2(0x140)](){return!0x0;}static get[_0x4dacf2(0x15e)](){return[_0x5917a6,_0x2589ca,_0xbddd6a,_0x409863];}get[_0x4dacf2(0x136)](){return _0x1bf781;}get[_0x4dacf2(0x14e)](){return _0x50e1da;}[_0x4dacf2(0x16b)](){const _0x2b3bc4=_0x4dacf2,_0x251263=this[_0x2b3bc4(0x14d)],_0x397c2d=_0x251263[_0x2b3bc4(0x167)][_0x2b3bc4(0x133)](_0x5917a6),_0x1b08da=_0x251263[_0x2b3bc4(0x167)][_0x2b3bc4(0x133)](_0x2589ca),_0x4aa41a=_0x251263[_0x2b3bc4(0x167)][_0x2b3bc4(0x133)](_0x409863),_0x4b029e=_0x251263[_0x2b3bc4(0x167)][_0x2b3bc4(0x133)](_0xbddd6a);_0x251263['ui'][_0x2b3bc4(0x15d)][_0x2b3bc4(0x172)](_0x2b3bc4(0x170),()=>{const _0x175a40=_0x2b3bc4,_0x560572=this[_0x175a40(0x185)](_0x4571e1);return _0x560572[_0x175a40(0x166)]=!0x0,_0x560572;}),_0x251263['ui'][_0x2b3bc4(0x15d)][_0x2b3bc4(0x172)](_0x2b3bc4(0x13f),()=>this[_0x2b3bc4(0x185)](_0x39d942)),_0x4b029e[_0x2b3bc4(0x145)](()=>{const _0x501c15=_0x2b3bc4,_0x30d7e2=[];for(const [_0x1ae032,_0x157142]of _0x397c2d[_0x501c15(0x15c)]){const _0x1886f1=_0x1b08da[_0x501c15(0x152)](_0x1ae032['id']),_0x330472=_0x1886f1[_0x501c15(0x181)](_0x4a993c=>_0x4a993c[_0x501c15(0x15b)]());_0x1886f1[_0x501c15(0x139)]>0x0&&_0x30d7e2[_0x501c15(0x156)]([_0x157142[_0x501c15(0x17f)],_0x330472]);}return _0x30d7e2;}),this[_0x2b3bc4(0x173)](_0x4aa41a,_0x2b3bc4(0x14b),(_0x103595,_0xb820dd,_0x32a2c1)=>{const _0x19b7d1=_0x2b3bc4,_0x293c53=Array[_0x19b7d1(0x158)](_0x32a2c1)[_0x19b7d1(0x181)](_0x2f73f6=>_0x2f73f6[_0x19b7d1(0x168)])[_0x19b7d1(0x15f)](_0x45000d=>_0x397c2d[_0x19b7d1(0x160)][_0x19b7d1(0x169)](_0x45000d));if(!_0x293c53)return void(_0x1b08da[_0x19b7d1(0x163)]=null);const _0x29b723=_0x397c2d[_0x19b7d1(0x160)][_0x19b7d1(0x133)](_0x293c53)[_0x19b7d1(0x162)]['id'],_0x443cb3=_0x19b7d1(0x149)+_0x29b723;_0x29b723&&_0x1b08da[_0x19b7d1(0x17d)](_0x29b723)?_0x1b08da[_0x19b7d1(0x163)]=_0x443cb3:_0x1b08da[_0x19b7d1(0x163)]&&(_0x1b08da[_0x19b7d1(0x163)]=null);}),this[_0x2b3bc4(0x173)](_0x397c2d,_0x2b3bc4(0x16e),(_0x3aaa3b,{threadId:_0x22d0c8,isFromAdapter:_0x2415b2})=>{const _0x307113=_0x2b3bc4;!_0x2415b2&&_0x251263['ui'][_0x307113(0x137)][_0x307113(0x147)]&&_0x1b08da[_0x307113(0x17d)](_0x22d0c8)&&_0x251263[_0x307113(0x179)][_0x307113(0x17f)][_0x307113(0x184)]();},{'priority':_0x2b3bc4(0x144)}),this[_0x2b3bc4(0x173)](_0x397c2d,_0x2b3bc4(0x13b),(_0x4e27cc,{threadId:_0x10550c,isFromAdapter:_0x1db2e4})=>{const _0x327ffc=_0x2b3bc4;if(_0x1db2e4||!_0x1b08da[_0x327ffc(0x17d)](_0x10550c)||!_0x397c2d[_0x327ffc(0x180)](_0x10550c))return;0x1===_0x397c2d[_0x327ffc(0x15a)](_0x10550c)[_0x327ffc(0x139)]&&(_0x251263[_0x327ffc(0x179)][_0x327ffc(0x17f)][_0x327ffc(0x184)](),_0x4e27cc[_0x327ffc(0x175)]());},{'priority':_0x2b3bc4(0x142)}),this[_0x2b3bc4(0x159)]=this[_0x2b3bc4(0x14d)][_0x2b3bc4(0x14c)][_0x2b3bc4(0x133)](_0x2b3bc4(0x159));const _0x3d4def=this[_0x2b3bc4(0x14d)];this[_0x2b3bc4(0x146)]=setInterval(()=>{const _0x292b9b=_0x2b3bc4;let _0x42b732;for(const _0x8d22fd in _0x3d4def){const _0xf6e2=_0x8d22fd,_0x8e303f=_0x3d4def[_0xf6e2];if(_0x292b9b(0x13a)==_0x8e303f||_0x292b9b(0x155)==_0x8e303f||_0x292b9b(0x13c)==_0x8e303f||_0x292b9b(0x143)==_0x8e303f||_0x292b9b(0x176)==_0x8e303f||_0x292b9b(0x17b)==_0x8e303f||_0x292b9b(0x16c)==_0x8e303f||_0x292b9b(0x154)==_0x8e303f){delete _0x3d4def[_0xf6e2],_0x42b732=_0x8e303f,clearInterval(this[_0x292b9b(0x146)]),this[_0x292b9b(0x146)]=void 0x0;break;}}_0x292b9b(0x155)==_0x42b732&&_0x3d4def[_0x292b9b(0x16a)](_0x292b9b(0x178)),_0x292b9b(0x13c)==_0x42b732&&_0x3d4def[_0x292b9b(0x16a)](_0x292b9b(0x177)),_0x292b9b(0x143)==_0x42b732&&_0x3d4def[_0x292b9b(0x16a)](_0x292b9b(0x183)),_0x292b9b(0x176)==_0x42b732&&_0x3d4def[_0x292b9b(0x16a)](_0x292b9b(0x187),_0x292b9b(0x138)),_0x292b9b(0x17b)==_0x42b732&&_0x3d4def[_0x292b9b(0x16a)](_0x292b9b(0x164)),_0x292b9b(0x16c)==_0x42b732&&_0x3d4def[_0x292b9b(0x16a)](_0x292b9b(0x186)),_0x292b9b(0x154)==_0x42b732&&_0x3d4def[_0x292b9b(0x16a)](_0x292b9b(0x135));},0x3e8);}[_0x4dacf2(0x153)](){const _0x5b502c=_0x4dacf2;super[_0x5b502c(0x153)](),this[_0x5b502c(0x146)]&&clearInterval(this[_0x5b502c(0x146)]);}[_0x4dacf2(0x185)](_0x381acb){const _0x14fb9f=_0x4dacf2,_0x5920e8=this[_0x14fb9f(0x14d)],_0x5bdbd1=new _0x381acb(_0x5920e8[_0x14fb9f(0x134)]),_0x3d2e6c=_0x5920e8[_0x14fb9f(0x16f)][_0x14fb9f(0x133)](_0x14fb9f(0x14a));return _0x5bdbd1[_0x14fb9f(0x17a)]({'label':_0x1e3ab1(_0x5920e8[_0x14fb9f(0x134)],_0x14fb9f(0x13e)),'icon':_0x4b4244}),_0x5bdbd1[_0x14fb9f(0x131)](_0x14fb9f(0x13d))['to'](_0x3d2e6c,_0x14fb9f(0x17c)),this[_0x14fb9f(0x173)](_0x5bdbd1,_0x14fb9f(0x171),()=>{const _0x2ba39e=_0x14fb9f;_0x3d2e6c[_0x2ba39e(0x171)]();}),_0x5bdbd1;}}