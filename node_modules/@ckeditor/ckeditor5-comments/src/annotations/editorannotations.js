/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0xc1d4af=_0x2a72;function _0x122e(){const _0x1ec284=['model','editorannotations-invalid-source-callback','range','focusTracker','editor','innerView','push','fire','28dOTNle','hasDomSelection','annotation','blur','801999RSNLGt','getOrderedSelectedAnnotations','requires','get','element','delete','2411772itOdql','view','collection','912254OQMNqW','23688WFpULp','refresh','set','add','_dataCollectors','isCollapsed','document','getByInnerView','update','_editorAnnotations','listenTo','from','has','getRanges','uiUpdate','refreshSelectedViews','addSourceCollector','init','sort','92547PMALlw','isEqual','remove','7096ccGFWG','function','registerAnnotation','isPremiumPlugin','EditorAnnotations','editing','containsRange','isOfficialPlugin','pluginName','change:isFocused','selection','plugins','7423170fQwdBd','cancel','directChange','661225pWDHAq','change:range','_editorAnnotationsData','map'];_0x122e=function(){return _0x1ec284;};return _0x122e();}(function(_0x8eac8,_0x4e3d21){const _0x32ce5b=_0x2a72,_0x4f9594=_0x8eac8();while(!![]){try{const _0x5adc5d=-parseInt(_0x32ce5b(0x1c6))/0x1+parseInt(_0x32ce5b(0x1cf))/0x2+parseInt(_0x32ce5b(0x1cc))/0x3+parseInt(_0x32ce5b(0x1c2))/0x4*(-parseInt(_0x32ce5b(0x1f5))/0x5)+-parseInt(_0x32ce5b(0x1f2))/0x6+parseInt(_0x32ce5b(0x1e3))/0x7+-parseInt(_0x32ce5b(0x1e6))/0x8*(-parseInt(_0x32ce5b(0x1d0))/0x9);if(_0x5adc5d===_0x4e3d21)break;else _0x4f9594['push'](_0x4f9594['shift']());}catch(_0x2ff918){_0x4f9594['push'](_0x4f9594['shift']());}}}(_0x122e,0x9cf83));import{Plugin as _0x1eac8f}from'ckeditor5/src/core.js';import{CKEditorError as _0x215d22}from'ckeditor5/src/utils.js';import{debounce as _0x579067}from'es-toolkit/compat';import{Annotations as _0x30a8a5}from'./annotations.js';function _0x2a72(_0x8c0380,_0xe7cf46){const _0x122e0b=_0x122e();return _0x2a72=function(_0x2a72ea,_0x389d9b){_0x2a72ea=_0x2a72ea-0x1bf;let _0x21694b=_0x122e0b[_0x2a72ea];return _0x21694b;},_0x2a72(_0x8c0380,_0xe7cf46);}export class EditorAnnotations extends _0x1eac8f{[_0xc1d4af(0x1d4)];[_0xc1d4af(0x1d9)];static get[_0xc1d4af(0x1c8)](){return[_0x30a8a5];}static get[_0xc1d4af(0x1ee)](){const _0x172d6d=_0xc1d4af;return _0x172d6d(0x1ea);}static get[_0xc1d4af(0x1ed)](){return!0x0;}static get[_0xc1d4af(0x1e9)](){return!0x0;}constructor(_0x557bba){const _0x2642fe=_0xc1d4af;super(_0x557bba),this[_0x2642fe(0x1d4)]=new Set(),this[_0x2642fe(0x1d9)]=new Set();}[_0xc1d4af(0x1e1)](){const _0x35130=_0xc1d4af,_0x407fe4=this[_0x35130(0x1fd)],_0x1fb717=_0x407fe4[_0x35130(0x1f9)][_0x35130(0x1d6)][_0x35130(0x1f0)],_0x4776ea=_0x579067(()=>this[_0x35130(0x1df)](),0xa);_0x1fb717['on'](_0x35130(0x1f6),(_0x50c17b,_0x5bc58d)=>{const _0x1e7282=_0x35130;_0x5bc58d[_0x1e7282(0x1f4)]&&(_0x4776ea[_0x1e7282(0x1f3)](),this[_0x1e7282(0x1df)]());}),this[_0x35130(0x1da)](_0x407fe4[_0x35130(0x1eb)][_0x35130(0x1cd)][_0x35130(0x1d6)],_0x35130(0x1ef),(_0x21f723,_0x512902,_0x43d5b2)=>{_0x43d5b2&&_0x4776ea();}),this[_0x35130(0x1da)](_0x407fe4['ui'][_0x35130(0x1fc)],_0x35130(0x1ef),(_0x352b6a,_0x11004b,_0x5259a2)=>{const _0x108ff2=_0x35130;_0x5259a2||this[_0x108ff2(0x1c1)](_0x108ff2(0x1c5),{'isAnnotationTracked':_0x1e9129=>this[_0x108ff2(0x1f7)][_0x108ff2(0x1dc)](_0x1e9129[_0x108ff2(0x1bf)])});}),this[_0x35130(0x1da)](this[_0x35130(0x1fd)]['ui'],_0x35130(0x1d8),()=>this[_0x35130(0x1c1)](_0x35130(0x1de)));}[_0xc1d4af(0x1e8)](_0x4885e7){const _0x1b77b2=_0xc1d4af;if(this[_0x1b77b2(0x1d9)][_0x1b77b2(0x1dc)](_0x4885e7[_0x1b77b2(0x1cd)]))return;this[_0x1b77b2(0x1d9)][_0x1b77b2(0x1d3)](_0x4885e7[_0x1b77b2(0x1cd)]),this[_0x1b77b2(0x1fd)]['ui'][_0x1b77b2(0x1fc)][_0x1b77b2(0x1d3)](_0x4885e7[_0x1b77b2(0x1cd)][_0x1b77b2(0x1ca)]);const _0x3ea50f=this[_0x1b77b2(0x1fd)][_0x1b77b2(0x1f1)][_0x1b77b2(0x1c9)](_0x30a8a5);this[_0x1b77b2(0x1da)](_0x3ea50f[_0x1b77b2(0x1ce)],_0x1b77b2(0x1e5),(_0x183073,_0x1dca35)=>{const _0xf10fb1=_0x1b77b2;this[_0xf10fb1(0x1fd)]['ui'][_0xf10fb1(0x1fc)][_0xf10fb1(0x1e5)](_0x1dca35[_0xf10fb1(0x1cd)][_0xf10fb1(0x1ca)]),this[_0xf10fb1(0x1d9)][_0xf10fb1(0x1cb)](_0x1dca35[_0xf10fb1(0x1cd)]);});}[_0xc1d4af(0x1c3)](){const _0x59691c=_0xc1d4af;return this[_0x59691c(0x1fd)][_0x59691c(0x1eb)][_0x59691c(0x1cd)][_0x59691c(0x1c3)];}[_0xc1d4af(0x1e0)](_0x56016e){const _0x5718a7=_0xc1d4af;if(_0x5718a7(0x1e7)!=typeof _0x56016e)throw new _0x215d22(_0x5718a7(0x1fa));this[_0x5718a7(0x1d4)][_0x5718a7(0x1d3)](_0x56016e);}[_0xc1d4af(0x1df)](){const _0x5c9b44=_0xc1d4af;this[_0x5c9b44(0x1c1)](_0x5c9b44(0x1d1));}[_0xc1d4af(0x1c7)]({activeAnnotation:_0x5e9ea7,annotations:_0x45f452}){const _0xcd62b3=_0xc1d4af,_0x31c92e=[],_0x1c4ebb=this[_0xcd62b3(0x1fd)][_0xcd62b3(0x1f9)][_0xcd62b3(0x1d6)][_0xcd62b3(0x1f0)],_0x213646=Array[_0xcd62b3(0x1db)](_0x1c4ebb[_0xcd62b3(0x1dd)]());for(const [_0x5c9616,_0x2ce8e9]of this[_0xcd62b3(0x1f7)]){const _0x1d5d49=_0x51b705(_0x2ce8e9),_0x4ed2a3=_0x45f452[_0xcd62b3(0x1d7)](_0x5c9616);_0x1d5d49&&_0x4ed2a3&&_0x31c92e[_0xcd62b3(0x1c0)]({'annotation':_0x4ed2a3,'range':_0x1d5d49});}function _0x51b705(_0x3a4647){const _0x4ecf15=_0xcd62b3;for(const _0x4902a3 of _0x3a4647)for(const _0xa6f200 of _0x213646)if(_0x4902a3[_0x4ecf15(0x1ec)](_0xa6f200,!_0x1c4ebb[_0x4ecf15(0x1d5)]))return _0x4902a3;return null;}return _0x31c92e[_0xcd62b3(0x1e2)]((_0x19c311,_0x1efdde)=>{const _0x8fb5bc=_0xcd62b3,_0x549d11=_0x19c311[_0x8fb5bc(0x1fb)],_0x1f75f3=_0x1efdde[_0x8fb5bc(0x1fb)];if(!_0x549d11[_0x8fb5bc(0x1e4)](_0x1f75f3)){if(_0x549d11[_0x8fb5bc(0x1ec)](_0x1f75f3,!0x0))return 0x1;if(_0x1f75f3[_0x8fb5bc(0x1ec)](_0x549d11,!0x0))return-0x1;}return _0x19c311[_0x8fb5bc(0x1c4)]==_0x5e9ea7?-0x1:_0x1efdde[_0x8fb5bc(0x1c4)]==_0x5e9ea7?0x1:0x0;})[_0xcd62b3(0x1f8)](_0x47995d=>_0x47995d[_0xcd62b3(0x1c4)]);}get[_0xc1d4af(0x1f7)](){const _0x5f056e=_0xc1d4af,_0x9a83d5=new Map();for(const _0x6974b3 of Array[_0x5f056e(0x1db)](this[_0x5f056e(0x1d4)]))for(const [_0x7f6b0,_0x4c631b]of _0x6974b3())_0x9a83d5[_0x5f056e(0x1d2)](_0x7f6b0,_0x4c631b);return _0x9a83d5;}}