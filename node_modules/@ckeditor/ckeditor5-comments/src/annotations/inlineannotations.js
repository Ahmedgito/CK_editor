/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x920ce0=_0x3c7c;(function(_0x26fd73,_0x3b0552){const _0xe2c21b=_0x3c7c,_0x351d84=_0x26fd73();while(!![]){try{const _0x4290c2=-parseInt(_0xe2c21b(0x1f1))/0x1*(-parseInt(_0xe2c21b(0x1e2))/0x2)+-parseInt(_0xe2c21b(0x1ba))/0x3*(-parseInt(_0xe2c21b(0x1c2))/0x4)+-parseInt(_0xe2c21b(0x1d8))/0x5*(parseInt(_0xe2c21b(0x1d4))/0x6)+-parseInt(_0xe2c21b(0x1d6))/0x7+parseInt(_0xe2c21b(0x1ab))/0x8*(-parseInt(_0xe2c21b(0x1fb))/0x9)+parseInt(_0xe2c21b(0x1c4))/0xa+parseInt(_0xe2c21b(0x203))/0xb*(-parseInt(_0xe2c21b(0x1e1))/0xc);if(_0x4290c2===_0x3b0552)break;else _0x351d84['push'](_0x351d84['shift']());}catch(_0x516260){_0x351d84['push'](_0x351d84['shift']());}}}(_0xcb45,0x8f9ff));import{Plugin as _0x23d638}from'ckeditor5/src/core.js';import{AnnotationsUIs as _0x64bba7}from'./annotationsuis.js';function _0x3c7c(_0x574790,_0x857bf5){const _0xcb45ad=_0xcb45();return _0x3c7c=function(_0x3c7c2b,_0x149a30){_0x3c7c2b=_0x3c7c2b-0x1a5;let _0x47d19f=_0xcb45ad[_0x3c7c2b];return _0x47d19f;},_0x3c7c(_0x574790,_0x857bf5);}import{EditorAnnotations as _0x191d05}from'./editorannotations.js';import{ContextualBalloon as _0x37c96b}from'ckeditor5/src/ui.js';import{MouseObserver as _0x320035}from'ckeditor5/src/engine.js';import{CKEditorError as _0x1ce865,Rect as _0x495fa6}from'ckeditor5/src/utils.js';import'./../../theme/annotation-inline.css';function _0xcb45(){const _0x1a656f=['editor','bottom','2959107qAQTKa','collapse','editableElement','isFocused','requires','_getBalloonTargetForAnnotation','attach','focus','4nUCVkf','change:visibleView','9575390EttApX','annotations','isOfficialPlugin','Esc','includes','_addedAnnotations','detach','listenTo','document','destroy','getOrderedSelectedAnnotations','_closeAnnotation','getClientRects','width','inlineannotations-detach-not-attached','focusTracker','21162hNYRKZ','_manuallyClosed','4939564tBPlxE','inlineannotations-not-allowed-with-context','1030zFuWTI','remove','add','right','getBoundingClientRect','has','InlineAnnotations','push','isAttached','168ZrHgHK','2uSHQfG','getFirstRange','_forceRefresh','editing','setActiveAnnotation','_balloon','inlineannotations-attach-already-attached','_addAnnotationToBalloon','set','isActive','plugins','context','update','inline','targetRect','704371hjgFLq','isPremiumPlugin','clear','init','afterInit','switchTo','domConverter','activeAnnotation','keystrokes','showStack','992988HYiRQQ','visibleView','target','refresh','_removeAnnotationFromBalloon','left','fromRect','_setSelectedAnnotations','59807GJSJjb','mousedown','change:height','delete','from','viewRangeToDom','get','find','updatePosition','addObserver','hasView','top','_selectedAnnotations','40cxbMve','stopListening','map','every','selection','pluginName','register','view','length','blur','getByView','change:isFocused','hasActive'];_0xcb45=function(){return _0x1a656f;};return _0xcb45();}export class InlineAnnotations extends _0x23d638{[_0x920ce0(0x1e0)];[_0x920ce0(0x1c5)];[_0x920ce0(0x1d5)];[_0x920ce0(0x1e7)];[_0x920ce0(0x1c9)];[_0x920ce0(0x1aa)];[_0x920ce0(0x1e4)];static get[_0x920ce0(0x1be)](){return[_0x191d05,_0x37c96b,_0x64bba7];}static get[_0x920ce0(0x1b0)](){const _0x113ac1=_0x920ce0;return _0x113ac1(0x1de);}static get[_0x920ce0(0x1c6)](){return!0x0;}static get[_0x920ce0(0x1f2)](){return!0x0;}constructor(_0x419515){const _0x20096d=_0x920ce0;super(_0x419515),_0x419515[_0x20096d(0x1e5)][_0x20096d(0x1b2)][_0x20096d(0x1a7)](_0x320035),this[_0x20096d(0x1e0)]=!0x1,this[_0x20096d(0x1ea)](_0x20096d(0x1f8),null),this[_0x20096d(0x1c5)]=null,this[_0x20096d(0x1d5)]=new Set(),this[_0x20096d(0x1e7)]=_0x419515[_0x20096d(0x1ec)][_0x20096d(0x209)](_0x37c96b),this[_0x20096d(0x1c9)]=new Set(),this[_0x20096d(0x1aa)]=[],this[_0x20096d(0x1e4)]=!0x1;}[_0x920ce0(0x1f4)](){const _0x44f9ba=_0x920ce0,_0x51bb2a=this[_0x44f9ba(0x1b8)][_0x44f9ba(0x1ec)][_0x44f9ba(0x209)](_0x64bba7);_0x51bb2a[_0x44f9ba(0x1ed)]===this[_0x44f9ba(0x1b8)]&&(_0x51bb2a[_0x44f9ba(0x1b1)](_0x44f9ba(0x1ef),this),this[_0x44f9ba(0x1b8)][_0x44f9ba(0x1f9)][_0x44f9ba(0x1ea)](_0x44f9ba(0x1c7),(_0x4236ab,_0x3b5817)=>{const _0x3a5064=_0x44f9ba,_0x1c1116=this[_0x3a5064(0x1e7)];if(this[_0x3a5064(0x1e0)]&&_0x1c1116[_0x3a5064(0x1fc)]){const _0x202496=this[_0x3a5064(0x1c5)][_0x3a5064(0x1b5)](_0x1c1116[_0x3a5064(0x1fc)]);_0x202496&&this[_0x3a5064(0x1cf)](_0x202496),_0x3b5817();}}));}[_0x920ce0(0x1f5)](){const _0x2b8c42=_0x920ce0,_0x2e165a=this[_0x2b8c42(0x1b8)][_0x2b8c42(0x1ec)][_0x2b8c42(0x209)](_0x64bba7);_0x2e165a[_0x2b8c42(0x1ed)]===this[_0x2b8c42(0x1b8)]&&(_0x2e165a[_0x2b8c42(0x1b7)]()||_0x2e165a[_0x2b8c42(0x1f6)](_0x2b8c42(0x1ef)));}[_0x920ce0(0x1e6)](_0x4aba25){const _0x199f0c=_0x920ce0;_0x4aba25!==this[_0x199f0c(0x1f8)]&&(this[_0x199f0c(0x1f8)]&&(this[_0x199f0c(0x1f8)][_0x199f0c(0x1eb)]=!0x1),_0x4aba25&&this[_0x199f0c(0x1b8)]['ui'][_0x199f0c(0x1d3)][_0x199f0c(0x1bd)]&&(this[_0x199f0c(0x1c5)][_0x199f0c(0x1dd)](_0x4aba25)&&this[_0x199f0c(0x1e9)](_0x4aba25,!0x0),_0x4aba25[_0x199f0c(0x1eb)]=!0x0),_0x4aba25||this[_0x199f0c(0x202)]([]),this[_0x199f0c(0x1f8)]=_0x4aba25);}[_0x920ce0(0x1c0)](_0xcb0c72){const _0x3c7523=_0x920ce0;this[_0x3c7523(0x1c5)]=_0xcb0c72;const _0x5cd50f=this[_0x3c7523(0x1b8)][_0x3c7523(0x1ec)][_0x3c7523(0x209)](_0x64bba7),_0x302e5f=this[_0x3c7523(0x1e7)];if(this[_0x3c7523(0x1e0)])throw new _0x1ce865(_0x3c7523(0x1e8),this);if(_0x5cd50f[_0x3c7523(0x1ed)]!==this[_0x3c7523(0x1b8)])throw new _0x1ce865(_0x3c7523(0x1d7),this);const _0x3652ef=this[_0x3c7523(0x1b8)][_0x3c7523(0x1ec)][_0x3c7523(0x209)](_0x191d05);this[_0x3c7523(0x1cb)](_0x3652ef,_0x3c7523(0x1fe),()=>{const _0x1badfa=_0x3c7523,_0x29959a=_0x3652ef[_0x1badfa(0x1ce)]({'annotations':this[_0x1badfa(0x1c5)],'activeAnnotation':this[_0x1badfa(0x1f8)]});var _0x5904aa,_0x387f68;!this[_0x1badfa(0x1e4)]&&(_0x5904aa=_0x29959a,_0x387f68=this[_0x1badfa(0x1aa)],_0x5904aa[_0x1badfa(0x1b3)]===_0x387f68[_0x1badfa(0x1b3)]&&_0x5904aa[_0x1badfa(0x1ae)](_0x4189f6=>_0x387f68[_0x1badfa(0x1c8)](_0x4189f6)))||(this[_0x1badfa(0x1e4)]=!0x1,this[_0x1badfa(0x202)](_0x29959a),this[_0x1badfa(0x1e6)](_0x29959a[0x0]||null));}),this[_0x3c7523(0x1cb)](_0x3652ef,_0x3c7523(0x1b4),(_0x324d08,{isAnnotationTracked:_0x558837})=>{const _0x686c62=_0x3c7523;this[_0x686c62(0x1f8)]&&_0x558837(this[_0x686c62(0x1f8)])&&(this[_0x686c62(0x202)]([]),this[_0x686c62(0x1e6)](null));}),this[_0x3c7523(0x1cb)](this[_0x3c7523(0x1b8)]['ui'][_0x3c7523(0x1d3)],_0x3c7523(0x1b6),(_0x159f70,_0x1278d9,_0x56495f)=>{const _0xb72e25=_0x3c7523;_0x56495f||this[_0xb72e25(0x1e6)](null);}),this[_0x3c7523(0x1cb)](_0xcb0c72,_0x3c7523(0x1d9),(_0x602e40,_0xcaedcc)=>{const _0x2dbc57=_0x3c7523;this[_0x2dbc57(0x1ff)](_0xcaedcc),_0xcaedcc===this[_0x2dbc57(0x1f8)]&&this[_0x2dbc57(0x1e6)](null);}),this[_0x3c7523(0x1cb)](_0x302e5f,_0x3c7523(0x1c3),(_0x4bb339,_0x2687a4,_0x16e238,_0x4af10e)=>{const _0x1170a=_0x3c7523;_0x4af10e&&this[_0x1170a(0x1ac)](_0x4af10e);const _0x1f4f71=_0xcb0c72[_0x1170a(0x1b5)](_0x16e238);_0x16e238&&_0x1f4f71&&(this[_0x1170a(0x1cb)](_0x16e238,_0x1170a(0x205),()=>{const _0x1d566d=_0x1170a;_0x302e5f[_0x1d566d(0x1a6)]();}),this[_0x1170a(0x1cb)](_0x16e238,_0x1170a(0x1c7),()=>{const _0x37744f=_0x1170a;this[_0x37744f(0x1cf)](_0x1f4f71),this[_0x37744f(0x1b8)][_0x37744f(0x1e5)][_0x37744f(0x1b2)][_0x37744f(0x1c1)]();}),this[_0x1170a(0x1f8)]!==_0x1f4f71&&this[_0x1170a(0x1e6)](_0x1f4f71));}),this[_0x3c7523(0x1cb)](this[_0x3c7523(0x1b8)]['ui'],_0x3c7523(0x1ee),()=>{const _0x345a16=_0x3c7523;_0x302e5f[_0x345a16(0x1fc)]&&(_0xcb0c72[_0x345a16(0x1b5)](_0x302e5f[_0x345a16(0x1fc)])&&_0x302e5f[_0x345a16(0x1a6)]());}),this[_0x3c7523(0x1cb)](this[_0x3c7523(0x1b8)][_0x3c7523(0x1e5)][_0x3c7523(0x1b2)][_0x3c7523(0x1cc)],_0x3c7523(0x204),()=>{const _0x1b765a=_0x3c7523;this[_0x1b765a(0x1e4)]=!0x0,this[_0x1b765a(0x1d5)][_0x1b765a(0x1f3)]();}),this[_0x3c7523(0x1b8)][_0x3c7523(0x1e5)][_0x3c7523(0x1b2)][_0x3c7523(0x1cc)][_0x3c7523(0x1af)][_0x3c7523(0x1bc)]&&this[_0x3c7523(0x1b8)][_0x3c7523(0x1e5)][_0x3c7523(0x1b2)][_0x3c7523(0x1c1)](),this[_0x3c7523(0x1e0)]=!0x0;}[_0x920ce0(0x1ca)](){const _0xe5a771=_0x920ce0;if(!this[_0xe5a771(0x1e0)])throw new _0x1ce865(_0xe5a771(0x1d2),this);this[_0xe5a771(0x1e6)](null);for(const _0x5bced4 of this[_0xe5a771(0x1c9)])this[_0xe5a771(0x1ff)](_0x5bced4);this[_0xe5a771(0x1ac)](),this[_0xe5a771(0x1e0)]=!0x1,this[_0xe5a771(0x1c5)]=null;}[_0x920ce0(0x1cd)](){const _0x3dddc6=_0x920ce0;this[_0x3dddc6(0x1e0)]&&this[_0x3dddc6(0x1ca)]();}[_0x920ce0(0x202)](_0x20dc8c){const _0x298feb=_0x920ce0;for(const _0x1df3a4 of this[_0x298feb(0x1aa)])_0x20dc8c[_0x298feb(0x1c8)](_0x1df3a4)||this[_0x298feb(0x1d5)][_0x298feb(0x206)](_0x1df3a4);for(const _0x3accdb of this[_0x298feb(0x1c5)])_0x20dc8c[_0x298feb(0x1c8)](_0x3accdb)||this[_0x298feb(0x1ff)](_0x3accdb);if(this[_0x298feb(0x1b8)]['ui'][_0x298feb(0x1d3)][_0x298feb(0x1bd)]){for(const _0x1e9ef5 of _0x20dc8c)this[_0x298feb(0x1e9)](_0x1e9ef5);}this[_0x298feb(0x1aa)]=_0x20dc8c;}[_0x920ce0(0x1e9)](_0x4ddf1b,_0x155673=!0x1){const _0xf38e34=_0x920ce0;this[_0xf38e34(0x1d5)][_0xf38e34(0x1dd)](_0x4ddf1b)||(this[_0xf38e34(0x1c9)][_0xf38e34(0x1dd)](_0x4ddf1b)||this[_0xf38e34(0x1e7)][_0xf38e34(0x1a8)](_0x4ddf1b[_0xf38e34(0x1b2)])||(this[_0xf38e34(0x1c9)][_0xf38e34(0x1da)](_0x4ddf1b),this[_0xf38e34(0x1e7)][_0xf38e34(0x1da)]({'stackId':_0x4ddf1b[_0xf38e34(0x1b2)]['id'],'view':_0x4ddf1b[_0xf38e34(0x1b2)],'position':{'target':()=>this[_0xf38e34(0x1bf)](_0x4ddf1b)}})),_0x155673&&this[_0xf38e34(0x1e7)][_0xf38e34(0x1fa)](_0x4ddf1b[_0xf38e34(0x1b2)]['id']));}[_0x920ce0(0x1bf)](_0x123490){const _0x3adf60=_0x920ce0,_0x38a8b6=_0x123490[_0x3adf60(0x1fd)],_0x2140ea=this[_0x3adf60(0x1b8)][_0x3adf60(0x1e5)][_0x3adf60(0x1b2)],_0x1ea3b2=_0x2140ea[_0x3adf60(0x1cc)][_0x3adf60(0x1af)][_0x3adf60(0x1e3)](),_0x531b6c=_0x2140ea[_0x3adf60(0x1f7)][_0x3adf60(0x208)](_0x1ea3b2);if(_0x531b6c[_0x3adf60(0x1bb)](!0x0),_0x38a8b6){if(_0x38a8b6 instanceof _0x495fa6)return _0x38a8b6;let _0xe7c74=[];for(const _0xfcedb3 of _0x38a8b6)_0xe7c74[_0x3adf60(0x1df)](...F(_0xfcedb3[_0x3adf60(0x1d0)]()));_0xe7c74=function(_0x19b674){const _0xb0870d=_0x3adf60,_0x742c3e=[];let _0x53a51d=_0x19b674[0x0];for(let _0x296a39=0x1;_0x296a39<_0x19b674[_0xb0870d(0x1b3)];_0x296a39++)P(_0x53a51d,_0x19b674[_0x296a39])?_0x53a51d[_0xb0870d(0x1d1)]+=_0x19b674[_0x296a39][_0xb0870d(0x1d1)]:(_0x742c3e[_0xb0870d(0x1df)](_0x53a51d),_0x53a51d=_0x19b674[_0x296a39]);return _0x742c3e[_0xb0870d(0x1df)](_0x53a51d),_0x742c3e;}(_0xe7c74);const _0x2b1668=_0x531b6c[_0x3adf60(0x1dc)]();return _0xe7c74[_0x3adf60(0x1a5)](_0x2a2a3e=>_0x2a2a3e[_0x3adf60(0x1a9)]<=_0x2b1668[_0x3adf60(0x1a9)]&&_0x2a2a3e[_0x3adf60(0x1b9)]>=_0x2b1668[_0x3adf60(0x1b9)]&&_0x2a2a3e[_0x3adf60(0x200)]<=_0x2b1668[_0x3adf60(0x200)]&&_0x2a2a3e[_0x3adf60(0x1db)]>=_0x2b1668[_0x3adf60(0x1db)])||_0xe7c74[0x0];}return _0x123490[_0x3adf60(0x1f0)]||_0x531b6c;}[_0x920ce0(0x1ff)](_0x14af54){const _0x4f5b83=_0x920ce0;this[_0x4f5b83(0x1c9)][_0x4f5b83(0x1dd)](_0x14af54)&&this[_0x4f5b83(0x1e7)][_0x4f5b83(0x1a8)](_0x14af54[_0x4f5b83(0x1b2)])&&(this[_0x4f5b83(0x1c9)][_0x4f5b83(0x206)](_0x14af54),this[_0x4f5b83(0x1e7)][_0x4f5b83(0x1d9)](_0x14af54[_0x4f5b83(0x1b2)]));}[_0x920ce0(0x1cf)](_0x33af15){const _0x28a502=_0x920ce0;this[_0x28a502(0x1d5)][_0x28a502(0x1da)](_0x33af15),this[_0x28a502(0x1ff)](_0x33af15);}}function F(_0x3a6394){const _0x3a1f62=_0x920ce0;return Array[_0x3a1f62(0x207)](_0x3a6394)[_0x3a1f62(0x1ad)](DOMRect[_0x3a1f62(0x201)]);}function P(_0x363f37,_0x1ba941){const _0x5ad330=_0x920ce0;return _0x363f37[_0x5ad330(0x1a9)]===_0x1ba941[_0x5ad330(0x1a9)]&&_0x363f37[_0x5ad330(0x1b9)]===_0x1ba941[_0x5ad330(0x1b9)]&&_0x363f37[_0x5ad330(0x1db)]===_0x1ba941[_0x5ad330(0x200)];}