/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x569e40=_0x46fe;(function(_0x49ca5c,_0xc7ef4f){const _0x2523da=_0x46fe,_0x2b3c58=_0x49ca5c();while(!![]){try{const _0x2877a0=-parseInt(_0x2523da(0x20c))/0x1+parseInt(_0x2523da(0x1ee))/0x2*(parseInt(_0x2523da(0x1ef))/0x3)+parseInt(_0x2523da(0x1e4))/0x4+-parseInt(_0x2523da(0x1cd))/0x5*(-parseInt(_0x2523da(0x1b9))/0x6)+parseInt(_0x2523da(0x1fa))/0x7*(parseInt(_0x2523da(0x1c1))/0x8)+-parseInt(_0x2523da(0x1c9))/0x9+parseInt(_0x2523da(0x1e0))/0xa;if(_0x2877a0===_0xc7ef4f)break;else _0x2b3c58['push'](_0x2b3c58['shift']());}catch(_0x387777){_0x2b3c58['push'](_0x2b3c58['shift']());}}}(_0x19ed,0x925b0));import{ContextPlugin as _0x1f1f40}from'ckeditor5/src/core.js';function _0x46fe(_0x34998e,_0x28dce7){const _0x19edd9=_0x19ed();return _0x46fe=function(_0x46fe09,_0x5ec945){_0x46fe09=_0x46fe09-0x1b2;let _0x3d03bb=_0x19edd9[_0x46fe09];return _0x3d03bb;},_0x46fe(_0x34998e,_0x28dce7);}import{CKEditorError as _0x43ae44,Collection as _0x56a171}from'ckeditor5/src/utils.js';import{clickOutsideHandler as _0x196dab,BalloonPanelView as _0x26de97,BodyCollection as _0x4a5dfd}from'ckeditor5/src/ui.js';import{isElement as _0xfb4aa4}from'es-toolkit/compat';import{Sessions as _0x587276}from'../realtimecollaborativeediting/sessions.js';import{PresenceListView as _0x12201e}from'./view/presencelistview.js';import{PresenceCounterView as _0x4750bc}from'./view/presencecounterview.js';function _0x19ed(){const _0x347e94=['element','4nvsCQO','1256529HkQrfG','map','isMe','min','counterView','unpin','join','isVisible','detachFromDom','presencelist:hide','hideDropdown','7HaNoPv','filter','balloonPanelView','execute','body','displayMe','focusTracker','appendChild','destroy','remove','activeElement','from','length','Shift+Tab','pin','using','isRendered',':not([disabled]):not([tabindex=\x22-1\x22])','1189571MJdDrn','hasTooltip','isPremiumPlugin','allConnectedUsers','tabIndex','ck\x20ck-presence-list__balloon','number','_bodyCollection','presenceDropdownView','plugins','_handleUserRemove','Tab','presenceList.container','get','currentDisplayedUsers','onClick','items','view','init','requires','showDropdown','input','find','bind','30VHMvqY','define','context','config','presenceList.collapseAt','querySelectorAll','usersCount','_createView','206120mSddjL','indexOf','bindTo','PresenceListUI','textarea','change:isFocused','presencelist-collapseat-invalid-format','presenceList','3740562jUHGND','class','set','select','673315ComogW','sort','inlineListView','content','_handleUserAdd','render','keystrokes','_allConnectedUsers','isOfficialPlugin','reverse','presencelist:show','attachToDom','offsetHeight','isExpanded','[tabindex]','presenceList.displayMe','[contenteditable]','button','isFocusable','1669730xlOjYY','Enter','offsetWidth','Esc','2003688vSyYTz','pluginName','checkIfScrollable','listenTo','focus','presencelist-missing-container','add','locale','isCollapsed'];_0x19ed=function(){return _0x347e94;};return _0x19ed();}import{PresenceDropdownListView as _0x5e5930}from'./view/presencedropdownlistview.js';import{PresenceDropdownListItemView as _0x48b71e}from'./view/presencedropdownlistitemview.js';import{PresenceInlineListItemView as _0x4bfddd}from'./view/presenceinlinelistitemview.js';const U={'collapseAt':0x6,'displayMe':!0x0};export class PresenceListUI extends _0x1f1f40{[_0x569e40(0x21a)];[_0x569e40(0x1fc)];[_0x569e40(0x1b2)];[_0x569e40(0x214)];[_0x569e40(0x213)]=null;static get[_0x569e40(0x1e5)](){const _0x2a1b53=_0x569e40;return _0x2a1b53(0x1c4);}static get[_0x569e40(0x1d5)](){return!0x0;}static get[_0x569e40(0x20e)](){return!0x0;}constructor(_0x299fd2){const _0x208677=_0x569e40;super(_0x299fd2),this[_0x208677(0x1bb)][_0x208677(0x1bc)][_0x208677(0x1ba)](_0x208677(0x1c8),U);const _0x523e36=_0x299fd2[_0x208677(0x1bc)][_0x208677(0x219)](_0x208677(0x1bd));if(_0x208677(0x212)!=typeof _0x523e36)throw new _0x43ae44(_0x208677(0x1c7),this);if(_0x523e36<0x1)throw new _0x43ae44(_0x208677(0x1c7),this);this[_0x208677(0x1d4)]=this[_0x208677(0x1bb)][_0x208677(0x215)][_0x208677(0x219)](_0x587276)[_0x208677(0x20f)],this[_0x208677(0x1cb)](_0x208677(0x1bf),0x0),this[_0x208677(0x21a)]=new _0x56a171(),this[_0x208677(0x1fc)]=new _0x26de97(),this[_0x208677(0x1fc)][_0x208677(0x1ca)]=_0x208677(0x211),this[_0x208677(0x1b2)]=this[_0x208677(0x1c0)](),this[_0x208677(0x214)]=void 0x0;}static get[_0x569e40(0x1b4)](){return[_0x587276];}[_0x569e40(0x1b3)](){const _0x20a164=_0x569e40;for(const _0x51728b of this[_0x20a164(0x1d4)])this[_0x20a164(0x1d1)](_0x51728b);this[_0x20a164(0x1e7)](this[_0x20a164(0x1d4)],_0x20a164(0x1ea),(_0x4a5059,_0x13ad85)=>{const _0x17f44f=_0x20a164;this[_0x17f44f(0x1d1)](_0x13ad85);}),this[_0x20a164(0x1e7)](this[_0x20a164(0x1d4)],_0x20a164(0x203),(_0x5ed467,_0x107fee)=>{const _0x328cca=_0x20a164;this[_0x328cca(0x216)](_0x107fee);});}[_0x569e40(0x1c0)](){const _0xb7c349=_0x569e40,_0x591d2c=this[_0xb7c349(0x1bb)],_0x2c986e=new _0x12201e(this[_0xb7c349(0x1bb)][_0xb7c349(0x1eb)],this[_0xb7c349(0x1bb)][_0xb7c349(0x1bc)][_0xb7c349(0x219)](_0xb7c349(0x1bd))),_0x100611=this[_0xb7c349(0x1fc)];if(!_0xfb4aa4(_0x591d2c[_0xb7c349(0x1bc)][_0xb7c349(0x219)](_0xb7c349(0x218))))throw new _0x43ae44(_0xb7c349(0x1e9),this);return _0x2c986e[_0xb7c349(0x1f3)][_0xb7c349(0x1b8)](_0xb7c349(0x1bf))['to'](this),_0x2c986e[_0xb7c349(0x1b8)](_0xb7c349(0x1ec))['to'](this,_0xb7c349(0x1bf),_0x19c42e=>{const _0x52aec9=_0xb7c349,{collapseAt:_0x299f49}=_0x591d2c[_0x52aec9(0x1bc)][_0x52aec9(0x219)](_0x52aec9(0x1c8)),_0x469ddd=_0x19c42e>=_0x299f49;if(_0x469ddd&&!_0x2c986e[_0x52aec9(0x1cf)][_0x52aec9(0x21c)][_0x52aec9(0x1b7)](_0x401193=>_0x401193 instanceof _0x4750bc)){const _0x99d3de=this[_0x52aec9(0x1bb)][_0x52aec9(0x1bc)][_0x52aec9(0x219)](_0x52aec9(0x1bd))-0x1;this[_0x52aec9(0x21a)][_0x52aec9(0x206)]==_0x99d3de&&this[_0x52aec9(0x21a)][_0x52aec9(0x206)]>0x1&&this[_0x52aec9(0x21a)][_0x52aec9(0x203)](this[_0x52aec9(0x21a)][_0x52aec9(0x206)]-0x1),_0x2c986e[_0x52aec9(0x1cf)][_0x52aec9(0x21c)][_0x52aec9(0x1ea)](_0x2c986e[_0x52aec9(0x1f3)]);}return _0x469ddd||this[_0x52aec9(0x1f9)](),_0x469ddd;}),_0x2c986e[_0xb7c349(0x1cf)][_0xb7c349(0x21c)][_0xb7c349(0x1c3)](this[_0xb7c349(0x21a)])[_0xb7c349(0x209)](_0x216a29=>{const _0x3caada=_0xb7c349,_0x3313ba=_0x591d2c[_0x3caada(0x1bc)][_0x3caada(0x219)](_0x3caada(0x1c8)),_0x316867=new _0x4bfddd(_0x591d2c[_0x3caada(0x1eb)],_0x216a29,!!_0x3313ba[_0x3caada(0x21b)]);return _0x316867[_0x3caada(0x1b8)](_0x3caada(0x20d))['to'](_0x2c986e,_0x3caada(0x1ec),_0x43374a=>!_0x43374a),_0x316867[_0x3caada(0x1b8)](_0x3caada(0x1df))['to'](_0x2c986e,_0x3caada(0x1ec),_0x3943eb=>!_0x3943eb),_0x3313ba[_0x3caada(0x21b)]&&this[_0x3caada(0x1e7)](_0x316867,_0x3caada(0x1fd),()=>{const _0x54f7fa=_0x3caada;this[_0x54f7fa(0x1b2)][_0x54f7fa(0x1ec)]||_0x3313ba[_0x54f7fa(0x21b)](_0x216a29,_0x316867[_0x54f7fa(0x1ed)]);}),_0x316867;}),this[_0xb7c349(0x1e7)](_0x2c986e[_0xb7c349(0x1cf)],_0xb7c349(0x1d7),()=>{const _0x2cb613=_0xb7c349;this[_0x2cb613(0x1b2)][_0x2cb613(0x1ec)]&&this[_0x2cb613(0x1b5)]();}),this[_0xb7c349(0x1e7)](_0x2c986e[_0xb7c349(0x1cf)],_0xb7c349(0x1f8),()=>{const _0x50f4ec=_0xb7c349;this[_0x50f4ec(0x214)]&&this[_0x50f4ec(0x1f9)]();}),_0x2c986e[_0xb7c349(0x1cf)][_0xb7c349(0x1d3)][_0xb7c349(0x1cb)](_0xb7c349(0x1e1),(_0x128847,_0x3a3583)=>{const _0x4d94b7=_0xb7c349;this[_0x4d94b7(0x1b2)][_0x4d94b7(0x1ec)]&&(this[_0x4d94b7(0x1b5)](),_0x3a3583());}),_0x2c986e[_0xb7c349(0x1d2)](),_0x100611[_0xb7c349(0x1d2)](),_0x196dab({'emitter':_0x2c986e,'activator':()=>_0x100611[_0xb7c349(0x1f6)],'contextElements':[_0x100611[_0xb7c349(0x1ed)],_0x2c986e[_0xb7c349(0x1cf)][_0xb7c349(0x1ed)]],'callback':()=>this[_0xb7c349(0x1f9)]()}),_0x591d2c[_0xb7c349(0x1bc)][_0xb7c349(0x219)](_0xb7c349(0x218))[_0xb7c349(0x201)](_0x2c986e[_0xb7c349(0x1ed)]),this[_0xb7c349(0x213)]=new _0x4a5dfd(this[_0xb7c349(0x1bb)][_0xb7c349(0x1eb)]),this[_0xb7c349(0x213)][_0xb7c349(0x1d8)](),this[_0xb7c349(0x213)][_0xb7c349(0x1ea)](this[_0xb7c349(0x1fc)]),_0x2c986e;}[_0x569e40(0x1d1)](_0x18fa04){const _0x2c377c=_0x569e40;if(!this[_0x2c377c(0x1bb)][_0x2c377c(0x1bc)][_0x2c377c(0x219)](_0x2c377c(0x1dc))&&_0x18fa04[_0x2c377c(0x1f1)])return;const _0x4f7227=this[_0x2c377c(0x1bb)][_0x2c377c(0x1bc)][_0x2c377c(0x219)](_0x2c377c(0x1bd))-0x1;for(this[_0x2c377c(0x1bf)]++;this[_0x2c377c(0x21a)][_0x2c377c(0x206)]>=_0x4f7227-(this[_0x2c377c(0x1b2)][_0x2c377c(0x1ec)]?0x1:0x0)&&this[_0x2c377c(0x21a)][_0x2c377c(0x206)]>0x1;)this[_0x2c377c(0x21a)][_0x2c377c(0x203)](0x1);const _0x3d5232=_0x18fa04[_0x2c377c(0x1f1)]?0x0:this[_0x2c377c(0x21a)][_0x2c377c(0x206)];this[_0x2c377c(0x21a)][_0x2c377c(0x1ea)](_0x18fa04,_0x3d5232);}[_0x569e40(0x216)](_0x1941f9){const _0x28b9c6=_0x569e40;this[_0x28b9c6(0x1bf)]--;const {collapseAt:_0x177fd3}=this[_0x28b9c6(0x1bb)][_0x28b9c6(0x1bc)][_0x28b9c6(0x219)](_0x28b9c6(0x1c8)),_0x52a809=this[_0x28b9c6(0x1bf)]>=_0x177fd3;if(this[_0x28b9c6(0x21a)][_0x28b9c6(0x219)](_0x1941f9['id']))this[_0x28b9c6(0x21a)][_0x28b9c6(0x203)](_0x1941f9['id']);else{if(_0x52a809&&this[_0x28b9c6(0x21a)][_0x28b9c6(0x206)]+0x1===_0x177fd3-0x1)return;}if(this[_0x28b9c6(0x21a)][_0x28b9c6(0x206)]+(_0x52a809?0x1:0x0)<this[_0x28b9c6(0x1bf)]){for(const _0x5cd7e7 of Array[_0x28b9c6(0x205)](this[_0x28b9c6(0x1d4)])[_0x28b9c6(0x1d6)]())if(!this[_0x28b9c6(0x21a)][_0x28b9c6(0x219)](_0x5cd7e7['id'])&&(this[_0x28b9c6(0x21a)][_0x28b9c6(0x1ea)](_0x5cd7e7,Math[_0x28b9c6(0x1f2)](this[_0x28b9c6(0x21a)][_0x28b9c6(0x206)]-(_0x52a809?0x1:0x0),0x1)),this[_0x28b9c6(0x21a)][_0x28b9c6(0x206)]+(_0x52a809?0x1:0x0)===_0x177fd3-0x1))return;}}[_0x569e40(0x1b5)](){const _0x591c40=_0x569e40;if(this[_0x591c40(0x214)])return;const _0x2f3c8f=this[_0x591c40(0x1bb)][_0x591c40(0x1bc)][_0x591c40(0x219)](_0x591c40(0x1c8));this[_0x591c40(0x214)]=new _0x5e5930(this[_0x591c40(0x1bb)][_0x591c40(0x1eb)],!!_0x2f3c8f[_0x591c40(0x21b)]),this[_0x591c40(0x1b2)][_0x591c40(0x1cf)][_0x591c40(0x1da)]=!0x0,this[_0x591c40(0x1e7)](this[_0x591c40(0x214)],_0x591c40(0x1f8),()=>{const _0x74c8e9=_0x591c40;this[_0x74c8e9(0x214)]&&this[_0x74c8e9(0x1f9)]();});const {listWrapperView:_0x20de58}=this[_0x591c40(0x214)];_0x20de58[_0x591c40(0x21c)][_0x591c40(0x1c3)](this[_0x591c40(0x1d4)])[_0x591c40(0x209)](_0x146326=>{const _0xff2c19=_0x591c40;if(!_0x2f3c8f[_0xff2c19(0x1ff)]&&_0x146326[_0xff2c19(0x1f1)])return null;const _0x2b8414=new _0x48b71e(this[_0xff2c19(0x1bb)][_0xff2c19(0x1eb)],_0x146326,!!_0x2f3c8f[_0xff2c19(0x21b)]);return _0x2f3c8f[_0xff2c19(0x21b)]&&this[_0xff2c19(0x1e7)](_0x2b8414,_0xff2c19(0x1fd),()=>{const _0x51a80a=_0xff2c19;_0x2f3c8f[_0x51a80a(0x21b)](_0x146326,_0x2b8414[_0x51a80a(0x1ed)]);}),_0x2b8414;}),this[_0x591c40(0x1fc)][_0x591c40(0x1d0)][_0x591c40(0x1ea)](this[_0x591c40(0x214)]),this[_0x591c40(0x1fc)][_0x591c40(0x208)]({'target':this[_0x591c40(0x1b2)][_0x591c40(0x1cf)][_0x591c40(0x1ed)]}),_0x20de58[_0x591c40(0x1e8)](),_0x20de58[_0x591c40(0x1e6)]();const _0x490d7a=(_0x5ed753,_0x157aac)=>{const _0x3ba595=_0x591c40;this[_0x3ba595(0x1f9)](),this[_0x3ba595(0x1b2)][_0x3ba595(0x1cf)][_0x3ba595(0x1e8)](),_0x157aac();};_0x20de58[_0x591c40(0x1d3)][_0x591c40(0x1cb)](_0x591c40(0x1e3),_0x490d7a),_0x20de58[_0x591c40(0x1d3)][_0x591c40(0x1cb)](_0x591c40(0x207),_0x490d7a),_0x20de58[_0x591c40(0x1d3)][_0x591c40(0x1cb)](_0x591c40(0x217),(_0x5db36e,_0x28fc87)=>{const _0x577580=_0x591c40;!function(_0x555cf4){const _0x18a571=_0x46fe,_0x1ef808=['a',_0x18a571(0x1de),_0x18a571(0x1b6),_0x18a571(0x1cc),_0x18a571(0x1c5),_0x18a571(0x1db),_0x18a571(0x1dd)][_0x18a571(0x1f0)](_0x1afcb5=>_0x1afcb5+_0x18a571(0x20b))[_0x18a571(0x1f5)](','),_0x150346=[...document[_0x18a571(0x1fe)][_0x18a571(0x1be)](_0x1ef808)][_0x18a571(0x1fb)](_0x4aff12=>_0x4aff12===document[_0x18a571(0x204)]||_0x4aff12[_0x18a571(0x1e2)]+_0x4aff12[_0x18a571(0x1d9)]>0x0)[_0x18a571(0x1ce)]((_0x47eb4a,_0x2fde19)=>(_0x47eb4a[_0x18a571(0x210)]||0x0)-(_0x2fde19[_0x18a571(0x210)]||0x0)),_0x4e97f8=_0x150346[_0x18a571(0x1c2)](_0x555cf4),_0x1b3107=_0x150346[(_0x4e97f8+0x1)%_0x150346[_0x18a571(0x206)]];_0x1b3107&&_0x1b3107[_0x18a571(0x1e8)]();}(this[_0x577580(0x1b2)][_0x577580(0x1ed)]),this[_0x577580(0x1f9)](),_0x28fc87();}),_0x20de58[_0x591c40(0x200)][_0x591c40(0x1ea)](this[_0x591c40(0x1b2)][_0x591c40(0x1ed)]),_0x20de58[_0x591c40(0x200)]['on'](_0x591c40(0x1c6),(_0x2a37e8,_0x4b30ad,_0x4631aa)=>{const _0x5207d0=_0x591c40;_0x4631aa||this[_0x5207d0(0x1f9)]();});}[_0x569e40(0x1f9)](){const _0x1a0449=_0x569e40;this[_0x1a0449(0x214)]&&(this[_0x1a0449(0x1b2)][_0x1a0449(0x1cf)][_0x1a0449(0x1da)]=!0x1,this[_0x1a0449(0x1fc)][_0x1a0449(0x1f4)](),this[_0x1a0449(0x1fc)][_0x1a0449(0x1d0)][_0x1a0449(0x203)](this[_0x1a0449(0x214)]),this[_0x1a0449(0x214)][_0x1a0449(0x202)](),this[_0x1a0449(0x214)]=void 0x0);}[_0x569e40(0x202)](){const _0x4ea562=_0x569e40;super[_0x4ea562(0x202)](),this[_0x4ea562(0x1b2)]&&this[_0x4ea562(0x1b2)][_0x4ea562(0x20a)]&&this[_0x4ea562(0x1b2)][_0x4ea562(0x202)](),this[_0x4ea562(0x213)]&&(this[_0x4ea562(0x213)][_0x4ea562(0x1f7)](),this[_0x4ea562(0x213)][_0x4ea562(0x202)](),this[_0x4ea562(0x213)]=null);}}