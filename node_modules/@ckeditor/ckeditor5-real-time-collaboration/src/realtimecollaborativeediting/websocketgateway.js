/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x3f0cef=_0x3571;function _0x29ed(){const _0x1b21f9=['token','plugins','websocketgateway-missing-token','CONNECTED','_isBrowserOffline','error','1896aziQPS','websocketgateway-invalid-plugin-interface','state','cloudServices.connectionTimeout','1873044LyMJqm','19313dBoqED','connect','WebSocketGateway','4332456Husdcj','577424yptxCl','constructor','cloudservices-reconnection-error','CONNECTING','bind','websocketgateway-plugin-already-registered','DISCONNECTED','pluginName','224RQtyOI','CloudServices','listenTo','context','reconnect','offline','then','showWarning','init','delete','2447JMbeBU','real-time-collaboration','define','isPremiumPlugin','disconnect','limitExceeded','connection','code','webSocketUrl','isInReconnectionStack','connected','cloudServices.requestTimeout','stopListening','config','Connected\x20users\x20limit\x20exceeded','isOfficialPlugin','from','change:me','_domEmitter','cloudservices-init','get','_reconnect','function','The\x20limit\x20of\x20maximum\x20concurrent\x20connections\x20that\x20the\x20collaboration\x20server\x20can\x20handle\x20has\x20been\x20reached.\x20Try\x20opening\x20the\x20document\x20again\x20in\x20a\x20few\x20minutes.\x20Please\x20contact\x20your\x20system\x20administrator\x20if\x20the\x20problem\x20persists.','online','2265295ktdAzp','websocketgateway-missing-websocket-url','catch','_shouldPluginsReconnect','_reconnectionStack','has','requires','1581804GigZBv','initialReconnectionInterval','all','addToReconnectionStack','destroy','add','removeFromReconnectionStack','set'];_0x29ed=function(){return _0x1b21f9;};return _0x29ed();}(function(_0x47db0f,_0x362a72){const _0x380a83=_0x3571,_0x4a0dc4=_0x47db0f();while(!![]){try{const _0x530fac=-parseInt(_0x380a83(0xef))/0x1*(-parseInt(_0x380a83(0xe5))/0x2)+-parseInt(_0x380a83(0xd8))/0x3+-parseInt(_0x380a83(0xdd))/0x4+-parseInt(_0x380a83(0x108))/0x5+parseInt(_0x380a83(0x10f))/0x6+parseInt(_0x380a83(0xd9))/0x7*(parseInt(_0x380a83(0x11d))/0x8)+parseInt(_0x380a83(0xdc))/0x9;if(_0x530fac===_0x362a72)break;else _0x4a0dc4['push'](_0x4a0dc4['shift']());}catch(_0x44c794){_0x4a0dc4['push'](_0x4a0dc4['shift']());}}}(_0x29ed,0x6e282));import{ContextPlugin as _0x427c17}from'ckeditor5/src/core.js';import{DomEmitterMixin as _0x20712f,CKEditorError as _0x5876f4}from'ckeditor5/src/utils.js';function _0x3571(_0x4fcdae,_0x525d94){const _0x29edb7=_0x29ed();return _0x3571=function(_0x3571c0,_0x4a5900){_0x3571c0=_0x3571c0-0xd6;let _0x31460e=_0x29edb7[_0x3571c0];return _0x31460e;},_0x3571(_0x4fcdae,_0x525d94);}import{WebSocketGateway as _0x2a1646,WEB_SOCKET_GATEWAY_STATES as _0x498221}from'@ckeditor/ckeditor-cloud-services-collaboration/src/services.js';import{Notification as _0x13ae0a}from'ckeditor5/src/ui.js';export class WebSocketGateway extends _0x427c17{static [_0x3f0cef(0xdb)]=/* #__PURE__ -- @preserve */
((()=>_0x2a1646)());static [_0x3f0cef(0x110)]=0x3e8;[_0x3f0cef(0xf5)];[_0x3f0cef(0x10c)];[_0x3f0cef(0x10b)];[_0x3f0cef(0x101)];static get[_0x3f0cef(0x10e)](){const _0x509bed=_0x3f0cef;return[_0x509bed(0xe6),_0x13ae0a];}static get[_0x3f0cef(0xe4)](){const _0x5330f0=_0x3f0cef;return _0x5330f0(0xdb);}static get[_0x3f0cef(0xfe)](){return!0x0;}static get[_0x3f0cef(0xf2)](){return!0x0;}constructor(_0x2ba906){const _0x365204=_0x3f0cef;super(_0x2ba906),this[_0x365204(0x116)](_0x365204(0xd6),_0x498221[_0x365204(0x11a)]),this[_0x365204(0x116)](_0x365204(0x11b),!0x1),this[_0x365204(0x10c)]=new Set(),this[_0x365204(0x10b)]=!0x1,this[_0x365204(0x101)]=new(_0x20712f())();}[_0x3f0cef(0xed)](){const _0x2d394e=_0x3f0cef,_0x4517ed=this[_0x2d394e(0xe8)],_0x3d7b1c=_0x4517ed[_0x2d394e(0x118)][_0x2d394e(0x103)](_0x2d394e(0xe6)),_0x1810e0=_0x4517ed[_0x2d394e(0x118)][_0x2d394e(0x103)](_0x13ae0a);if(!_0x3d7b1c[_0x2d394e(0x117)])throw new _0x5876f4(_0x2d394e(0x119),this);if(!_0x3d7b1c[_0x2d394e(0xf7)])throw new _0x5876f4(_0x2d394e(0x109),this);return this[_0x2d394e(0x101)][_0x2d394e(0xe7)](window,_0x2d394e(0xea),()=>this[_0x2d394e(0x11b)]=!0x0),this[_0x2d394e(0x101)][_0x2d394e(0xe7)](window,_0x2d394e(0x107),()=>this[_0x2d394e(0x11b)]=!0x1),this[_0x2d394e(0xe8)][_0x2d394e(0xfc)][_0x2d394e(0xf1)](_0x2d394e(0xd7),0xa),this[_0x2d394e(0xe8)][_0x2d394e(0xfc)][_0x2d394e(0xf1)](_0x2d394e(0xfa),0x14),WebSocketGateway[_0x2d394e(0xdb)][_0x2d394e(0xda)](_0x3d7b1c[_0x2d394e(0x117)],_0x3d7b1c[_0x2d394e(0xf7)],{'timeout':0x3e8*this[_0x2d394e(0xe8)][_0x2d394e(0xfc)][_0x2d394e(0x103)](_0x2d394e(0xd7)),'requestTimeout':0x3e8*this[_0x2d394e(0xe8)][_0x2d394e(0xfc)][_0x2d394e(0x103)](_0x2d394e(0xfa))})[_0x2d394e(0xeb)](_0x5bd212=>{const _0x4966e0=_0x2d394e;if(this[_0x4966e0(0xf5)]=_0x5bd212,this[_0x4966e0(0xe1)](_0x4966e0(0xd6))['to'](_0x5bd212,_0x4966e0(0xd6),this,_0x4966e0(0x11b),(_0xdad7de,_0x22b664)=>(_0x4966e0(0xf9)!==_0xdad7de&&(this[_0x4966e0(0x10b)]=!0x0),_0x22b664||_0xdad7de!==_0x498221[_0x4966e0(0x11a)]?_0x498221[_0x4966e0(0xe3)]:this[_0x4966e0(0xd6)]==_0x498221[_0x4966e0(0xe3)]&&this[_0x4966e0(0x10b)]?(this[_0x4966e0(0x10b)]=!0x1,this[_0x4966e0(0x104)](),_0x498221[_0x4966e0(0xe0)]):_0x498221[_0x4966e0(0x11a)])),this[_0x4966e0(0xf5)]['on'](_0x4966e0(0x11c),(_0x2411c8,_0x4d1797)=>{const _0x3db2f1=_0x4966e0;if(_0x3db2f1(0xf4)!==_0x4d1797[_0x3db2f1(0xf6)])throw console[_0x3db2f1(0x11c)](_0x4d1797),new _0x5876f4(_0x3db2f1(0x102),null,{'originalError':_0x4d1797});_0x1810e0[_0x3db2f1(0xec)](_0x3db2f1(0x106),{'title':_0x3db2f1(0xfd),'namespace':_0x3db2f1(0xf0)});}),!_0x5bd212['me'])return new Promise(_0x3401fc=>_0x5bd212['on'](_0x4966e0(0x100),_0x3401fc));})[_0x2d394e(0x10a)](_0x55a9e9=>{const _0x433c8d=_0x2d394e;throw console[_0x433c8d(0x11c)](_0x55a9e9),new _0x5876f4(_0x433c8d(0x102),null,{'originalError':_0x55a9e9});});}[_0x3f0cef(0x112)](_0x1525d4){const _0x3512bd=_0x3f0cef;if(_0x3512bd(0x105)!=typeof _0x1525d4[_0x3512bd(0xe9)])throw new _0x5876f4(_0x3512bd(0x11e),this);if(this[_0x3512bd(0xf8)](_0x1525d4))throw new _0x5876f4(_0x3512bd(0xe2),this,{'name':_0x1525d4[_0x3512bd(0xde)][_0x3512bd(0xe4)]});this[_0x3512bd(0x10c)][_0x3512bd(0x114)](_0x1525d4);}[_0x3f0cef(0x115)](_0x5a17f7){const _0x1b160d=_0x3f0cef;this[_0x1b160d(0x10c)][_0x1b160d(0xee)](_0x5a17f7);}[_0x3f0cef(0xf8)](_0x333383){const _0x379681=_0x3f0cef;return this[_0x379681(0x10c)][_0x379681(0x10d)](_0x333383);}[_0x3f0cef(0x104)](){const _0x3a9ab1=_0x3f0cef;return this[_0x3a9ab1(0xf5)][_0x3a9ab1(0xe9)]()[_0x3a9ab1(0xeb)](()=>Promise[_0x3a9ab1(0x111)](Array[_0x3a9ab1(0xff)](this[_0x3a9ab1(0x10c)],_0x29c893=>_0x29c893[_0x3a9ab1(0xe9)]())))[_0x3a9ab1(0xeb)](()=>this[_0x3a9ab1(0xd6)]=_0x498221[_0x3a9ab1(0x11a)])[_0x3a9ab1(0x10a)](_0x31294e=>{const _0x412ad7=_0x3a9ab1;throw console[_0x412ad7(0x11c)](_0x31294e),new _0x5876f4(_0x412ad7(0xdf),this[_0x412ad7(0xe8)]);});}[_0x3f0cef(0xf3)](){const _0x12700e=_0x3f0cef;this[_0x12700e(0xf5)]&&this[_0x12700e(0xf5)][_0x12700e(0xf3)](),this[_0x12700e(0xd6)]=_0x498221[_0x12700e(0xe3)],this[_0x12700e(0x101)][_0x12700e(0xfb)]();}[_0x3f0cef(0x113)](){const _0xfd88ab=_0x3f0cef;this[_0xfd88ab(0xf3)](),super[_0xfd88ab(0x113)]();}}