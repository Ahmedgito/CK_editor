/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x45b43e=_0x3d0c;(function(_0x547831,_0xadbe2){const _0x1a3e80=_0x3d0c,_0x361a85=_0x547831();while(!![]){try{const _0x1d71d8=parseInt(_0x1a3e80(0xc4))/0x1+parseInt(_0x1a3e80(0xeb))/0x2+-parseInt(_0x1a3e80(0xc0))/0x3+-parseInt(_0x1a3e80(0x88))/0x4+-parseInt(_0x1a3e80(0x8a))/0x5*(parseInt(_0x1a3e80(0xd2))/0x6)+parseInt(_0x1a3e80(0xa6))/0x7+parseInt(_0x1a3e80(0xac))/0x8;if(_0x1d71d8===_0xadbe2)break;else _0x361a85['push'](_0x361a85['shift']());}catch(_0x1a98c1){_0x361a85['push'](_0x361a85['shift']());}}}(_0x4e18,0xd3e0f));import{Plugin as _0x1dc661}from'ckeditor5/src/core.js';import{global as _0x4cd33d,DomEmitterMixin as _0x2e0f01}from'ckeditor5/src/utils.js';function _0x4e18(){const _0x4d63a7=['2681928bCeGns','user:','enqueueChange','oldRange','isOfficialPlugin','tableCell','editor','change','commands','nodeAfter','start','markerToElement','model','createRange','getContainedElement','toRange','_domEmitter','textContent','removeClass','user:range','5174235kpbGkq','userPositionMarker','clear','stopListening','459299yCrCth','markerName','span','mouseleave','selection','mySessionId','parent','mapper','setCustomProperty','$text','removeMarker','UserMarkers','isPremiumPlugin','reconvertMarker','229926cLmdrG','batch','requires','newRange','ck-user__marker-tooltip','document','update:user:range','color','editing','undo','createUserMarkerOperations','pluginName','size','set','deletionPosition','$graveyard','mouseenter','isInline','marker','getMarkerClass','toDomElement','markerRange','contenteditable','data-session-id','rootName','3015560bWaZKg','root','keydown','has','getCustomProperty','_createdBatches','spellcheck','hasContent','change:range','setAttribute','add','isObject','isDocumentOperation','view','markers','getFirstRange','remove','⁠<span\x20class=\x22ck-user__marker-line\x22\x20contenteditable=\x22false\x22><span\x20class=\x22ck-user__marker-dot\x22></span></span>','conversion','destroy','isLimit','detach','split','getUserBySessionId','highest','isCollapsed','classList','orderNumber','delete','ck-user__marker_hovered','editingDowncast','getStart','end','startsWith','user:position','updateMarker','createUIElement','getSelectionClass','2899300xHhSIv','afterInit','85EOcHkW','ck-user__marker\x20','hasDomSelection','addEventListener','getAttribute','type','user:position:','createElement','schema','markerNameToElements','addMarker','user:range:','innerHTML','for','ck-user__selection','render','name','element','isSimilar','getRange','checkChild','init','applyOperation','plugins','false','getNearestSelectionRange','markerToHighlight','getPositions','11665934DZCOIz','outerHTML','Escape','fromRange','get','listenTo'];_0x4e18=function(){return _0x4d63a7;};return _0x4e18();}import{Sessions as _0x379960}from'./sessions.js';import{ModelLiveRange as _0x1c7809}from'ckeditor5/src/engine.js';function _0x3d0c(_0x38a043,_0x535d95){const _0x4e185b=_0x4e18();return _0x3d0c=function(_0x3d0cf6,_0x43fb6b){_0x3d0cf6=_0x3d0cf6-0x80;let _0x2d8a8b=_0x4e185b[_0x3d0cf6];return _0x2d8a8b;},_0x3d0c(_0x38a043,_0x535d95);}import'../../theme/usermarkers.css';export class UserMarkers extends _0x1dc661{[_0x45b43e(0xbc)]=new(_0x2e0f01())();static get[_0x45b43e(0xd4)](){return[_0x379960];}static get[_0x45b43e(0xdd)](){const _0x3c0246=_0x45b43e;return _0x3c0246(0xcf);}static get[_0x45b43e(0xb0)](){return!0x0;}static get[_0x45b43e(0xd0)](){return!0x0;}[_0x45b43e(0x9f)](){const _0x2b2796=_0x45b43e,_0x2b85fa=this[_0x2b2796(0xb2)],_0x5783d3=_0x2b85fa[_0x2b2796(0xa1)][_0x2b2796(0xaa)](_0x379960);_0x2b85fa[_0x2b2796(0xfd)][_0x2b2796(0x97)](_0x2b2796(0x80))[_0x2b2796(0xb7)]({'model':_0x2b2796(0x84),'view':(_0x5cfe95,{writer:_0x1b811c})=>function(_0x431e61,_0x32d5bc,_0x10e846,_0xdc5bde){const _0x21cd8a=_0x2b2796,_0xa33d02=_0x431e61[_0x21cd8a(0xc5)][_0x21cd8a(0x101)](':')[0x2],_0x1f7b0b=_0x10e846[_0x21cd8a(0x102)](_0xa33d02);if(!_0x1f7b0b||_0xa33d02===_0x10e846[_0x21cd8a(0xc9)])return;if(!_0xdc5bde[_0x21cd8a(0xb8)][_0x21cd8a(0x92)][_0x21cd8a(0x9e)](_0x431e61[_0x21cd8a(0xe7)][_0x21cd8a(0xb6)],_0x21cd8a(0xcd)))return;const _0x4a61ef={'class':_0x21cd8a(0x8b)+_0x1f7b0b[_0x21cd8a(0xd9)][_0x21cd8a(0xe5)](),'data-name':_0x1f7b0b[_0x21cd8a(0x9a)],'data-session-id':_0xa33d02},_0xf89ff4=_0xdc5bde[_0x21cd8a(0xb8)][_0x21cd8a(0xf9)][_0x21cd8a(0xaa)](_0x431e61[_0x21cd8a(0xc5)]),_0x59d9ff=_0xf89ff4[_0x21cd8a(0x81)](),_0x5ac3ba=_0x59d9ff[_0x21cd8a(0xb5)],_0x2e749b=_0xdc5bde[_0x21cd8a(0xb8)][_0x21cd8a(0x92)];if(_0x5ac3ba&&_0x2e749b[_0x21cd8a(0xf6)](_0x5ac3ba)&&_0x2e749b[_0x21cd8a(0xe3)](_0x5ac3ba)&&!_0xdc5bde[_0x21cd8a(0xb8)][_0x21cd8a(0xf9)][_0x21cd8a(0xaa)](_0x21cd8a(0x95)+_0xa33d02)[_0x21cd8a(0x9d)]()[_0x21cd8a(0x104)])return;const _0xdcb081=_0x59d9ff[_0x21cd8a(0xca)];return _0xdc5bde[_0x21cd8a(0xb8)][_0x21cd8a(0x92)][_0x21cd8a(0xff)](_0xdcb081)&&!_0xdc5bde[_0x21cd8a(0xb8)][_0x21cd8a(0xf2)](_0xdcb081)&&(_0x4a61ef[_0x21cd8a(0xe8)]=!0x1),function(_0x99d1c5,_0x2c87d0,_0x1436f6){const _0x470f39=_0x21cd8a,_0x4efc1f=_0x99d1c5[_0x470f39(0x86)](_0x470f39(0xc6),_0x2c87d0);return _0x99d1c5[_0x470f39(0xcc)](_0x470f39(0xc1),!0x0,_0x4efc1f),_0x4efc1f[_0x470f39(0x99)]=function(_0x489d99){const _0x2f0e67=_0x470f39,_0x182e0c=this[_0x2f0e67(0xe6)](_0x489d99),_0x18df95=document[_0x2f0e67(0x91)](_0x2f0e67(0xc6));return _0x18df95[_0x2f0e67(0x105)][_0x2f0e67(0xf5)](_0x2f0e67(0xd6)),_0x18df95[_0x2f0e67(0xf4)](_0x2f0e67(0xe8),_0x2f0e67(0xa2)),_0x18df95[_0x2f0e67(0xf4)](_0x2f0e67(0xf1),_0x2f0e67(0xa2)),_0x18df95[_0x2f0e67(0xbd)]=_0x1436f6[_0x2f0e67(0x9a)],_0x182e0c[_0x2f0e67(0x96)]=_0x2f0e67(0xfc)+_0x18df95[_0x2f0e67(0xa7)]+'⁠',_0x182e0c[_0x2f0e67(0x8d)](_0x2f0e67(0xe2),()=>{const _0x4309ee=_0x2f0e67;_0x182e0c[_0x4309ee(0x105)][_0x4309ee(0xf5)](_0x4309ee(0x108));}),_0x182e0c[_0x2f0e67(0x8d)](_0x2f0e67(0xc7),()=>{const _0x5ceaca=_0x2f0e67;_0x182e0c[_0x5ceaca(0x105)][_0x5ceaca(0xfb)](_0x5ceaca(0x108));}),_0x182e0c;},_0x4efc1f[_0x470f39(0x9c)]=function(_0x1ceeee){const _0x566f20=_0x470f39;return!(!this[_0x566f20(0xef)](_0x566f20(0xc1))||!_0x1ceeee[_0x566f20(0xef)](_0x566f20(0xc1))||this[_0x566f20(0x8e)](_0x566f20(0xe9))!=_0x1ceeee[_0x566f20(0x8e)](_0x566f20(0xe9)));},_0x4efc1f;}(_0x32d5bc,_0x4a61ef,_0x1f7b0b);}(_0x5cfe95,_0x1b811c,_0x5783d3,_0x2b85fa)}),_0x2b85fa[_0x2b2796(0xfd)][_0x2b2796(0x97)](_0x2b2796(0x80))[_0x2b2796(0xa4)]({'model':_0x2b2796(0xbf),'view':_0x3220e8=>function(_0x133080,_0xee595d){const _0x4b5e09=_0x2b2796,_0x26d6ce=_0x133080[_0x4b5e09(0xc5)][_0x4b5e09(0x101)](':')[0x2];if(_0x26d6ce===_0xee595d[_0x4b5e09(0xc9)])return null;const _0x3b7892=_0xee595d[_0x4b5e09(0x102)](_0x26d6ce);if(!_0x3b7892)return{'id':_0x26d6ce,'classes':[]};return{'id':_0x26d6ce,'classes':[_0x4b5e09(0x98),_0x3b7892[_0x4b5e09(0xd9)][_0x4b5e09(0x87)]()],'attributes':{'data-session-id':_0x26d6ce},'priority':0x7d0+_0x3b7892[_0x4b5e09(0x106)]};}(_0x3220e8,_0x5783d3)}),function(_0xb0e7d2){const _0x2fb7b0=_0x2b2796,_0x53757c=_0xb0e7d2[_0x2fb7b0(0xb8)],_0x15d5a2=new Map(),_0x5a7e6e=_0xb0e7d2[_0x2fb7b0(0xa1)][_0x2fb7b0(0xaa)](_0x379960);_0x53757c[_0x2fb7b0(0xf9)]['on'](_0x2fb7b0(0xd8),(_0x3448ed,_0x1d019d,_0x23a397,_0x44adb2)=>{const _0x380f01=_0x2fb7b0;if(!_0x44adb2&&_0x15d5a2[_0x380f01(0xaa)](_0x1d019d[_0x380f01(0x9a)]))return _0x15d5a2[_0x380f01(0xaa)](_0x1d019d[_0x380f01(0x9a)])[_0x380f01(0x100)](),void _0x15d5a2[_0x380f01(0x107)](_0x1d019d[_0x380f01(0x9a)]);const _0x5d82cd=_0x1d019d[_0x380f01(0x9a)][_0x380f01(0x101)](':')[0x2];if(_0x5d82cd===_0x5a7e6e[_0x380f01(0xc9)])return;const _0x33d140=_0x380f01(0x90)+_0x5d82cd;_0x53757c[_0x380f01(0xf9)][_0x380f01(0xee)](_0x33d140)&&_0xb0e7d2[_0x380f01(0xda)][_0x380f01(0xd1)](_0x33d140),_0x1d019d['on'](_0x380f01(0xf3),(_0xf5e427,_0xac79a3,_0x3ab2d0)=>{const _0x3feb04=_0x380f01;if(_0x3feb04(0xe1)!=_0xac79a3[_0x3feb04(0xec)][_0x3feb04(0xea)]&&_0x3feb04(0xe1)==_0x1d019d[_0x3feb04(0x9d)]()[_0x3feb04(0xec)][_0x3feb04(0xea)]&&!_0x15d5a2[_0x3feb04(0xee)](_0x1d019d[_0x3feb04(0x9a)])){const _0x4f9b99=_0x53757c[_0x3feb04(0x92)][_0x3feb04(0xa3)](_0x3ab2d0[_0x3feb04(0xe0)]);if(_0x4f9b99){const _0x3034e0=_0x1c7809[_0x3feb04(0xa9)](_0x4f9b99);_0x15d5a2[_0x3feb04(0xdf)](_0x1d019d[_0x3feb04(0x9a)],_0x3034e0),_0x3034e0['on'](_0x3feb04(0xf3),(_0x54db72,_0x2eaeac,_0x5145e1)=>{const _0x21ff6e=_0x3feb04;if(_0x21ff6e(0xe1)==_0x3034e0[_0x21ff6e(0xec)][_0x21ff6e(0xea)]){const _0x4eca8b=_0x53757c[_0x21ff6e(0x92)][_0x21ff6e(0xa3)](_0x5145e1[_0x21ff6e(0xe0)]);_0x4eca8b?(_0x3034e0[_0x21ff6e(0xb6)]=_0x4eca8b[_0x21ff6e(0xb6)],_0x3034e0[_0x21ff6e(0x82)]=_0x4eca8b[_0x21ff6e(0x82)]):(_0x15d5a2[_0x21ff6e(0x107)](_0x1d019d[_0x21ff6e(0x9a)]),_0x3034e0[_0x21ff6e(0x100)]());}});}}});}),_0x53757c[_0x2fb7b0(0xd7)]['on'](_0x2fb7b0(0xb3),()=>{const _0xfc6b8e=_0x2fb7b0;_0x15d5a2[_0xfc6b8e(0xde)]>0x0&&_0x53757c[_0xfc6b8e(0xae)]({'isUndoable':!0x1},_0x17cf35=>{const _0x8f1f59=_0xfc6b8e;for(const [_0x5b4da1,_0x287039]of _0x15d5a2)_0x8f1f59(0xe1)==_0x53757c[_0x8f1f59(0xf9)][_0x8f1f59(0xaa)](_0x5b4da1)[_0x8f1f59(0x9d)]()[_0x8f1f59(0xec)][_0x8f1f59(0xea)]&&(te(_0x5b4da1[_0x8f1f59(0x101)](':')[0x2],_0x287039[_0x8f1f59(0xbb)](),_0x53757c,_0x17cf35),_0x287039[_0x8f1f59(0x100)]());_0x15d5a2[_0x8f1f59(0xc2)]();});});}(_0x2b85fa),this[_0x2b2796(0xbc)][_0x2b2796(0xab)](_0x4cd33d[_0x2b2796(0xd7)],_0x2b2796(0xed),(_0x413208,{key:_0x131ca2})=>{const _0x5a79a4=_0x2b2796;_0x5a79a4(0xa8)===_0x131ca2&&function(_0x1ad148){const _0xfec328=_0x5a79a4;_0x1ad148[_0xfec328(0xda)][_0xfec328(0xf8)][_0xfec328(0xb3)](_0x1b7933=>{const _0x5b3cb1=_0xfec328;for(const _0x4c32e2 of _0x1ad148[_0x5b3cb1(0xb8)][_0x5b3cb1(0xf9)]){if(!_0x4c32e2[_0x5b3cb1(0x9a)][_0x5b3cb1(0x83)](_0x5b3cb1(0x84)))continue;const _0x4b1ca7=_0x1ad148[_0x5b3cb1(0xda)][_0x5b3cb1(0xcb)][_0x5b3cb1(0x93)](_0x4c32e2[_0x5b3cb1(0x9a)]);if(_0x4b1ca7){for(const _0x3a5e44 of _0x4b1ca7)_0x1b7933[_0x5b3cb1(0xbe)](_0x5b3cb1(0x108),_0x3a5e44);}}});}(_0x2b85fa);},{'useCapture':!0x0});}[_0x45b43e(0x89)](){const _0x22d6f9=_0x45b43e,_0x3463fb=this[_0x22d6f9(0xb2)],_0xcead9f=_0x3463fb[_0x22d6f9(0xb4)][_0x22d6f9(0xaa)](_0x22d6f9(0xdb));_0xcead9f&&_0x3463fb[_0x22d6f9(0xb8)]['on'](_0x22d6f9(0xa0),(_0x583026,_0x3b7ad4)=>{const _0x115b07=_0x22d6f9,_0x14f3ce=_0x3b7ad4[0x0];if(!_0x14f3ce[_0x115b07(0xf7)])return;if(_0x115b07(0xe4)!=_0x14f3ce[_0x115b07(0x8f)]||!_0x14f3ce[_0x115b07(0x9a)][_0x115b07(0x83)](_0x115b07(0xad)))return;const _0x8606fb=_0x14f3ce[_0x115b07(0xd3)];_0xcead9f[_0x115b07(0xf0)][_0x115b07(0xee)](_0x8606fb)&&(_0x14f3ce[_0x115b07(0xd5)]=_0x14f3ce[_0x115b07(0xaf)]?_0x3463fb[_0x115b07(0xb8)][_0x115b07(0xb9)](_0x14f3ce[_0x115b07(0xaf)][_0x115b07(0xb6)],_0x14f3ce[_0x115b07(0xaf)][_0x115b07(0x82)]):null);},{'priority':_0x22d6f9(0x103)});}[_0x45b43e(0xfe)](){const _0x12f748=_0x45b43e;return this[_0x12f748(0xbc)][_0x12f748(0xc3)](),super[_0x12f748(0xfe)]();}[_0x45b43e(0xdc)](){const _0x2f2c21=_0x45b43e,_0x2e0d29=this[_0x2f2c21(0xb2)],_0x42d88e=_0x2e0d29[_0x2f2c21(0xb8)][_0x2f2c21(0xd7)],_0x1ea8c1=_0x2e0d29[_0x2f2c21(0xa1)][_0x2f2c21(0xaa)](_0x379960);_0x2e0d29[_0x2f2c21(0xb8)][_0x2f2c21(0xae)]({'isUndoable':!0x1},_0x2fc6ba=>{const _0xa4c15b=_0x2f2c21,_0x341986=_0xa4c15b(0x95)+_0x1ea8c1[_0xa4c15b(0xc9)],_0x2b14ef=_0xa4c15b(0x90)+_0x1ea8c1[_0xa4c15b(0xc9)],_0x4f7a2b=_0x2e0d29[_0xa4c15b(0xb8)][_0xa4c15b(0xf9)][_0xa4c15b(0xee)](_0x341986);_0x2e0d29[_0xa4c15b(0xda)][_0xa4c15b(0xf8)][_0xa4c15b(0x8c)]?te(_0x1ea8c1[_0xa4c15b(0xc9)],_0x42d88e[_0xa4c15b(0xc8)][_0xa4c15b(0xfa)](),_0x2e0d29[_0xa4c15b(0xb8)],_0x2fc6ba):_0x4f7a2b&&(_0x2fc6ba[_0xa4c15b(0xce)](_0x341986),_0x2fc6ba[_0xa4c15b(0xce)](_0x2b14ef));});}}function te(_0x518ab1,_0x5d97fb,_0x3aa7a8,_0xcfc921){const _0x213bee=_0x45b43e,_0x46951c=_0x213bee(0x95)+_0x518ab1,_0x13fef4=_0x213bee(0x90)+_0x518ab1,_0x24106c=_0x5d97fb[_0x213bee(0xba)]();let _0x11d903=_0x5d97fb[_0x213bee(0xb6)];if(_0x24106c&&_0x24106c['is'](_0x213bee(0x9b),_0x213bee(0xb1))){const _0xa53973=function(_0x45e44a,_0x2db8d7){const _0x189067=_0x213bee;for(const _0x27da9b of _0x45e44a[_0x189067(0xa5)]())if(_0x2db8d7[_0x189067(0x92)][_0x189067(0x9e)](_0x27da9b,_0x189067(0xcd)))return _0x27da9b;}(_0x5d97fb,_0x3aa7a8);_0xa53973&&(_0x11d903=_0xa53973,_0x5d97fb=_0xcfc921[_0x213bee(0xb9)](_0x11d903));}const _0x5ab1b9=_0xcfc921[_0x213bee(0xb9)](_0x11d903);_0x3aa7a8[_0x213bee(0xf9)][_0x213bee(0xee)](_0x46951c)?(_0xcfc921[_0x213bee(0x85)](_0x46951c,{'range':_0x5d97fb}),_0xcfc921[_0x213bee(0x85)](_0x13fef4,{'range':_0x5ab1b9})):(_0xcfc921[_0x213bee(0x94)](_0x46951c,{'range':_0x5d97fb,'usingOperation':!0x0}),_0xcfc921[_0x213bee(0x94)](_0x13fef4,{'range':_0x5ab1b9,'usingOperation':!0x0}));}