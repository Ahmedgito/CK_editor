/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x41eecc from'./../../message.js';import _0x2c007c from'./../helpers/operationmetadatahelpers.js';import _0xf776dd from'../descriptors/operationmetadatadescriptor.js';export default class CollaborativeEditingConnectResponse extends _0x41eecc{['channel'];['version'];['buffers'];['types'];['offset'];['metadata'];['initData'];['sessionId'];['lastOperationId'];['sessionCreatedAt'];static ['DESCRIPTOR_NAME']='CollaborativeEditingConnectResponse';static ['DESCRIPTOR']=((()=>({'fields':{'channel':{'type':'string','id':0x1},'offset':{'type':'uint32','id':0x2},'version':{'type':'uint32','id':0x3},'buffers':{'rule':'repeated','type':'bytes','id':0x4},'types':{'rule':'repeated','type':'uint32','id':0x5},'metadata':{'rule':'repeated','type':_0xf776dd['DESCRIPTOR_NAME'],'id':0x7},'initData':{'type':'string','id':0x8},'isInitialized':{'type':'bool','id':0x9},'sessionId':{'type':'string','id':0xa},'lastOperationId':{'type':'string','id':0xb},'sessionCreatedAt':{'type':'string','id':0xc}}}))());constructor(_0x39ca84,_0x5c5593,_0x35c119=[],_0x2dff6d=[],_0x56473f=0x0,_0x325cda=[],_0x593754=null,_0x21a17e='',_0x5106bc='',_0x240c32=null){super(),this['channel']=_0x39ca84,this['version']=_0x5c5593,this['buffers']=_0x35c119,this['types']=_0x2dff6d,this['offset']=_0x56473f,this['metadata']=_0x325cda,this['initData']=_0x593754,this['sessionId']=_0x21a17e,this['lastOperationId']=_0x5106bc,this['sessionCreatedAt']=_0x240c32;}get['data'](){return{'buffers':this['buffers'],'types':this['types'],'baseVersion':this['version']-this['types']['length'],'lastOperationId':this['lastOperationId'],'sessionCreatedAt':this['sessionCreatedAt']};}get['wereChangesApplied'](){return!this['types']?.['length']&&null===this['initData'];}['toJSON'](){return{'channel':this['channel'],'version':this['version'],'sessionId':this['sessionId'],'buffers':this['buffers'],'types':this['types'],'offset':this['offset'],'metadata':_0x2c007c['removeUnnecessaryMetadata'](this['types'],this['metadata'])['map'](_0xf776dd['toJSON']),'initData':this['initData']??'','isInitialized':'string'==typeof this['initData'],'lastOperationId':this['lastOperationId'],'sessionCreatedAt':this['sessionCreatedAt']?this['sessionCreatedAt']['toISOString']():null};}static['create'](_0x3dcce5){return new CollaborativeEditingConnectResponse(_0x3dcce5['channel'],_0x3dcce5['version'],_0x3dcce5['buffers'],_0x3dcce5['types'],_0x3dcce5['offset'],_0x3dcce5['metadata'],_0x3dcce5['initData'],_0x3dcce5['sessionId'],_0x3dcce5['lastOperationId'],_0x3dcce5['sessionCreatedAt']);}static['fromJSON'](_0x87538b){let _0x5349d2=null;return!0x0===_0x87538b['isInitialized']?_0x5349d2=_0x87538b['initData']??'':'boolean'!=typeof _0x87538b['isInitialized']&&_0x87538b['initData']&&(_0x5349d2=_0x87538b['initData']),CollaborativeEditingConnectResponse['create']({'channel':_0x87538b['channel'],'version':_0x87538b['version'],'buffers':_0x87538b['buffers'],'types':_0x87538b['types'],'offset':_0x87538b['offset'],'metadata':_0x2c007c['prepareMetadataForOperations'](_0x87538b['types'],_0x87538b['metadata'])['map'](_0xf776dd['fromJSON']),'initData':_0x5349d2,'sessionId':_0x87538b['sessionId'],'lastOperationId':_0x87538b['lastOperationId'],'sessionCreatedAt':_0x87538b['sessionCreatedAt']?new Date(_0x87538b['sessionCreatedAt']):null});}}