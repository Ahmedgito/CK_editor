/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x5b806c from'./../../../messagescompressor.js';import _0x4f7fad from'./../../../message.js';import _0x2b5f8b from'./packetoptionsmessage.js';import _0x456e48 from'./../parserutils.js';import _0x20d45d from'./numberbytespacketdatamessage.js';import _0x2fd70e from'./stringbytespacketdatamessage.js';import _0xdb33f9 from'./bytesbytespacketdatamessage.js';import _0x2d9fb6 from'./stringobjectpacketdatamessage.js';import _0x3f0ea3 from'./numberobjectpacketdatamessage.js';import _0x3ef6ed from'./objectobjectpacketdatamessage.js';import _0x27a091 from'./objectbufferpacketdatamessage.js';import _0x2eda49 from'./stringstringpacketdatamessage.js';import _0x1b382d from'./stringnumberpacketdatamessage.js';import _0x330690 from'./numbernumberpacketdatamessag.js';import _0x42dcc6 from'./numberstringpacketdatamessag.js';const PACKET_DATA_MESSAGES=/* #__PURE__ -- @preserve */
((()=>[_0x20d45d,_0x2fd70e,_0xdb33f9,_0x2d9fb6,_0x3f0ea3,_0x3ef6ed,_0x27a091,_0x2eda49,_0x1b382d,_0x330690,_0x42dcc6]['reduce']((_0x545881,_0x40f3cf)=>(_0x545881[_0x40f3cf['TYPE']]=_0x40f3cf,_0x545881),{}))());export default class PacketMessage extends _0x4f7fad{['type'];['data'];['id'];['nsp'];['options'];static ['TYPE']=0xa;static ['DESCRIPTOR_NAME']='PacketMessage';static ['DESCRIPTOR']={'fields':{'type':{'type':'uint32','id':0x1},'id':{'type':'uint32','id':0x2},'nsp':{'type':'string','id':0x3},'data':{'type':'bytes','id':0x4},'options':{'type':'bytes','id':0x5}}};constructor(_0x9d187d,_0x59d787,_0x233486,_0x38d254='/',_0x359d4b){super(),this['type']=_0x9d187d,this['data']=_0x59d787,this['id']=_0x233486,this['nsp']=_0x38d254,this['options']=_0x359d4b??new _0x2b5f8b();}get['packetData'](){return void 0x0===this['data']['data']&&void 0x0===this['data']['data1']?[]:this['data']['data']&&void 0x0===this['data']['data1']?[this['data']['data']]:[this['data']['data'],this['data']['data1']];}['toJSON'](){const _0x34f5c0=_0x5b806c['encode'](this['options']),_0x3dc492=_0x5b806c['encode'](this['data']);return{'type':this['type']+0xa*this['data']['constructor']['TYPE'],'id':this['id'],'nsp':'/'===this['nsp']?void 0x0:this['nsp'],'data':_0x3dc492,'options':_0x34f5c0};}static['fromJSON'](_0x2a8f5d){const _0x3c8437=Math['floor'](_0x2a8f5d['type']/0xa);return new PacketMessage(_0x2a8f5d['type']-0xa*_0x3c8437,_0x5b806c['decode'](_0x2a8f5d['data'],PACKET_DATA_MESSAGES[_0x3c8437]),_0x2a8f5d['id'],_0x2a8f5d['nsp'],_0x2a8f5d['options']?_0x5b806c['decode'](_0x2a8f5d['options'],_0x2b5f8b):new _0x2b5f8b());}static['create'](_0x524f72,_0x4828b5={}){const _0x3d8427=_0x456e48['getPacketType'](_0x456e48['getType'](_0x524f72['data'][0x0]),_0x456e48['getType'](_0x524f72['data'][0x1]??_0x524f72['data'][0x0]));return new PacketMessage(_0x524f72['type'],PACKET_DATA_MESSAGES[_0x3d8427]['create'](_0x524f72['data'][0x0],_0x524f72['data'][0x1]),_0x524f72['id'],_0x524f72['nsp'],new _0x2b5f8b(_0x4828b5['flags'],_0x4828b5['rooms'],_0x4828b5['except']));}}