/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
function _0x47e1(_0x228b37,_0x45d9cc){const _0x30f88f=_0x30f8();return _0x47e1=function(_0x47e147,_0x3a6a39){_0x47e147=_0x47e147-0xc2;let _0x5efeec=_0x30f88f[_0x47e147];return _0x5efeec;},_0x47e1(_0x228b37,_0x45d9cc);}function _0x30f8(){const _0x2dcd73=['users','trim','avatar','users.colorsCount','getMarkerClass','60138cHavVl','49512DHfdoF','requires','config','Users','ck-user__selection--','initials','3688610tmBPeQ','has','length','test','toUpperCase','5934087YbCZQm','isAnonymous','_myId','split','pluginName','filter','init','isOfficialPlugin','getOperationAuthor','users-add-invalid-id','611224PYLeFQ','define','1BApNMY','name','anonymous-user','_id','5856qWKfgj','26110UNyQsN','users.getInitialsCallback','ck-user__marker--','users.anonymousUserId','_getInitial','users-me-missing-user','isPremiumPlugin','string','get','_addAnonymousUser','_locale','isMe','codePointAt','15XdIiPH','addUser','63811KBXURG','color','getBackgroundColorClass','_isMe','_getNextColor','locale','getUser','getSelectionClass','users-me-already-defined','992MDdGyK','useAnonymousUser','128FdgZwI','context','_computeInitials','fromCodePoint','defineMe','add','decorate','_lastColor','_isAnonymous','Anonymous','ck-user__bg-color--','users-add-duplicated-id'];_0x30f8=function(){return _0x2dcd73;};return _0x30f8();}const _0x3f9794=_0x47e1;(function(_0xe427e9,_0x4d34ef){const _0x22af96=_0x47e1,_0x180601=_0xe427e9();while(!![]){try{const _0x36a0ae=-parseInt(_0x22af96(0xc6))/0x1*(parseInt(_0x22af96(0xc4))/0x2)+parseInt(_0x22af96(0xf7))/0x3*(-parseInt(_0x22af96(0xe5))/0x4)+-parseInt(_0x22af96(0xd8))/0x5*(-parseInt(_0x22af96(0xf6))/0x6)+-parseInt(_0x22af96(0xcb))/0x7*(parseInt(_0x22af96(0xe3))/0x8)+-parseInt(_0x22af96(0x102))/0x9+-parseInt(_0x22af96(0xfd))/0xa+-parseInt(_0x22af96(0xda))/0xb*(-parseInt(_0x22af96(0xca))/0xc);if(_0x36a0ae===_0x4d34ef)break;else _0x180601['push'](_0x180601['shift']());}catch(_0x889211){_0x180601['push'](_0x180601['shift']());}}}(_0x30f8,0x82fad));import{ContextPlugin as _0xb920a2}from'ckeditor5/src/core.js';import{Collection as _0x4926c3,CKEditorError as _0x1960d8}from'ckeditor5/src/utils.js';import{Permissions as _0x17b9c5}from'./permissions.js';import{getTranslation as _0x270d33}from'./utils/common-translations.js';import'../theme/usercolors.css';export class Users extends _0xb920a2{[_0x3f9794(0xf1)];[_0x3f9794(0xec)];[_0x3f9794(0x104)];[_0x3f9794(0xd5)];static get[_0x3f9794(0x106)](){const _0x4fcc34=_0x3f9794;return _0x4fcc34(0xfa);}static get[_0x3f9794(0x109)](){return!0x0;}static get[_0x3f9794(0xd1)](){return!0x0;}static get[_0x3f9794(0xf8)](){return[_0x17b9c5];}constructor(_0x13d066){const _0x269124=_0x3f9794;super(_0x13d066),this[_0x269124(0xe6)][_0x269124(0xf9)][_0x269124(0xc5)](_0x269124(0xce),_0x269124(0xc8)),this[_0x269124(0xe6)][_0x269124(0xf9)][_0x269124(0xc5)](_0x269124(0xf4),0x8),this[_0x269124(0xf1)]=new _0x4926c3(),this[_0x269124(0xd5)]=_0x13d066[_0x269124(0xdf)],this[_0x269124(0xec)]=0x0,this[_0x269124(0x104)]=null,this[_0x269124(0xeb)](_0x269124(0xc2));}[_0x3f9794(0x108)](){const _0x488de2=_0x3f9794;this[_0x488de2(0xd4)]();}get['me'](){const _0x5b2659=_0x3f9794;return null==this[_0x5b2659(0x104)]?null:this[_0x5b2659(0xe0)](this[_0x5b2659(0x104)]);}[_0x3f9794(0xd9)]({id:_0x1bb935,name:_0x100a53,..._0x5e6538}){const _0x17d9f2=_0x3f9794;if(!_0x1bb935||_0x17d9f2(0xd2)!=typeof _0x1bb935)throw new _0x1960d8(_0x17d9f2(0xc3));if(this[_0x17d9f2(0xf1)][_0x17d9f2(0xfe)](_0x1bb935))throw new _0x1960d8(_0x17d9f2(0xf0),null,{'id':_0x1bb935});const _0x1c5f50=this[_0x17d9f2(0xe6)][_0x17d9f2(0xf9)][_0x17d9f2(0xd3)](_0x17d9f2(0xcc)),_0x571c00={..._0x5e6538,'id':_0x1bb935,'name':C(this[_0x17d9f2(0xd5)],_0x100a53),'color':this[_0x17d9f2(0xde)]()};_0x571c00[_0x17d9f2(0xc7)]=C(this[_0x17d9f2(0xd5)],_0x571c00[_0x17d9f2(0xc7)]);const _0x352a9b=new User(_0x571c00,_0x1c5f50);return this[_0x17d9f2(0xf1)][_0x17d9f2(0xea)](_0x352a9b),_0x352a9b;}[_0x3f9794(0xe0)](_0x22df92){const _0x2c1209=_0x3f9794;return this[_0x2c1209(0xf1)][_0x2c1209(0xd3)](_0x22df92);}[_0x3f9794(0xe4)](){const _0x2f13e5=_0x3f9794,_0x33d45c=this[_0x2f13e5(0xe6)][_0x2f13e5(0xf9)][_0x2f13e5(0xd3)](_0x2f13e5(0xce));this[_0x2f13e5(0x104)]||this[_0x2f13e5(0xe9)](_0x33d45c);}[_0x3f9794(0xe9)](_0x181894){const _0x337daf=_0x3f9794;if(this[_0x337daf(0x104)])throw new _0x1960d8(_0x337daf(0xe2),null);const _0x1bdcac=this[_0x337daf(0xe0)](_0x181894);if(!_0x1bdcac)throw new _0x1960d8(_0x337daf(0xd0),null);this[_0x337daf(0x104)]=_0x181894,_0x1bdcac[_0x337daf(0xdd)]=!0x0;}[_0x3f9794(0xc2)](){return this['me'];}[_0x3f9794(0xde)](){const _0x55fc81=_0x3f9794,_0x3fb8c4=this[_0x55fc81(0xe6)][_0x55fc81(0xf9)][_0x55fc81(0xd3)](_0x55fc81(0xf4));return this[_0x55fc81(0xec)]>=_0x3fb8c4&&(this[_0x55fc81(0xec)]=0x0),new CollaborationUserColor(this[_0x55fc81(0xec)]++);}[_0x3f9794(0xd4)](){const _0x1a5abf=_0x3f9794,_0x2f8af9=this[_0x1a5abf(0xe6)][_0x1a5abf(0xf9)][_0x1a5abf(0xd3)](_0x1a5abf(0xce));this[_0x1a5abf(0xd9)]({'id':_0x2f8af9,'name':_0x270d33(this[_0x1a5abf(0xd5)],_0x1a5abf(0xee))})[_0x1a5abf(0xed)]=!0x0;}}export class User{['id'];[_0x3f9794(0xdb)];[_0x3f9794(0xc7)];[_0x3f9794(0xfc)];[_0x3f9794(0xf3)];[_0x3f9794(0xdd)];[_0x3f9794(0xed)];constructor(_0x9c58ec,_0x105e2a){const _0x710f22=_0x3f9794;this['id']=_0x9c58ec['id'],this[_0x710f22(0xdb)]=_0x9c58ec[_0x710f22(0xdb)],this[_0x710f22(0xc7)]=_0x9c58ec[_0x710f22(0xc7)],this[_0x710f22(0xfc)]=_0x105e2a?_0x105e2a(this[_0x710f22(0xc7)]):this[_0x710f22(0xe7)](),this[_0x710f22(0xf3)]=_0x9c58ec[_0x710f22(0xf3)],this[_0x710f22(0xed)]=!0x1,this[_0x710f22(0xdd)]=!0x1;}get[_0x3f9794(0x103)](){const _0x2d71fb=_0x3f9794;return this[_0x2d71fb(0xed)];}get[_0x3f9794(0xd6)](){const _0x59fc01=_0x3f9794;return this[_0x59fc01(0xdd)];}[_0x3f9794(0xe7)](){const _0x30f640=_0x3f9794,_0x4bd829=this[_0x30f640(0xc7)][_0x30f640(0x105)]('\x20')[_0x30f640(0x107)](_0x1861a2=>/^[\p{Letter}]/u[_0x30f640(0x100)](_0x1861a2));return 0x1===_0x4bd829[_0x30f640(0xff)]?this[_0x30f640(0xcf)](_0x4bd829[0x0]):0x0===_0x4bd829[_0x30f640(0xff)]?this[_0x30f640(0xcf)](this[_0x30f640(0xc7)]):this[_0x30f640(0xcf)](_0x4bd829[0x0])+this[_0x30f640(0xcf)](_0x4bd829[_0x4bd829[_0x30f640(0xff)]-0x1]);}[_0x3f9794(0xcf)](_0x4dcc4f){const _0x333d21=_0x3f9794;return String[_0x333d21(0xe8)](_0x4dcc4f[_0x333d21(0xd7)](0x0))[_0x333d21(0x101)]();}}function C(_0x1efb9c,_0x5932e5=''){const _0x329490=_0x3f9794;return''==(_0x5932e5=_0x5932e5[_0x329490(0xf2)]())?_0x270d33(_0x1efb9c,_0x329490(0xee)):_0x5932e5;}export class CollaborationUserColor{[_0x3f9794(0xc9)];constructor(_0x4a9451){const _0x1f7f24=_0x3f9794;this[_0x1f7f24(0xc9)]=_0x4a9451;}get['id'](){const _0x2273d1=_0x3f9794;return this[_0x2273d1(0xc9)];}[_0x3f9794(0xdc)](){const _0x1884f0=_0x3f9794;return _0x1884f0(0xef)+this['id'];}[_0x3f9794(0xe1)](){const _0xba4e84=_0x3f9794;return _0xba4e84(0xfb)+this['id'];}[_0x3f9794(0xf5)](){const _0x5cb230=_0x3f9794;return _0x5cb230(0xcd)+this['id'];}}