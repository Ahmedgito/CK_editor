/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x5c84b5=_0x3308;(function(_0x16d7b0,_0x41c6fd){const _0x43bf54=_0x3308,_0x18d1d0=_0x16d7b0();while(!![]){try{const _0x511168=-parseInt(_0x43bf54(0x1c5))/0x1+parseInt(_0x43bf54(0x210))/0x2*(parseInt(_0x43bf54(0x1ff))/0x3)+parseInt(_0x43bf54(0x1ef))/0x4+parseInt(_0x43bf54(0x20d))/0x5+parseInt(_0x43bf54(0x1fd))/0x6*(-parseInt(_0x43bf54(0x1eb))/0x7)+-parseInt(_0x43bf54(0x1e0))/0x8+-parseInt(_0x43bf54(0x221))/0x9*(parseInt(_0x43bf54(0x1c6))/0xa);if(_0x511168===_0x41c6fd)break;else _0x18d1d0['push'](_0x18d1d0['shift']());}catch(_0x25e507){_0x18d1d0['push'](_0x18d1d0['shift']());}}}(_0x4538,0xed7b5));import{Command as _0x5aa851}from'ckeditor5/src/core.js';import{BodyCollection as _0x3a07a5}from'ckeditor5/src/ui.js';import{ViewDowncastWriter as _0x210d97}from'ckeditor5/src/engine.js';function _0x3308(_0x29fe8f,_0x5de3e7){const _0x4538fe=_0x4538();return _0x3308=function(_0x33084a,_0x4d8afd){_0x33084a=_0x33084a-0x1c2;let _0x25891e=_0x4538fe[_0x33084a];return _0x25891e;},_0x3308(_0x29fe8f,_0x5de3e7);}import{TrackChangesPreviewView as _0x2182c9}from'../ui/view/trackchangespreviewview.js';import{getTranslation as _0x1fbce9}from'../utils/common-translations.js';function _0x4538(){const _0x2933ba=['_fixMediaEmbeds','1312612SUfMTr','values','url','$labels','trackChanges.preview.renderFunction','locale','getLabel','figure.media','detachFromDom','getBoundingClientRect','getRootNames','finalContentPreview','then','TrackChangesData','174ynQMMd','domConverter','797073kYJXxh','attachToDom','classes','children','innerHTML','ck-media__wrapper','add','bodyCollectionContainer','has','min','previewDataReady','createElement','entries','getClientRects','6401940lujAZI','classList','replace','12NBUlKI','value','class','\x20ck-reset_all','setPreviewData','_getMergeFieldsData','show','editable','innerHeight','$defaultValues','affectsData','ck-track-changes-preview-dialog','editing','getMediaViewElement','refresh','max','replaceWith','329688UOcmcY','querySelectorAll','config','destroy','sort','getDataSetValues','model','getDefaultValues','editables','height','ck-focused','getAttribute','MediaEmbedEditing','set','163104PIGgFC','30OaRTCl','headerView','contentView','plugins','getDataWithAcceptedSuggestions','item','editor','documentElement','getRootsAttributes','forEach','execute','oembed','width','_sortRoots','clientHeight','render','reduce','getMergeFieldsIds','MergeFieldsEditing','string','_standarizeRootsData','push','get','remove','updatePosition','registry','555744LtbDmY','previewMode','div','ck-reset_all','querySelector','view','Final\x20content\x20preview','isEnabled','document','Dialog','once','455602WGDjRH','element','getDomRoot'];_0x4538=function(){return _0x2933ba;};return _0x4538();}export class PreviewFinalContentCommand extends _0x5aa851{constructor(_0x2e166c){const _0x5e9e43=_0x3308;super(_0x2e166c),this[_0x5e9e43(0x21a)]=!0x1,this[_0x5e9e43(0x1e7)]=!0x0;}[_0x5c84b5(0x21e)](){const _0x3dee86=_0x5c84b5;this[_0x3dee86(0x1e7)]=!0x0;}[_0x5c84b5(0x1d0)](){const _0x282af4=_0x5c84b5,_0x2e901e=this[_0x282af4(0x1cc)],_0x2648f6=_0x2e901e[_0x282af4(0x1f4)],_0x129eee=_0x2e901e[_0x282af4(0x1c9)][_0x282af4(0x1dc)](_0x282af4(0x1e9));let _0x528cb0;const _0x5596f4=function(_0x665655){const _0x2a67cd=_0x282af4,_0x2b133a={};if(_0x2a67cd(0x229)in _0x665655['ui'][_0x2a67cd(0x1e5)]){for(const [_0x90703d,_0x565358]of Object[_0x2a67cd(0x20b)](_0x665655['ui'][_0x2a67cd(0x1e5)][_0x2a67cd(0x229)]))_0x2b133a[_0x90703d]=_0x565358[_0x2a67cd(0x1ec)];}else _0x2b133a[_0x665655[_0x2a67cd(0x227)][_0x2a67cd(0x1e8)][_0x2a67cd(0x1f9)]()[0x0]]=_0x665655['ui'][_0x2a67cd(0x1e5)][_0x2a67cd(0x217)][_0x2a67cd(0x1ec)];return _0x2b133a;}(_0x2e901e),_0x5e1e3d=function(_0x30a16d){const _0x1f5aac=_0x282af4;let _0x337a90=0x0;for(const _0x285b46 of Object[_0x1f5aac(0x1f0)](_0x30a16d))_0x337a90=Math[_0x1f5aac(0x21f)](_0x337a90,_0x285b46[_0x1f5aac(0x1f8)]()[_0x1f5aac(0x1d2)]);let _0x29aa05=0x0;for(const _0x3790b8 of Object[_0x1f5aac(0x1f0)](_0x30a16d))_0x29aa05+=_0x3790b8[_0x1f5aac(0x1f8)]()[_0x1f5aac(0x22a)];const _0x498848=0.8*Math[_0x1f5aac(0x21f)](document[_0x1f5aac(0x1cd)][_0x1f5aac(0x1d4)],window[_0x1f5aac(0x218)]),_0x27e0ca=Math[_0x1f5aac(0x208)](_0x29aa05,_0x498848);return{'width':_0x337a90,'height':_0x27e0ca};}(_0x5596f4);_0x129eee[_0x282af4(0x216)]({'id':_0x282af4(0x1fa),'title':_0x1fbce9(_0x2648f6,_0x282af4(0x1e6)),'isModal':!0x0,'className':_0x282af4(0x21b),'content':new _0x2182c9(_0x2648f6,{'dialogRects':_0x5e1e3d}),'onHide':()=>{const _0x1db122=_0x282af4;_0x528cb0[_0x1db122(0x1f7)]();},'onShow':()=>{const _0x1abd8b=_0x282af4;_0x2e901e[_0x1abd8b(0x1c9)][_0x1abd8b(0x1dc)](_0x1abd8b(0x1fc))[_0x1abd8b(0x1ca)]({...this[_0x1abd8b(0x215)]()})[_0x1abd8b(0x1fb)](_0x2a2c0a=>{const _0x4b88d6=_0x1abd8b,_0x346b3d=this[_0x4b88d6(0x1da)](_0x2a2c0a,_0x2e901e,_0x5596f4);_0x129eee[_0x4b88d6(0x1e5)][_0x4b88d6(0x1c8)][_0x4b88d6(0x202)][_0x4b88d6(0x1dc)](0x0)[_0x4b88d6(0x214)](_0x346b3d,_0x2e901e[_0x4b88d6(0x223)][_0x4b88d6(0x1dc)](_0x4b88d6(0x1f3)));}),_0x528cb0=new _0x3a07a5(_0x2648f6,[_0x129eee[_0x1abd8b(0x1e5)]]),_0x528cb0[_0x1abd8b(0x200)](),_0x528cb0[_0x1abd8b(0x206)][_0x1abd8b(0x20e)][_0x1abd8b(0x1dd)](_0x1abd8b(0x1e3)),_0x2e901e[_0x1abd8b(0x1ea)](_0x1abd8b(0x224),()=>{const _0x213d8b=_0x1abd8b;_0x528cb0[_0x213d8b(0x1f7)]();});const _0x5351bd=_0x129eee[_0x1abd8b(0x1e5)][_0x1abd8b(0x1c7)][_0x1abd8b(0x212)];_0x129eee[_0x1abd8b(0x1e5)][_0x1abd8b(0x1c7)][_0x1abd8b(0x212)]=_0x5351bd?_0x5351bd+_0x1abd8b(0x213):_0x1abd8b(0x1e3),_0x129eee[_0x1abd8b(0x1e5)][_0x1abd8b(0x1c8)][_0x1abd8b(0x202)][_0x1abd8b(0x1dc)](0x0)['on'](_0x1abd8b(0x209),()=>{const _0x61b082=_0x1abd8b;_0x129eee[_0x61b082(0x1e5)][_0x61b082(0x1de)]();});}});}[_0x5c84b5(0x215)](){const _0x17a517=_0x5c84b5;if(!this[_0x17a517(0x1cc)][_0x17a517(0x1c9)][_0x17a517(0x207)](_0x17a517(0x1d8)))return{};const _0x5106b0=this[_0x17a517(0x1cc)][_0x17a517(0x1c9)][_0x17a517(0x1dc)](_0x17a517(0x1d8)),_0x20567b=_0x5106b0[_0x17a517(0x1e1)],_0x5dbd98={};if(_0x17a517(0x1f2)===_0x20567b){for(const _0x75517 of _0x5106b0[_0x17a517(0x1d7)]())_0x5dbd98[_0x75517]=_0x5106b0[_0x17a517(0x1f5)](_0x75517)||_0x75517;}else{const _0x2a0401=_0x17a517(0x219)===_0x20567b?_0x5106b0[_0x17a517(0x228)]():_0x5106b0[_0x17a517(0x226)](_0x20567b,!0x0);for(const _0x295601 of Object[_0x17a517(0x20b)](_0x2a0401)){const [_0x46903e,_0x1bf155]=_0x295601;_0x5dbd98[_0x46903e]=null!==_0x1bf155?_0x1bf155:_0x5106b0[_0x17a517(0x1f5)](_0x46903e)||_0x46903e;}}return{'mergeFieldsData':_0x5dbd98};}[_0x5c84b5(0x1da)](_0x41ef10,_0x2b0245,_0x22f630){const _0x1e1c88=_0x5c84b5;let _0xbe40a0;if(_0x1e1c88(0x1d9)==typeof _0x41ef10){const _0x1803b3=_0x2b0245[_0x1e1c88(0x227)][_0x1e1c88(0x1e8)][_0x1e1c88(0x1f9)]()[0x0];_0xbe40a0={[_0x1803b3]:_0x41ef10};}else _0xbe40a0=_0x41ef10;const _0x144c89=this[_0x1e1c88(0x1ee)](_0xbe40a0,_0x2b0245),_0x5b988f=function(_0x57a8df,_0x2b25c8){const _0x139026=_0x1e1c88;for(const [_0xe3b47c,_0x559a0e]of _0x57a8df)_0x559a0e[_0x139026(0x201)]=_0x2b25c8[_0xe3b47c][_0x139026(0x20e)][_0x139026(0x211)][_0x139026(0x20f)](_0x139026(0x22b),'');return _0x57a8df;}(this[_0x1e1c88(0x1d3)](_0x2b0245)[_0x1e1c88(0x1d6)]((_0x3eef1d,_0x49270f)=>(_0x3eef1d[_0x1e1c88(0x1db)]([_0x49270f,{'content':_0x144c89[_0x49270f],'classes':''}]),_0x3eef1d),[]),_0x22f630);return _0x5b988f;}[_0x5c84b5(0x1ee)](_0x3b55ea,_0x16cd5d){const _0x489d5d=_0x5c84b5;if(!_0x16cd5d[_0x489d5d(0x1c9)][_0x489d5d(0x207)](_0x489d5d(0x1c3)))return _0x3b55ea;const _0xa053c2=_0x16cd5d[_0x489d5d(0x1c9)][_0x489d5d(0x1dc)](_0x489d5d(0x1c3));for(const [_0x5a9611,_0x229d58]of Object[_0x489d5d(0x20b)](_0x3b55ea)){const _0x558c3b=document[_0x489d5d(0x20a)](_0x489d5d(0x1e2));_0x558c3b[_0x489d5d(0x203)]=_0x229d58,(_0x558c3b[_0x489d5d(0x222)](_0x489d5d(0x1f6))[_0x489d5d(0x1cf)](_0x3d5a9d=>{const _0x4f543b=_0x489d5d,_0x4f5b60=_0x3d5a9d[_0x4f543b(0x1e4)](_0x4f543b(0x1d1));if(_0x4f5b60){const _0x30d0f8=_0x4f5b60[_0x4f543b(0x1c2)](_0x4f543b(0x1f1));if(_0x30d0f8){const _0x6074b5=_0xa053c2[_0x4f543b(0x1df)][_0x4f543b(0x21d)](new _0x210d97(_0x16cd5d[_0x4f543b(0x21c)][_0x4f543b(0x1e5)][_0x4f543b(0x1e8)]),_0x30d0f8,{'elementName':'','renderForEditingView':!0x0}),_0x53fb48=document[_0x4f543b(0x20a)](_0x4f543b(0x1e2));_0x53fb48[_0x4f543b(0x20e)][_0x4f543b(0x205)](_0x4f543b(0x204)),_0x6074b5[_0x4f543b(0x1d5)](_0x53fb48,_0x16cd5d[_0x4f543b(0x21c)][_0x4f543b(0x1e5)][_0x4f543b(0x1fe)]),_0x4f5b60[_0x4f543b(0x220)](_0x53fb48);}}}),_0x3b55ea[_0x5a9611]=_0x558c3b[_0x489d5d(0x203)]);}return _0x3b55ea;}[_0x5c84b5(0x1d3)](_0x2d3ae4){const _0x5ef32e=_0x5c84b5;if(!function(_0x3c7c49){const _0x2cc95f=_0x3308;return void 0x0!==_0x3c7c49[_0x2cc95f(0x1ce)];}(_0x2d3ae4))return _0x2d3ae4[_0x5ef32e(0x227)][_0x5ef32e(0x1e8)][_0x5ef32e(0x1f9)]();const _0x172a8=[],_0xd05a1b=new Map();for(const _0x3d7557 of _0x2d3ae4[_0x5ef32e(0x227)][_0x5ef32e(0x1e8)][_0x5ef32e(0x1f9)]()){const _0x234784=_0x2d3ae4[_0x5ef32e(0x21c)][_0x5ef32e(0x1e5)][_0x5ef32e(0x1ed)](_0x3d7557)[_0x5ef32e(0x20c)]()[_0x5ef32e(0x1cb)](0x0);_0x172a8[_0x5ef32e(0x1db)](_0x3d7557),_0xd05a1b[_0x5ef32e(0x1c4)](_0x3d7557,_0x234784);}return _0x172a8[_0x5ef32e(0x225)]((_0x16b229,_0x4b8276)=>{const _0x17e269=_0x5ef32e,_0x38e1f8=_0xd05a1b[_0x17e269(0x1dc)](_0x16b229),_0x14dd42=_0xd05a1b[_0x17e269(0x1dc)](_0x4b8276);return _0x38e1f8['y']-_0x14dd42['y']||_0x38e1f8['x']-_0x14dd42['x'];}),_0x172a8;}}