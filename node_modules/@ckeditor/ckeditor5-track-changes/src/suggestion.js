/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0xc1b4c3=_0x2d23;(function(_0x1d7471,_0x1b16fe){const _0x1a77fe=_0x2d23,_0x60724a=_0x1d7471();while(!![]){try{const _0x4587e1=-parseInt(_0x1a77fe(0x1fb))/0x1+-parseInt(_0x1a77fe(0x1d1))/0x2*(parseInt(_0x1a77fe(0x1dd))/0x3)+parseInt(_0x1a77fe(0x1de))/0x4*(-parseInt(_0x1a77fe(0x1d7))/0x5)+-parseInt(_0x1a77fe(0x1bd))/0x6+-parseInt(_0x1a77fe(0x20e))/0x7+parseInt(_0x1a77fe(0x1ee))/0x8+parseInt(_0x1a77fe(0x1fc))/0x9;if(_0x4587e1===_0x1b16fe)break;else _0x60724a['push'](_0x60724a['shift']());}catch(_0x47bb72){_0x60724a['push'](_0x60724a['shift']());}}}(_0x4e38,0xe0cbe));function _0x2d23(_0x54b0fe,_0x3d6c99){const _0x4e38fa=_0x4e38();return _0x2d23=function(_0x2d23e0,_0x2e2efd){_0x2d23e0=_0x2d23e0-0x1bd;let _0xa14d13=_0x4e38fa[_0x2d23e0];return _0xa14d13;},_0x2d23(_0x54b0fe,_0x3d6c99);}function _0x4e38(){const _0xd4d743=['toJSON','setAttribute','getContainedElement','getRanges','nodeBefore','createdAt','getMultiRangeId','onDiscard','onAttributesChange','filter','getAllAdjacentSuggestions','clear','get','getFirstMarker','previous','5650792BfbaBL','5110014nfxuYw','start','removeMarker','removeAttribute','getMarkers','addMarker','change','set','hasComments','map','substr','addRange','@external','_isDataLoaded','split','isInContent','reduce','_markerNames','subType','isIntersecting','1576916lhZWYG','removeMarkers','data','from','isIntersectingWithRange','commentThread','1363985hvaYlt','push','attributes','getFirstRange','authoredAt','delete','6uJtvuL','24qvCAyu','nodeAfter','length','_onAttributesChange','creator','addMarkerName','originalSuggestionId','markers','_onDiscard','_originalSuggestionId','getMarkerNames','_onAccept','isMultiRange','discard','end','getItems','4611744JvtEHv','head','isExternal','add','onAccept','suggestion:','decorate','next','type','_model','accept','getRange','author','1130884IXXkLe','57130245BaXwxn','size','_saved'];_0x4e38=function(){return _0xd4d743;};return _0x4e38();}import{ModelElement as _0xf3c0b6}from'ckeditor5/src/engine.js';import{ObservableMixin as _0x182cd2,uid as _0x291ae1}from'ckeditor5/src/utils.js';import{cloneDeep as _0x1c35ec,isEqual as _0x38ac2f,set as _0x2eccb2,unset as _0x94cf80}from'es-toolkit/compat';export class Suggestion extends/* #__PURE__ -- @preserve */
_0x182cd2(){['id'];[_0xc1b4c3(0x1f6)];[_0xc1b4c3(0x1cf)];[_0xc1b4c3(0x1fa)];[_0xc1b4c3(0x1e2)];[_0xc1b4c3(0x1f0)];[_0xc1b4c3(0x1d3)];[_0xc1b4c3(0x204)];[_0xc1b4c3(0x1e7)];[_0xc1b4c3(0x1ca)]=!0x1;[_0xc1b4c3(0x1f7)];[_0xc1b4c3(0x1e9)];[_0xc1b4c3(0x1e6)];[_0xc1b4c3(0x1e1)];[_0xc1b4c3(0x1ce)];constructor(_0x1b1cd7,_0x5df917){const _0x303bc2=_0xc1b4c3;super(),this['id']=_0x5df917['id'],this[_0x303bc2(0x1f6)]=_0x5df917[_0x303bc2(0x1f6)],this[_0x303bc2(0x1cf)]=_0x5df917[_0x303bc2(0x1cf)]||null,this[_0x303bc2(0x1fa)]=_0x5df917[_0x303bc2(0x1fa)],this[_0x303bc2(0x1e2)]=_0x5df917[_0x303bc2(0x1e2)]||_0x5df917[_0x303bc2(0x1fa)],this[_0x303bc2(0x1f0)]=Boolean(_0x5df917[_0x303bc2(0x1d9)]&&_0x5df917[_0x303bc2(0x1d9)][_0x303bc2(0x1c9)]),this[_0x303bc2(0x1d3)]=null,this[_0x303bc2(0x1e7)]=_0x5df917[_0x303bc2(0x1e4)]||null,this[_0x303bc2(0x1f7)]=_0x1b1cd7,this[_0x303bc2(0x1e9)]=_0x5df917[_0x303bc2(0x1f2)],this[_0x303bc2(0x1e6)]=_0x5df917[_0x303bc2(0x206)],this[_0x303bc2(0x1e1)]=_0x5df917[_0x303bc2(0x207)],this[_0x303bc2(0x1ce)]=new Set(),this[_0x303bc2(0x204)]=null,this[_0x303bc2(0x1c4)](_0x303bc2(0x1db),null),this[_0x303bc2(0x1c4)](_0x303bc2(0x1d9),_0x5df917[_0x303bc2(0x1d9)]||{}),this[_0x303bc2(0x1c4)](_0x303bc2(0x20d),null),this[_0x303bc2(0x1c4)](_0x303bc2(0x1f5),null),this[_0x303bc2(0x1c4)](_0x303bc2(0x1d6),null),this[_0x303bc2(0x1c4)](_0x303bc2(0x1fe),!0x1),this[_0x303bc2(0x1f4)](_0x303bc2(0x1f8)),this[_0x303bc2(0x1f4)](_0x303bc2(0x1eb));}get[_0xc1b4c3(0x1ef)](){const _0x39ecab=_0xc1b4c3;let _0x1f238b=this;for(;_0x1f238b[_0x39ecab(0x20d)];)_0x1f238b=_0x1f238b[_0x39ecab(0x20d)];return _0x1f238b;}get[_0xc1b4c3(0x1c5)](){const _0x588ee4=_0xc1b4c3;return!!this[_0x588ee4(0x1d6)]&&this[_0x588ee4(0x1d6)][_0x588ee4(0x1e0)]>0x0;}get[_0xc1b4c3(0x1ea)](){const _0x3b6cb7=_0xc1b4c3;if(0x0==this[_0x3b6cb7(0x1ce)][_0x3b6cb7(0x1fd)])return!0x1;return 0x6==Array[_0x3b6cb7(0x1d4)](this[_0x3b6cb7(0x1ce)])[0x0][_0x3b6cb7(0x1cb)](':')[_0x3b6cb7(0x1e0)];}get[_0xc1b4c3(0x1cc)](){const _0x51ad8b=_0xc1b4c3;return null!==this[_0x51ad8b(0x20c)]();}[_0xc1b4c3(0x1e3)](_0x4d6f04){const _0x4a8e8c=_0xc1b4c3;this[_0x4a8e8c(0x1ce)][_0x4a8e8c(0x1f1)](_0x4d6f04);}[_0xc1b4c3(0x1e8)](){const _0x9d6293=_0xc1b4c3;return Array[_0x9d6293(0x1d4)](this[_0x9d6293(0x1ce)]);}[_0xc1b4c3(0x1c1)](){const _0x55ab12=_0xc1b4c3;return this[_0x55ab12(0x1e8)]()[_0x55ab12(0x1c6)](_0x467fcd=>this[_0x55ab12(0x1f7)][_0x55ab12(0x1e5)][_0x55ab12(0x20b)](_0x467fcd))[_0x55ab12(0x208)](_0x574bdf=>_0x574bdf);}[_0xc1b4c3(0x20c)](){const _0x2f364e=_0xc1b4c3;return this[_0x2f364e(0x1c1)]()[0x0]||null;}[_0xc1b4c3(0x1d2)](){const _0x15c1b4=_0xc1b4c3;this[_0x15c1b4(0x1f7)][_0x15c1b4(0x1c3)](_0x252349=>{const _0x38c5f5=_0x15c1b4;for(const _0x5805f4 of this[_0x38c5f5(0x1c1)]())_0x252349[_0x38c5f5(0x1bf)](_0x5805f4);}),this[_0x15c1b4(0x1ce)][_0x15c1b4(0x20a)]();}[_0xc1b4c3(0x1bf)](_0x48485d){const _0x4caacc=_0xc1b4c3;this[_0x4caacc(0x1f7)][_0x4caacc(0x1c3)](_0x4cd9ac=>{const _0x2f5e87=_0x4caacc;_0x4cd9ac[_0x2f5e87(0x1bf)](_0x48485d);}),this[_0x4caacc(0x1ce)][_0x4caacc(0x1dc)](_0x48485d);}[_0xc1b4c3(0x1c8)](_0x3e7e5c){const _0x30b94a=_0xc1b4c3,_0x19a7e2=_0x30b94a(0x1f3)+this[_0x30b94a(0x1f6)]+':'+this[_0x30b94a(0x1cf)]+':'+this['id']+':'+this[_0x30b94a(0x1e2)]['id']+':'+Suggestion[_0x30b94a(0x205)]();this[_0x30b94a(0x1e3)](_0x19a7e2),this[_0x30b94a(0x1f7)][_0x30b94a(0x1c3)](_0x13a8b1=>{const _0x497444=_0x30b94a;_0x13a8b1[_0x497444(0x1c2)](_0x19a7e2,{'range':_0x3e7e5c,'usingOperation':!0x0,'affectsData':!0x0});});}[_0xc1b4c3(0x1d5)](_0xede156){const _0x540d7f=_0xc1b4c3;for(const _0x47ecc3 of this[_0x540d7f(0x202)]())if(_0x47ecc3[_0x540d7f(0x1d0)](_0xede156))return!0x0;return!0x1;}[_0xc1b4c3(0x202)](){const _0x3974e8=_0xc1b4c3;return this[_0x3974e8(0x1c1)]()[_0x3974e8(0x1c6)](_0x4c3734=>_0x4c3734[_0x3974e8(0x1f9)]());}[_0xc1b4c3(0x1ed)](){const _0x548d42=_0xc1b4c3;return this[_0x548d42(0x202)]()[_0x548d42(0x1cd)]((_0x20874a,_0x53e1dd)=>[..._0x20874a,..._0x53e1dd[_0x548d42(0x1ed)]()],[]);}[_0xc1b4c3(0x1da)](){const _0x3a4cb7=_0xc1b4c3;return this[_0x3a4cb7(0x20c)]()?.[_0x3a4cb7(0x1f9)]()||null;}[_0xc1b4c3(0x201)](){const _0x44b8ef=_0xc1b4c3,_0x2f18c0=this[_0x44b8ef(0x202)]();if(0x1!=_0x2f18c0[_0x44b8ef(0x1e0)])return null;const _0x101b89=_0x2f18c0[0x0],_0x12d6ed=_0x101b89[_0x44b8ef(0x1be)][_0x44b8ef(0x1df)],_0x147db1=_0x101b89[_0x44b8ef(0x1ec)][_0x44b8ef(0x203)];return _0x12d6ed instanceof _0xf3c0b6?_0x12d6ed!=_0x147db1?null:_0x12d6ed:null;}[_0xc1b4c3(0x1f8)](){const _0x5ca5ed=_0xc1b4c3;this[_0x5ca5ed(0x1e9)](this[_0x5ca5ed(0x202)](),this[_0x5ca5ed(0x1d3)],this[_0x5ca5ed(0x1d9)]),this[_0x5ca5ed(0x1d2)]();}[_0xc1b4c3(0x1eb)](){const _0x4d83fe=_0xc1b4c3;this[_0x4d83fe(0x1e6)](this[_0x4d83fe(0x202)](),this[_0x4d83fe(0x1d3)],this[_0x4d83fe(0x1d9)]),this[_0x4d83fe(0x1d2)]();}[_0xc1b4c3(0x209)](){const _0x3321f2=_0xc1b4c3,_0x335e66=[];let _0x1ca42c=this[_0x3321f2(0x1ef)];for(;_0x1ca42c;)_0x335e66[_0x3321f2(0x1d8)](_0x1ca42c),_0x1ca42c=_0x1ca42c[_0x3321f2(0x1f5)];return _0x335e66;}[_0xc1b4c3(0x200)](_0x31c7f5,_0x5dce06){const _0x2cb169=_0xc1b4c3,_0x2fa88f=_0x1c35ec(this[_0x2cb169(0x1d9)]);_0x2eccb2(_0x2fa88f,_0x31c7f5,_0x5dce06),_0x38ac2f(_0x2fa88f,this[_0x2cb169(0x1d9)])||(this[_0x2cb169(0x1d9)]=_0x2fa88f,this[_0x2cb169(0x1e1)](_0x2fa88f));}[_0xc1b4c3(0x1c0)](_0x168f66){const _0x26a07e=_0xc1b4c3,_0x13f517=_0x1c35ec(this[_0x26a07e(0x1d9)]);_0x94cf80(_0x13f517,_0x168f66),_0x38ac2f(_0x13f517,this[_0x26a07e(0x1d9)])||(this[_0x26a07e(0x1d9)]=_0x13f517,this[_0x26a07e(0x1e1)](this[_0x26a07e(0x1d9)]));}[_0xc1b4c3(0x1ff)](){const _0x5ab7e4=_0xc1b4c3;return{'id':this['id'],'type':this[_0x5ab7e4(0x1cf)]?this[_0x5ab7e4(0x1f6)]+':'+this[_0x5ab7e4(0x1cf)]:this[_0x5ab7e4(0x1f6)],'authorId':this[_0x5ab7e4(0x1e2)]['id'],'createdAt':this[_0x5ab7e4(0x204)],'hasComments':this[_0x5ab7e4(0x1c5)],'data':this[_0x5ab7e4(0x1d3)],'attributes':this[_0x5ab7e4(0x1d9)]};}static[_0xc1b4c3(0x205)](){const _0x121da5=_0xc1b4c3;return _0x291ae1()[_0x121da5(0x1c7)](0x1,0x5);}}