/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Command as _0x4470c6,Plugin as _0x150e1e,PendingActions as _0x28dd1b}from'@ckeditor/ckeditor5-core/dist/index.js';import{CKEditorError as _0x1c5060,ObservableMixin as _0x133706,uid as _0x2f3bfc,priorities as _0x121033,insertToPriorityArray as _0x1ff196,toArray as _0x4a1116,logWarning as _0x38a1da,getEnvKeystrokeText as _0x31da68,FocusTracker as _0xfc8302,KeystrokeHandler as _0x30fddb,Collection as _0x5b9dda}from'@ckeditor/ckeditor5-utils/dist/index.js';import{IconCheck as _0x2a3d51,IconCancel as _0x241d06,IconTrackChanges as _0x6b0c67}from'@ckeditor/ckeditor5-icons/dist/index.js';import{normalizeColorOptions as _0x495c3,View as _0xaae3cc,ViewCollection as _0x304110,FocusCycler as _0x155550,UIModel as _0x4157ff,createDropdown as _0x207dba,SplitButtonView as _0x2a196d,addListToDropdown as _0x2a552b,MenuBarMenuView as _0x326e1f,MenuBarMenuListView as _0x39e73e,ListSeparatorView as _0xdc7e27,MenuBarMenuListItemView as _0x48fd2b,MenuBarMenuListItemButtonView as _0x10a6f6,BodyCollection as _0x2fd38e,Dialog as _0x2f023f}from'@ckeditor/ckeditor5-ui/dist/index.js';import{Users as _0x49c4c1,DocumentCompare as _0x20dcac,hashObject as _0x5b6d50,surroundingMarkersDetector as _0x32f207,FOCUS_ANNOTATION_KEYSTROKE as _0x1dc23a,AriaDescriptionView as _0x41d892,setupThreadKeyboardNavigation as _0x19bae6,trimHtml as _0x4e31bd,UserView as _0x883051,LateFocusButtonView as _0x219ef3,getDateTimeFormatter as _0x51d8fc,getAllMarkersDomElementsSorted as _0x5ce32e,sanitizeEditorConfig as _0x412471}from'ckeditor5-collaboration/dist/index.js';import{ModelElement as _0x24cb50,ModelLiveRange as _0x4b855c,ModelLivePosition as _0x266e89,ModelPosition as _0x1ec24f,ModelRange as _0x3c2c3e,_DetachOperation as _0x104b5a,ViewDowncastWriter as _0x1b32b1}from'@ckeditor/ckeditor5-engine/dist/index.js';import{setHighlightHandling as _0x288247,toWidget as _0x12badd}from'@ckeditor/ckeditor5-widget/dist/index.js';import{cloneDeep as _0x1e5789,set as _0x25906c,isEqual as _0x389819,unset as _0x2394e1,omit as Jt}from'es-toolkit/compat';import{Delete as _0x438d17,Input as tr}from'@ckeditor/ckeditor5-typing/dist/index.js';import{Enter as _0x5c8e70}from'@ckeditor/ckeditor5-enter/dist/index.js';import{ClipboardPipeline as _0x493ab6}from'@ckeditor/ckeditor5-clipboard/dist/index.js';class B extends _0x4470c6{['_enabledCommands'];constructor(_0x37b307,_0x33c6f3){super(_0x37b307),this['_enabledCommands']=_0x33c6f3,this['value']=!0x1,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](){this['value']=!this['value'],this['value']?this['_disableUnsupportedCommands']():this['_enableCommands']();}['_disableUnsupportedCommands'](){for(const _0x4397be of this['editor']['commands']['commands']())_0x4397be['affectsData']&&!this['_enabledCommands']['has'](_0x4397be)&&_0x4397be['forceDisabled']('TrackChangesCommand');}['_enableCommands'](){for(const _0x460d13 of this['editor']['commands']['commands']())_0x460d13['affectsData']&&!this['_enabledCommands']['has'](_0x460d13)&&_0x460d13['clearForceDisabled']('TrackChangesCommand');}}class T extends _0x4470c6{['_suggestions'];constructor(_0x1b8d71,_0x97a4c7){super(_0x1b8d71),this['_suggestions']=_0x97a4c7,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](_0x54b88e){const _0x2972d4=this['_suggestions']['get'](_0x54b88e);if(!_0x2972d4)throw new _0x1c5060('track-changes-accept-suggestion-not-found',this);const _0x40c609=_0x2972d4['getRanges']();this['editor']['model']['canEditAt'](_0x40c609)&&this['editor']['plugins']['get']('TrackChangesEditing')['acceptSuggestion'](_0x2972d4);}}class O extends _0x4470c6{['_suggestions'];constructor(_0x50d53b,_0x381b0d){super(_0x50d53b),this['_suggestions']=_0x381b0d,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](_0x244943){const _0x541cbc=this['_suggestions']['get'](_0x244943);if(!_0x541cbc)throw new _0x1c5060('track-changes-discard-suggestion-not-found',this);const _0x4c110a=_0x541cbc['getRanges']();this['editor']['model']['canEditAt'](_0x4c110a)&&this['editor']['plugins']['get']('TrackChangesEditing')['discardSuggestion'](_0x541cbc);}}function ls(_0x59cd48,_0x41067d){let _0x13302b='';return _0x13302b+=_0x59cd48['split']('*')['map']((_0x21feba,_0x24a6f0)=>_0x24a6f0%0x2!=0x0?'<span\x20class=\x22ck-suggestion-type\x22>'+tn(_0x21feba)+'</span>':tn(_0x21feba))['join'](''),_0x41067d&&(_0x13302b+='<span\x20class=\x22ck-suggestion-color\x22\x20style=\x22background-color:\x20'+_0x41067d['value']+'\x22\x20title=\x22'+_0x41067d['title']+'\x22></span>'),_0x13302b;}function tn(_0x48f112){const _0x7c9cc=document['createElement']('span');return _0x7c9cc['innerText']=_0x48f112,_0x7c9cc['innerHTML'];}function ts(_0x561f0f){return _0x561f0f['sort']((_0x40d8f2,_0x53f604)=>'attribute'===_0x40d8f2['type']&&'attribute'!==_0x53f604['type']?-0x1:'attribute'!==_0x40d8f2['type']&&'attribute'===_0x53f604['type']?0x1:'deletion'==_0x40d8f2['type']&&'deletion'!=_0x53f604['type']?-0x1:'deletion'!=_0x40d8f2['type']&&'deletion'==_0x53f604['type']?0x1:0x0);}function to(_0x2daee8,_0x31809b){let _0x2c3a91,_0x293548=0x0;const _0x43eecd=[],_0x3d25ce=_0x31809b['schema'];for(;_0x293548<_0x2daee8['length'];){const _0x530840=_0x2daee8[_0x293548],_0x93a335=_0x2daee8[_0x293548+0x1];_0x2c3a91||(_0x2c3a91=_0x31809b['createPositionBefore'](_0x530840)),nn(_0x31809b,_0x530840,_0x93a335)||(_0x43eecd['push'](_0x31809b['createRange'](_0x2c3a91,_0x3d25ce['isObject'](_0x530840)?_0x31809b['createPositionAfter'](_0x530840):_0x31809b['createPositionAt'](_0x530840,'end'))),_0x2c3a91=null),_0x293548++;}return _0x43eecd;}function nn(_0xb183fc,_0x21f150,_0x39ad45){if(!_0x39ad45)return!0x1;const _0x20fef9=_0xb183fc['createPositionAfter'](_0x21f150),_0x28386a=_0xb183fc['createPositionBefore'](_0x39ad45);return _0x20fef9['isTouching'](_0x28386a);}function rs(_0x3cd1ad,_0x3db0d8,_0xc6cd69){for(;_0xc6cd69['length'];){const _0x274fd8=_0xc6cd69['splice'](0x0,0x64);_0x3cd1ad['change'](()=>{for(const _0x5e0136 of _0x274fd8)_0x5e0136['isInContent']&&_0x3db0d8['execute'](_0x5e0136['id']);});}}class x extends _0x4470c6{['_command'];['_suggestions'];constructor(_0x36c389,_0xae254c,_0x29a5dd){super(_0x36c389),this['_command']=_0xae254c,this['_suggestions']=_0x29a5dd,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){const _0x25647a=Array['from'](this['_suggestions']['values']())['some'](_0x522840=>_0x522840['isInContent']);this['isEnabled']=this['_command']['isEnabled']&&_0x25647a;}['execute'](){const _0xf5adb8=ts(Array['from'](this['_suggestions']['values']()));for(const _0x48ca9b of _0xf5adb8){const _0x4b36df=_0x48ca9b['getRanges']();if(!this['editor']['model']['canEditAt'](_0x4b36df))return;}rs(this['editor']['model'],this['_command'],_0xf5adb8);}}class E extends _0x4470c6{['_command'];['_suggestions'];['_selectedSuggestions'];constructor(_0x4616e9,_0x45943d,_0xd6118e){super(_0x4616e9),this['_command']=_0x45943d,this['_suggestions']=_0xd6118e,this['_selectedSuggestions']=new Set(),this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){const _0x573d25=this['editor']['model']['document']['selection'],_0x1ba790=Array['from'](this['_suggestions']['values']());this['_selectedSuggestions']=function(_0x5543f2,_0x10a9a8){const _0x47934e=Array['from'](_0x5543f2['getRanges']()),_0x5d6b21=new Set();for(const _0xc6cc3e of _0x10a9a8)if(_0xc6cc3e['isInContent']){for(const _0x2983b3 of _0x47934e)for(const _0x542072 of _0xc6cc3e['getRanges']())(_0x2983b3['isIntersecting'](_0x542072)||_0x5543f2['isCollapsed']&&!_0xc6cc3e['isMultiRange']&&_0xc6cc3e['next']&&_0x542072['end']['isTouching'](_0x2983b3['start']))&&_0x5d6b21['add'](_0xc6cc3e);}return _0x5d6b21;}(_0x573d25,_0x1ba790),this['isEnabled']=this['_command']['isEnabled']&&!!this['_selectedSuggestions']['size'];}['execute'](){const _0x208d98=ts(Array['from'](this['_selectedSuggestions']));for(const _0x4b7978 of _0x208d98){const _0x3af8de=_0x4b7978['getRanges']();if(!this['editor']['model']['canEditAt'](_0x3af8de))return;}rs(this['editor']['model'],this['_command'],_0x208d98);}}class R extends/* #__PURE__ -- @preserve */
_0x133706(){['id'];['type'];['subType'];['author'];['creator'];['isExternal'];['data'];['createdAt'];['_originalSuggestionId'];['_isDataLoaded']=!0x1;['_model'];['_onAccept'];['_onDiscard'];['_onAttributesChange'];['_markerNames'];constructor(_0x412cfb,_0x114b5d){super(),this['id']=_0x114b5d['id'],this['type']=_0x114b5d['type'],this['subType']=_0x114b5d['subType']||null,this['author']=_0x114b5d['author'],this['creator']=_0x114b5d['creator']||_0x114b5d['author'],this['isExternal']=Boolean(_0x114b5d['attributes']&&_0x114b5d['attributes']['@external']),this['data']=null,this['_originalSuggestionId']=_0x114b5d['originalSuggestionId']||null,this['_model']=_0x412cfb,this['_onAccept']=_0x114b5d['onAccept'],this['_onDiscard']=_0x114b5d['onDiscard'],this['_onAttributesChange']=_0x114b5d['onAttributesChange'],this['_markerNames']=new Set(),this['createdAt']=null,this['set']('authoredAt',null),this['set']('attributes',_0x114b5d['attributes']||{}),this['set']('previous',null),this['set']('next',null),this['set']('commentThread',null),this['set']('_saved',!0x1),this['decorate']('accept'),this['decorate']('discard');}get['head'](){let _0x516c6a=this;for(;_0x516c6a['previous'];)_0x516c6a=_0x516c6a['previous'];return _0x516c6a;}get['hasComments'](){return!!this['commentThread']&&this['commentThread']['length']>0x0;}get['isMultiRange'](){if(0x0==this['_markerNames']['size'])return!0x1;return 0x6==Array['from'](this['_markerNames'])[0x0]['split'](':')['length'];}get['isInContent'](){return null!==this['getFirstMarker']();}['addMarkerName'](_0x5ce5b1){this['_markerNames']['add'](_0x5ce5b1);}['getMarkerNames'](){return Array['from'](this['_markerNames']);}['getMarkers'](){return this['getMarkerNames']()['map'](_0x158bd5=>this['_model']['markers']['get'](_0x158bd5))['filter'](_0x3a6f29=>_0x3a6f29);}['getFirstMarker'](){return this['getMarkers']()[0x0]||null;}['removeMarkers'](){this['_model']['change'](_0x3ec2fa=>{for(const _0x1c8f2d of this['getMarkers']())_0x3ec2fa['removeMarker'](_0x1c8f2d);}),this['_markerNames']['clear']();}['removeMarker'](_0x19ce81){this['_model']['change'](_0x25db15=>{_0x25db15['removeMarker'](_0x19ce81);}),this['_markerNames']['delete'](_0x19ce81);}['addRange'](_0x356eaf){const _0x9937af='suggestion:'+this['type']+':'+this['subType']+':'+this['id']+':'+this['creator']['id']+':'+R['getMultiRangeId']();this['addMarkerName'](_0x9937af),this['_model']['change'](_0x35d9b9=>{_0x35d9b9['addMarker'](_0x9937af,{'range':_0x356eaf,'usingOperation':!0x0,'affectsData':!0x0});});}['isIntersectingWithRange'](_0x50f2a2){for(const _0x531f26 of this['getRanges']())if(_0x531f26['isIntersecting'](_0x50f2a2))return!0x0;return!0x1;}['getRanges'](){return this['getMarkers']()['map'](_0xac1f1a=>_0xac1f1a['getRange']());}['getItems'](){return this['getRanges']()['reduce']((_0x3211fd,_0x1a889a)=>[..._0x3211fd,..._0x1a889a['getItems']()],[]);}['getFirstRange'](){return this['getFirstMarker']()?.['getRange']()||null;}['getContainedElement'](){const _0x2bbc53=this['getRanges']();if(0x1!=_0x2bbc53['length'])return null;const _0xff7942=_0x2bbc53[0x0],_0x267e3d=_0xff7942['start']['nodeAfter'],_0x227727=_0xff7942['end']['nodeBefore'];return _0x267e3d instanceof _0x24cb50?_0x267e3d!=_0x227727?null:_0x267e3d:null;}['accept'](){this['_onAccept'](this['getRanges'](),this['data'],this['attributes']),this['removeMarkers']();}['discard'](){this['_onDiscard'](this['getRanges'](),this['data'],this['attributes']),this['removeMarkers']();}['getAllAdjacentSuggestions'](){const _0x37723c=[];let _0x1a1606=this['head'];for(;_0x1a1606;)_0x37723c['push'](_0x1a1606),_0x1a1606=_0x1a1606['next'];return _0x37723c;}['setAttribute'](_0x2b3fe6,_0x398448){const _0x16a692=_0x1e5789(this['attributes']);_0x25906c(_0x16a692,_0x2b3fe6,_0x398448),_0x389819(_0x16a692,this['attributes'])||(this['attributes']=_0x16a692,this['_onAttributesChange'](_0x16a692));}['removeAttribute'](_0x181bc4){const _0x3a0976=_0x1e5789(this['attributes']);_0x2394e1(_0x3a0976,_0x181bc4),_0x389819(_0x3a0976,this['attributes'])||(this['attributes']=_0x3a0976,this['_onAttributesChange'](this['attributes']));}['toJSON'](){return{'id':this['id'],'type':this['subType']?this['type']+':'+this['subType']:this['type'],'authorId':this['creator']['id'],'createdAt':this['createdAt'],'hasComments':this['hasComments'],'data':this['data'],'attributes':this['attributes']};}static['getMultiRangeId'](){return _0x2f3bfc()['substr'](0x1,0x5);}}function o(_0x53806f,_0x394cc9,_0x44bb64){const _0x37b5e0=_0x53806f['t'],t=_0x53806f['t'];switch(_0x394cc9){case'Track\x20changes':return t('Track\x20changes');case'Accept\x20suggestion':return t('Accept\x20suggestion');case'Discard\x20suggestion':return t('Discard\x20suggestion');case'Accept\x20all\x20suggestions':return t('Accept\x20all\x20suggestions');case'Accept\x20all\x20selected\x20suggestions':return t('Accept\x20all\x20selected\x20suggestions');case'Discard\x20all\x20suggestions':return t('Discard\x20all\x20suggestions');case'Discard\x20all\x20selected\x20suggestions':return t('Discard\x20all\x20selected\x20suggestions');case'Preview\x20final\x20content':return t('Preview\x20final\x20content');case'Final\x20content\x20preview':return t('Final\x20content\x20preview');case'*Reset\x20font\x20size*':return t('*Reset\x20font\x20size*');case'*Reset\x20font\x20family*':return t('*Reset\x20font\x20family*');case'*Reset\x20font\x20color*':return t('*Reset\x20font\x20color*');case'*Reset\x20font\x20background\x20color*':return t('*Reset\x20font\x20background\x20color*');case'*Remove\x20image\x20text\x20alternative*':return t('*Remove\x20image\x20text\x20alternative*');case'*Reset\x20image\x20width*':return t('*Reset\x20image\x20width*');case'*Remove\x20link*':return t('*Remove\x20link*');case'*Check\x20item*':return t('*Check\x20item*');case'*Uncheck\x20item*':return t('*Uncheck\x20item*');case'*Remove\x20all\x20formatting*':return t('*Remove\x20all\x20formatting*');case'*Replace\x20table\x20cells*':return t('*Replace\x20table\x20cells*');case'*Merge\x20cells*':return t('*Merge\x20cells*');case'*Split\x20cell:*\x20vertically':return t('*Split\x20cell:*\x20vertically');case'*Split\x20cell:*\x20horizontally':return t('*Split\x20cell:*\x20horizontally');case'*Indent:*\x20%0':return t('*Indent:*\x20%0',_0x44bb64);case'*Outdent:*\x20%0':return t('*Outdent:*\x20%0',_0x44bb64);case'*Change\x20to:*\x20%0':return t('*Change\x20to:*\x20%0',_0x44bb64);case'*Insert:*\x20%0':return t('*Insert:*\x20%0',_0x44bb64);case'*Format:*\x20%0':return t('*Format:*\x20%0',_0x44bb64);case'*Format:*\x20change\x20table\x20properties':return t('*Format:*\x20change\x20table\x20properties');case'*Format:*\x20change\x20table\x20cell\x20properties':return t('*Format:*\x20change\x20table\x20cell\x20properties');case'*Format:*\x20insert\x20into\x20%0':return t('*Format:*\x20insert\x20into\x20%0',_0x44bb64);case'*Format:*\x20remove\x20from\x20%0':return t('*Format:*\x20remove\x20from\x20%0',_0x44bb64);case'*Replace\x20image*':return t('*Replace\x20image*');case'*Format:*\x20resize\x20table':return t('*Format:*\x20resize\x20table');case'*Format:*\x20set\x20order\x20to\x20reversed':return t('*Format:*\x20set\x20order\x20to\x20reversed');case'*Format:*\x20set\x20order\x20to\x20regular':return t('*Format:*\x20set\x20order\x20to\x20regular');case'*Format:*\x20set\x20start\x20index\x20to\x20%0':return t('*Format:*\x20set\x20start\x20index\x20to\x20%0',_0x44bb64);case'*Change\x20%0\x20content*':return t('*Change\x20%0\x20content*',_0x44bb64);case'*Remove:*\x20%0':return t('*Remove:*\x20%0',_0x44bb64);case'*Merge:*\x20%0':return t('*Merge:*\x20%0',_0x44bb64);case'*Split:*\x20%0':return t('*Split:*\x20%0',_0x44bb64);case'*Remove\x20format:*\x20%0':return t('*Remove\x20format:*\x20%0',_0x44bb64);case'*Set\x20bookmark:*\x20%0':return t('*Set\x20bookmark:*\x20%0',_0x44bb64);case'*Set\x20font\x20size:*\x20%0':return t('*Set\x20font\x20size:*\x20%0',_0x44bb64);case'*Set\x20font\x20family:*\x20%0':return t('*Set\x20font\x20family:*\x20%0',_0x44bb64);case'*Set\x20format\x20to:*\x20%0':return t('*Set\x20format\x20to:*\x20%0',_0x44bb64);case'*Set\x20font\x20color:*\x20%0':return t('*Set\x20font\x20color:*\x20%0',_0x44bb64);case'*Set\x20font\x20background\x20color:*\x20%0':return t('*Set\x20font\x20background\x20color:*\x20%0',_0x44bb64);case'*Set\x20format:*\x20%0':return t('*Set\x20format:*\x20%0',_0x44bb64);case'*Set\x20image\x20text\x20alternative:*\x20%0':return t('*Set\x20image\x20text\x20alternative:*\x20%0',_0x44bb64);case'*Set\x20image\x20width:*\x20%0':return t('*Set\x20image\x20width:*\x20%0',_0x44bb64);case'*Set\x20link:*\x20%0':return t('*Set\x20link:*\x20%0',_0x44bb64);case'*Set\x20highlight:*\x20%0':return t('*Set\x20highlight:*\x20%0',_0x44bb64);case'*Set\x20table\x20type:*\x20%0':return t('*Set\x20table\x20type:*\x20%0',_0x44bb64);case'*Remove\x20highlight*':return t('*Remove\x20highlight*');case'FORMAT_HIGHLIGHT':return t({'string':'highlight','id':'FORMAT_HIGHLIGHT'});case'FORMAT_RESTRICTED_ENABLED':return t({'string':'*Enable\x20in\x20restricted\x20editing\x20mode*','id':'FORMAT_RESTRICTED_ENABLED'});case'FORMAT_RESTRICTED_DISABLED':return t({'string':'*Disable\x20in\x20restricted\x20editing\x20mode*','id':'FORMAT_RESTRICTED_DISABLED'});case'ELEMENT_TABLE':return t({'string':'table','plural':'%0\x20tables','id':'ELEMENT_TABLE'},_0x44bb64);case'ELEMENT_CONTENT_TABLE':return t({'string':'content\x20table','plural':'%0\x20content\x20tables','id':'ELEMENT_CONTENT_TABLE'},_0x44bb64);case'ELEMENT_LAYOUT_TABLE':return t({'string':'layout\x20table','plural':'%0\x20layout\x20tables','id':'ELEMENT_LAYOUT_TABLE'},_0x44bb64);case'ELEMENT_PARAGRAPH':return t({'string':'paragraph','plural':'%0\x20paragraphs','id':'ELEMENT_PARAGRAPH'},_0x44bb64);case'ELEMENT_PAGE_BREAK':return t({'string':'page\x20break','plural':'%0\x20page\x20breaks','id':'ELEMENT_PAGE_BREAK'},_0x44bb64);case'ELEMENT_MEDIA':return t({'string':'media\x20item','plural':'%0\x20media\x20items','id':'ELEMENT_MEDIA'},_0x44bb64);case'ELEMENT_IMAGE':return t({'string':'image','plural':'%0\x20images','id':'ELEMENT_IMAGE'},_0x44bb64);case'ELEMENT_INLINE_IMAGE':return t({'string':'image','plural':'%0\x20images','id':'ELEMENT_INLINE_IMAGE'},_0x44bb64);case'FORMAT_SIDE_IMAGE':return t({'string':'side\x20image','id':'FORMAT_SIDE_IMAGE'});case'ELEMENT_CAPTION':return t({'string':'caption','id':'ELEMENT_CAPTION'});case'ELEMENT_HORIZONTAL_LINE':return t({'string':'horizontal\x20line','plural':'%0\x20horizontal\x20lines','id':'ELEMENT_HORIZONTAL_LINE'},_0x44bb64);case'ELEMENT_HTML_EMBED':return t({'string':'HTML\x20embed','plural':'%0\x20HTML\x20embeds','id':'ELEMENT_HTML_EMBED'},_0x44bb64);case'ELEMENT_HEADING':return t({'string':'heading\x20(level\x20%1)','plural':'%0\x20headings\x20(level\x20%1)','id':'ELEMENT_HEADING'},_0x44bb64);case'ELEMENT_HEADING_CUSTOM':return t({'string':'heading\x20(%1)','plural':'%0\x20headings\x20(%1)','id':'ELEMENT_HEADING_CUSTOM'},_0x44bb64);case'ELEMENT_LIST_ITEM':return t({'string':'list\x20item','plural':'%0\x20list\x20items','id':'ELEMENT_LIST_ITEM'},_0x44bb64);case'ELEMENT_DEFAULT_LIST_DEFAULT':return t({'string':'default\x20list\x20style','id':'ELEMENT_DEFAULT_LIST_DEFAULT'});case'ELEMENT_BULLETED_LIST':return t({'string':'bulleted\x20list','id':'ELEMENT_BULLETED_LIST'});case'ELEMENT_BULLETED_LIST_DEFAULT':return t({'string':'bulleted\x20list\x20(default)','id':'ELEMENT_BULLETED_LIST_DEFAULT'});case'ELEMENT_BULLETED_LIST_CIRCLE':return t({'string':'bulleted\x20list\x20(circle)','id':'ELEMENT_BULLETED_LIST_CIRCLE'});case'ELEMENT_BULLETED_LIST_DISC':return t({'string':'bulleted\x20list\x20(disc)','id':'ELEMENT_BULLETED_LIST_DISC'});case'ELEMENT_BULLETED_LIST_SQUARE':return t({'string':'bulleted\x20list\x20(square)','id':'ELEMENT_BULLETED_LIST_SQUARE'});case'ELEMENT_NUMBERED_LIST_DEFAULT':return t({'string':'numbered\x20list\x20(default)','id':'ELEMENT_NUMBERED_LIST_DEFAULT'});case'ELEMENT_NUMBERED_LIST':return t({'string':'numbered\x20list','id':'ELEMENT_NUMBERED_LIST'});case'ELEMENT_NUMBERED_LIST_DECIMAL':return t({'string':'numbered\x20list\x20(decimal)','id':'ELEMENT_NUMBERED_LIST_DECIMAL'});case'ELEMENT_NUMBERED_LIST_DECIMAL_LEADING_ZERO':return t({'string':'numbered\x20list\x20(decimal\x20with\x20leading\x20zero)','id':'ELEMENT_NUMBERED_LIST_DECIMAL_LEADING_ZERO'});case'ELEMENT_NUMBERED_LIST_LOWER_LATIN':return t({'string':'numbered\x20list\x20(lower-latin)','id':'ELEMENT_NUMBERED_LIST_LOWER_LATIN'});case'ELEMENT_NUMBERED_LIST_LOWER_ROMAN':return t({'string':'numbered\x20list\x20(lower-roman)','id':'ELEMENT_NUMBERED_LIST_LOWER_ROMAN'});case'ELEMENT_NUMBERED_LIST_UPPER_LATIN':return t({'string':'numbered\x20list\x20(upper-latin)','id':'ELEMENT_NUMBERED_LIST_UPPER_LATIN'});case'ELEMENT_NUMBERED_LIST_UPPER_ROMAN':return t({'string':'numbered\x20list\x20(upper-roman)','id':'ELEMENT_NUMBERED_LIST_UPPER_ROMAN'});case'ELEMENT_TODO_LIST':return t({'string':'to-do\x20list','id':'ELEMENT_TODO_LIST'});case'ELEMENT_MULTI_LEVEL_LIST':return t({'string':'multi-level\x20list','id':'ELEMENT_MULTI_LEVEL_LIST'});case'REPLACE_TEXT':return t({'string':'*Replace:*\x20%0\x20*with*\x20%1','id':'REPLACE_TEXT'},_0x44bb64);case'ELEMENT_SPACE':return t({'string':'space','plural':'%0\x20spaces','id':'ELEMENT_SPACE'},_0x44bb64);case'FORMAT_ALIGNMENT':return t({'string':'alignment','id':'FORMAT_ALIGNMENT'});case'FORMAT_ALIGN_TO_LEFT':return t({'string':'align\x20to\x20left','id':'FORMAT_ALIGN_TO_LEFT'});case'FORMAT_ALIGN_TO_RIGHT':return t({'string':'align\x20to\x20right','id':'FORMAT_ALIGN_TO_RIGHT'});case'FORMAT_ALIGN_TO_CENTER':return t({'string':'align\x20to\x20center','id':'FORMAT_ALIGN_TO_CENTER'});case'FORMAT_JUSTIFY_TEXT':return t({'string':'justify','id':'FORMAT_JUSTIFY_TEXT'});case'FORMAT_BOLD':return t({'string':'bold','id':'FORMAT_BOLD'});case'FORMAT_ITALIC':return t({'string':'italic','id':'FORMAT_ITALIC'});case'FORMAT_UNDERLINE':return t({'string':'underline','id':'FORMAT_UNDERLINE'});case'FORMAT_CODE':return t({'string':'code','id':'FORMAT_CODE'});case'FORMAT_STRIKETHROUGH':return t({'string':'strikethrough','id':'FORMAT_STRIKETHROUGH'});case'FORMAT_SUBSCRIPT':return t({'string':'subscript','id':'FORMAT_SUBSCRIPT'});case'FORMAT_SUPERSCRIPT':return t({'string':'superscript','id':'FORMAT_SUPERSCRIPT'});case'ELEMENT_BLOCK_QUOTE':return t({'string':'block\x20quote','id':'ELEMENT_BLOCK_QUOTE'});case'ELEMENT_CODE_BLOCK':return t({'string':'code\x20block','plural':'%0\x20code\x20blocks','id':'ELEMENT_CODE_BLOCK'},_0x44bb64);case'FORMAT_HEADER_COLUMN':return t({'string':'header\x20column','id':'FORMAT_HEADER_COLUMN'});case'FORMAT_REGULAR_COLUMN':return t({'string':'regular\x20column','id':'FORMAT_REGULAR_COLUMN'});case'FORMAT_HEADER_ROW':return t({'string':'header\x20row','id':'FORMAT_HEADER_ROW'});case'FORMAT_REGULAR_ROW':return t({'string':'regular\x20row','id':'FORMAT_REGULAR_ROW'});case'FORMAT_INDENT':return t({'string':'indent','id':'FORMAT_INDENT'});case'FORMAT_LIST_REVERSED':return t({'string':'list\x20reversed','id':'FORMAT_LIST_REVERSED'});case'FORMAT_LIST_START':return t({'string':'list\x20start','id':'FORMAT_LIST_START'});case'FORMAT_FONT_SIZE':return t({'string':'font\x20size','id':'FORMAT_FONT_SIZE'});case'FORMAT_FONT_FAMILY':return t({'string':'font\x20family','id':'FORMAT_FONT_FAMILY'});case'FORMAT_FONT_COLOR':return t({'string':'font\x20color','id':'FORMAT_FONT_COLOR'});case'FORMAT_FONT_BACKGROUND':return t({'string':'font\x20background\x20color','id':'FORMAT_FONT_BACKGROUND'});case'FORMAT_IMAGE_SIZE':return t({'string':'image\x20size','id':'FORMAT_IMAGE_SIZE'});case'FORMAT_STYLE':return t({'string':'style','id':'FORMAT_STYLE'});case'FORMAT_LINE_HEIGHT':return t({'string':'line\x20height','id':'FORMAT_LINE_HEIGHT'});case'FORMAT_TABLE_BORDER_COLOR':return t({'string':'table\x20border\x20color','id':'FORMAT_TABLE_BORDER_COLOR'});case'FORMAT_TABLE_BORDER_STYLE':return t({'string':'table\x20border\x20style','id':'FORMAT_TABLE_BORDER_STYLE'});case'FORMAT_TABLE_BORDER_WIDTH':return t({'string':'table\x20border\x20width','id':'FORMAT_TABLE_BORDER_WIDTH'});case'FORMAT_TABLE_ALIGNMENT':return t({'string':'table\x20alignment','id':'FORMAT_TABLE_ALIGNMENT'});case'FORMAT_TABLE_WIDTH':return t({'string':'table\x20width','id':'FORMAT_TABLE_WIDTH'});case'FORMAT_TABLE_HEIGHT':return t({'string':'table\x20height','id':'FORMAT_TABLE_HEIGHT'});case'FORMAT_TABLE_BACKGROUND_COLOR':return t({'string':'table\x20background\x20color','id':'FORMAT_TABLE_BACKGROUND_COLOR'});case'FORMAT_TABLE_CELL_BORDER_COLOR':return t({'string':'table\x20cell\x20border\x20color','id':'FORMAT_TABLE_CELL_BORDER_COLOR'});case'FORMAT_TABLE_CELL_BORDER_STYLE':return t({'string':'table\x20cell\x20border\x20style','id':'FORMAT_TABLE_CELL_BORDER_STYLE'});case'FORMAT_TABLE_CELL_BORDER_WIDTH':return t({'string':'table\x20cell\x20border\x20width','id':'FORMAT_TABLE_CELL_BORDER_WIDTH'});case'FORMAT_TABLE_CELL_PADDING':return t({'string':'table\x20cell\x20padding','id':'FORMAT_TABLE_CELL_PADDING'});case'FORMAT_TABLE_CELL_WIDTH':return t({'string':'table\x20cell\x20width','id':'FORMAT_TABLE_CELL_WIDTH'});case'FORMAT_TABLE_CELL_HEIGHT':return t({'string':'table\x20cell\x20height','id':'FORMAT_TABLE_CELL_HEIGHT'});case'FORMAT_TABLE_CELL_BACKGROUND_COLOR':return t({'string':'table\x20cell\x20background\x20color','id':'FORMAT_TABLE_CELL_BACKGROUND_COLOR'});case'FORMAT_TABLE_CELL_HORIZONTAL_ALIGNMENT':return t({'string':'table\x20cell\x20horizontal\x20alignment','id':'FORMAT_TABLE_CELL_HORIZONTAL_ALIGNMENT'});case'FORMAT_TABLE_CELL_VERTICAL_ALIGNMENT':return t({'string':'table\x20cell\x20vertical\x20alignment','id':'FORMAT_TABLE_CELL_VERTICAL_ALIGNMENT'});case'PENDING_ACTION_SUGGESTION':return t({'string':'Unsaved\x20change\x20in\x20suggestion.','id':'PENDING_ACTION_SUGGESTION'});case'ELEMENT_TABLE_WITH_TEXT':return t({'string':'table\x20*with\x20text*\x20%0','id':'ELEMENT_TABLE_WITH_TEXT'},_0x44bb64);case'ELEMENT_TABLE_ROW':return t({'string':'table\x20row','plural':'%0\x20table\x20rows','id':'ELEMENT_TABLE_ROW'},_0x44bb64);case'ELEMENT_TABLE_ROW_WITH_TEXT':return t({'string':'table\x20row\x20*with\x20text*\x20%1','plural':'%0\x20table\x20rows\x20*with\x20text*\x20%1','id':'ELEMENT_TABLE_ROW_WITH_TEXT'},_0x44bb64);case'ELEMENT_TABLE_COLUMN':return t({'string':'table\x20column','plural':'%0\x20table\x20columns','id':'ELEMENT_TABLE_COLUMN'},_0x44bb64);case'ELEMENT_TABLE_COLUMN_WITH_TEXT':return t({'string':'table\x20column\x20*with\x20text*\x20%1','plural':'%0\x20table\x20columns\x20*with\x20text*\x20%1','id':'ELEMENT_TABLE_COLUMN_WITH_TEXT'},_0x44bb64);case'ELEMENT_TABLE_OF_CONTENTS':return t({'string':'table\x20of\x20contents','plural':'%0\x20tables\x20of\x20contents','id':'ELEMENT_TABLE_OF_CONTENTS'},_0x44bb64);case'ELEMENT_LINE_BREAK':return t({'id':'ELEMENT_LINE_BREAK','string':'line\x20break','plural':'%0\x20line\x20breaks'},_0x44bb64);case'ELEMENT_TITLE':return t({'id':'ELEMENT_TITLE','string':'title'});case'ELEMENT_MERGE_FIELD':return t({'id':'ELEMENT_MERGE_FIELD','string':'merge\x20field','plural':'%0\x20merge\x20fields'},_0x44bb64);case'ELEMENT_BOOKMARK':return t({'id':'ELEMENT_BOOKMARK','string':'bookmark','plural':'%0\x20bookmarks'},_0x44bb64);case'EXTERNAL_SUGGESTION':return t({'id':'EXTERNAL_SUGGESTION','string':'This\x20suggestion\x20comes\x20from\x20an\x20external\x20source.'});case'EXTERNAL_IMPORT_WORD_SUGGESTION':return t({'string':'This\x20suggestion\x20comes\x20from\x20an\x20imported\x20Word\x20file.','id':'EXTERNAL_IMPORT_WORD_SUGGESTION'});case'EXTERNAL_AVATAR':return _0x37b5e0({'string':'Displayed\x20author\x20name\x20comes\x20from\x20external\x20source\x20(added\x20by\x20%0)','id':'EXTERNAL_AVATAR'},_0x44bb64);case'EXTERNAL_IMPORT_WORD_AVATAR':return _0x37b5e0({'string':'Displayed\x20author\x20name\x20comes\x20from\x20a\x20Word\x20document\x20imported\x20by\x20%0','id':'EXTERNAL_IMPORT_WORD_AVATAR'},_0x44bb64);case'ENTER_INSERTION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Entering\x20insertion\x20suggestion.\x20Press\x20%0\x20to\x20go\x20to\x20the\x20discussion.','id':'ENTER_INSERTION_SUGGESTION_ANNOUNCEMENT'},_0x44bb64);case'LEAVE_INSERTION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Leaving\x20insertion\x20suggestion.','id':'LEAVE_INSERTION_SUGGESTION_ANNOUNCEMENT'});case'ENTER_DELETION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Entering\x20deletion\x20suggestion.\x20Press\x20%0\x20to\x20go\x20to\x20the\x20discussion.','id':'ENTER_DELETION_SUGGESTION_ANNOUNCEMENT'},_0x44bb64);case'LEAVE_DELETION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Leaving\x20deletion\x20suggestion.','id':'LEAVE_DELETION_SUGGESTION_ANNOUNCEMENT'});case'ENTER_FORMATTING_SUGGESTION_ANNOUNCEMENT':return t({'string':'Entering\x20formatting\x20suggestion.\x20Press\x20%0\x20to\x20go\x20to\x20the\x20discussion.','id':'ENTER_FORMATTING_SUGGESTION_ANNOUNCEMENT'},_0x44bb64);case'LEAVE_FORMATTING_SUGGESTION_ANNOUNCEMENT':return t({'string':'Leaving\x20formatting\x20suggestion.','id':'LEAVE_FORMATTING_SUGGESTION_ANNOUNCEMENT'});case'SUGGESTION_THREAD_ARIA_LABEL':return t({'string':'Suggestion\x20by\x20%1.\x20Created\x20on\x20%2.\x20%0\x20reply.\x20%3','plural':'Suggestion\x20by\x20%1.\x20Created\x20on\x20%2.\x20%0\x20replies.\x20%3','id':'SUGGESTION_THREAD_ARIA_LABEL'},_0x44bb64);case'SUGGESTION_THREAD_DESCRIPTION':return t({'string':'Press\x20Enter\x20for\x20more\x20options.\x20Press\x20Escape\x20to\x20exit.','id':'SUGGESTION_THREAD_DESCRIPTION'});default:return _0x394cc9;}}class U{['_customCallbacks'];['_itemLabels'];['_itemLabelsCallbacks'];['_attributeLabels'];['_schema'];['_locale'];constructor(_0x4e82af,_0x25940f){this['_customCallbacks']=[],this['_itemLabels']=new Map(),this['_itemLabelsCallbacks']=[],this['_attributeLabels']=new Map(),this['_schema']=_0x4e82af,this['_locale']=_0x25940f;}['getDescriptions'](_0x20a7e3){const _0x1c0a09=[],_0x4fdf90=new Set(),_0x3315fb=new Set();for(let _0x290494=0x0;_0x290494<_0x20a7e3['length'];_0x290494++){const _0x44c0bb=_0x20a7e3[_0x290494];if(!_0x44c0bb['isInContent'])continue;const _0x278ed2=this['_handleCustomCallbackDescription'](_0x44c0bb);if(_0x278ed2){if(null!=_0x44c0bb['subType']){if(_0x4fdf90['has'](_0x44c0bb['subType']))continue;_0x4fdf90['add'](_0x44c0bb['subType']);}_0x1c0a09['push'](_0x278ed2);}else{if('attribute'==_0x44c0bb['type']){const _0x3c5cda=_0x44c0bb['data']['key'];if(_0x3315fb['has'](_0x3c5cda))continue;_0x3315fb['add'](_0x44c0bb['data']['key']),_0x3c5cda==m?this['_handleRenameSuggestionDescription'](_0x1c0a09,_0x44c0bb):this['_handleAttributeSuggestionDescription'](_0x1c0a09,_0x44c0bb);continue;}'insertion'!=_0x44c0bb['type']&&'deletion'!=_0x44c0bb['type']||this['_handleInsertRemoveSuggestionDescription'](_0x1c0a09,_0x44c0bb,_0x20a7e3[_0x290494+0x1]);}}return this['_resolveDescriptionItems'](_0x1c0a09);}['registerDescriptionCallback'](_0x190e6a){this['_customCallbacks']['push'](_0x190e6a);}['registerElementLabel'](_0x4c95bf,_0x7adce6,_0x3ef742=_0x121033['normal']){'function'==typeof _0x4c95bf?_0x1ff196(this['_itemLabelsCallbacks'],{'matchingCallback':_0x4c95bf,'label':_0x7adce6,'priority':_0x3ef742}):this['_itemLabels']['set'](_0x4c95bf,_0x7adce6);}['registerAttributeLabel'](_0x58f32d,_0x21e79f){this['_attributeLabels']['set'](_0x58f32d,_0x21e79f);}['getItemLabel'](_0x162d38,_0x37ca83=0x1){let _0x372611;for(const _0x340371 of this['_itemLabelsCallbacks'])if(_0x340371['matchingCallback'](_0x162d38)){_0x372611=_0x340371['label'];break;}return _0x372611||(_0x372611=this['_itemLabels']['get'](_0x162d38['name'])),_0x372611?_0x372611(_0x37ca83):0x1!==_0x37ca83?_0x37ca83+'\x20'+_0x162d38['name']+'s':''+_0x162d38['name'];}['_addDescriptionItems'](_0x2299ba,_0x431571){const _0x23dda8=_0x431571['getFirstRange']()['getWalker'](),_0x3672d3='insertion'==_0x431571['type']?'add':'remove';for(const _0x4e222b of _0x23dda8){const _0x38079e=_0x4e222b['item'],_0x2bda76=_0x2299ba[_0x2299ba['length']-0x1];if(_0x38079e['is']('$textProxy'))_0x2bda76&&_0x2bda76['type']['indexOf']('Container')>-0x1&&_0x2299ba['pop'](),_0x2bda76&&'text'==_0x2bda76['type']?_0x2bda76[_0x3672d3]+=_0x38079e['data']:_0x2299ba['push']({'type':'text','add':'add'==_0x3672d3?_0x38079e['data']:'','remove':'remove'==_0x3672d3?_0x38079e['data']:''});else{if(this['_schema']['isObject'](_0x38079e)){const _0x32995e=_0x38079e;if(_0x2bda76&&_0x2bda76['type']['indexOf']('Container')>-0x1&&_0x2299ba['pop'](),'elementEnd'==_0x4e222b['type'])continue;_0x2bda76&&_0x2bda76['type']==_0x3672d3+'Object'&&_0x2bda76['element']['name']==_0x32995e['name']?_0x2bda76['quantity']++:_0x2299ba['push']({'type':_0x3672d3+'Object','element':_0x32995e,'quantity':0x1}),_0x23dda8['skip'](_0x4b0b25=>!('elementEnd'==_0x4b0b25['type']&&_0x4b0b25['item']==_0x38079e));}else{if(this['_schema']['checkChild'](_0x38079e,'$text')||_0x38079e['is']('element','softBreak')){const _0x2dfae2=_0x38079e;if('add'==_0x3672d3&&'elementStart'==_0x4e222b['type']||'remove'==_0x3672d3&&'elementEnd'==_0x4e222b['type'])continue;if(_0x2bda76&&-0x1==_0x2bda76['type']['indexOf']('Container')){'text'==_0x2bda76['type']&&(_0x2bda76[_0x3672d3]+='\x0a');continue;}let _0x32b02a;if(_0x32b02a='add'==_0x3672d3?_0x2dfae2['nextSibling']&&!this['_schema']['isObject'](_0x2dfae2['nextSibling'])?_0x2dfae2['nextSibling']:null:_0x2dfae2['previousSibling']&&!this['_schema']['isObject'](_0x2dfae2['previousSibling'])?_0x2dfae2['previousSibling']:null,_0x2dfae2['isEmpty']||_0x32b02a&&_0x32b02a['isEmpty']){const _0x253ec6=_0x32b02a&&_0x32b02a['isEmpty']?_0x32b02a:_0x2dfae2;_0x2bda76&&_0x2bda76['type']==_0x3672d3+'EmptyContainer'&&_0x2bda76['element']['name']==_0x253ec6['name']?_0x2bda76['quantity']++:_0x2299ba['push']({'type':_0x3672d3+'EmptyContainer','element':_0x253ec6,'quantity':0x1});}else _0x2299ba['push']({'type':_0x3672d3+'Container','element':_0x2dfae2});}}}}}['_resolveDescriptionItems'](_0x23c593){const _0x18105e=this['_locale'],_0x3910f4=[],_0x32b2fa=[],_0x5380e4=[];for(const _0x2c62ba of _0x23c593)switch(_0x2c62ba['type']){case'text':if(_0x2c62ba['add']=_0x2c62ba['add']['replace'](/(\S)\u000A+(\S)/g,'$1\x20$2')['replace'](/\u000A/g,''),_0x2c62ba['remove']=_0x2c62ba['remove']['replace'](/(\S)\u000A+(\S)/g,'$1\x20$2')['replace'](/\u000A/g,''),''!=_0x2c62ba['add']&&''!=_0x2c62ba['remove']){_0x3910f4['push']({'type':'replace','content':o(_0x18105e,'REPLACE_TEXT',['\x22'+_0x2c62ba['remove']+'\x22','\x22'+_0x2c62ba['add']+'\x22'])});continue;}if(null!=_0x2c62ba['add']['match'](/^ +$/)){_0x3910f4['push']({'type':'insertion','content':o(_0x18105e,'*Insert:*\x20%0',o(_0x18105e,'ELEMENT_SPACE',_0x2c62ba['add']['length']))});continue;}if(null!=_0x2c62ba['remove']['match'](/^ +$/)){_0x3910f4['push']({'type':'deletion','content':o(_0x18105e,'*Remove:*\x20%0',o(_0x18105e,'ELEMENT_SPACE',_0x2c62ba['remove']['length']))});continue;}if(''!=_0x2c62ba['add']){_0x3910f4['push']({'type':'insertion','content':o(_0x18105e,'*Insert:*\x20%0','\x22'+_0x2c62ba['add']+'\x22')});continue;}_0x3910f4['push']({'type':'deletion','content':o(_0x18105e,'*Remove:*\x20%0','\x22'+_0x2c62ba['remove']+'\x22')});continue;case'addEmptyContainer':case'addObject':_0x3910f4['push']({'type':'insertion','content':o(_0x18105e,'*Insert:*\x20%0',this['getItemLabel'](_0x2c62ba['element'],_0x2c62ba['quantity']))});continue;case'removeEmptyContainer':case'removeObject':_0x3910f4['push']({'type':'deletion','content':o(_0x18105e,'*Remove:*\x20%0',this['getItemLabel'](_0x2c62ba['element'],_0x2c62ba['quantity']))});continue;case'addContainer':_0x3910f4['push']({'type':'insertion','content':o(_0x18105e,'*Split:*\x20%0',this['getItemLabel'](_0x2c62ba['element'],_0x2c62ba['quantity']))});continue;case'removeContainer':_0x3910f4['push']({'type':'deletion','content':o(_0x18105e,'*Merge:*\x20%0',this['getItemLabel'](_0x2c62ba['element'],_0x2c62ba['quantity']))});continue;case'addFormat':_0x32b2fa['push'](_0x2c62ba['key']);continue;case'removeFormat':_0x5380e4['push'](_0x2c62ba['key']);continue;default:_0x3910f4['push'](_0x2c62ba);}if(_0x32b2fa['length']){const _0x225632=_0x32b2fa['map'](_0xdfc14e=>this['_attributeLabels']['has'](_0xdfc14e)?this['_attributeLabels']['get'](_0xdfc14e):_0xdfc14e)['join'](',\x20');_0x3910f4['push']({'type':'format','content':o(this['_locale'],'*Set\x20format:*\x20%0',_0x225632)});}if(_0x5380e4['length']){const _0xecae92=_0x5380e4['map'](_0x17adce=>this['_attributeLabels']['has'](_0x17adce)?this['_attributeLabels']['get'](_0x17adce):_0x17adce)['join'](',\x20');_0x3910f4['push']({'type':'format','content':o(this['_locale'],'*Remove\x20format:*\x20%0',_0xecae92)});}return _0x3910f4;}['_handleCustomCallbackDescription'](_0x5024c3){for(const _0x4b776e of this['_customCallbacks']){const _0x3475bf=_0x4b776e(_0x5024c3);if(_0x3475bf&&'type'in _0x3475bf)return _0x3475bf;}}['_handleAttributeSuggestionDescription'](_0xc661aa,_0x1019d9){const _0x356d28=_0x1019d9['data'],_0xcf8f79=void 0x0===_0x356d28['newValue']?'removeFormat':'addFormat';_0xc661aa['push']({'type':_0xcf8f79,'key':_0x356d28['key']});}['_handleRenameSuggestionDescription'](_0x4e12ed,_0x2eaaf8){_0x4e12ed['push']({'type':'format','content':o(this['_locale'],'*Change\x20to:*\x20%0',this['getItemLabel'](_0x2eaaf8['getFirstRange']()['start']['nodeAfter'],0x1))});}['_handleInsertRemoveSuggestionDescription'](_0x4d4aaa,_0x2977a1,_0x3ed29d){if(this['_addDescriptionItems'](_0x4d4aaa,_0x2977a1),_0x3ed29d&&_0x3ed29d['getFirstRange']()&&!_0x2977a1['getFirstRange']()['end']['isEqual'](_0x3ed29d['getFirstRange']()['start'])){const _0x5d3071=_0x4d4aaa[_0x4d4aaa['length']-0x1],_0x25f2bc='insertion'==_0x2977a1['type']?'add':'remove';_0x5d3071&&'text'==_0x5d3071['type']&&(_0x5d3071[_0x25f2bc]+='\x0a');}}}class V extends _0x150e1e{['afterInit'](){const _0x7f366e=this['editor'],_0x490d68=_0x7f366e['plugins']['get']('TrackChangesEditing');_0x7f366e['commands']['get']('showAIAssistant')&&_0x490d68['enableCommand']('showAIAssistant');}}class F extends _0x150e1e{['afterInit'](){const _0x551472=this['editor'],_0x22ba5a=_0x551472['plugins']['get']('TrackChangesEditing');_0x551472['commands']['get']('toggleAi')&&_0x22ba5a['enableCommand']('toggleAi');}}class G extends _0x150e1e{['afterInit'](){const _0x5a92be=this['editor'],_0x54c937=_0x5a92be['plugins']['get']('TrackChangesEditing');_0x5a92be['commands']['get']('aiQuickAction')&&_0x54c937['enableCommand']('aiQuickAction');}}class L extends _0x150e1e{['afterInit'](){const _0x519e9d=this['editor'],_0x2a8359=_0x519e9d['locale'];if(!_0x519e9d['plugins']['has']('AlignmentEditing'))return;const _0x2f1d61=_0x519e9d['plugins']['get']('TrackChangesEditing');_0x2f1d61['enableDefaultAttributesIntegration']('alignment'),_0x2f1d61['registerBlockAttribute']('alignment'),_0x2f1d61['descriptionFactory']['registerAttributeLabel']('alignment',o(_0x2a8359,'FORMAT_ALIGNMENT')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x5d466a=this['editor'],_0x286c03=_0x5d466a['locale'];_0x5d466a['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x17bfd3=>{if('formatBlock'!=_0x17bfd3['type'])return;const {data:_0x535ae6}=_0x17bfd3;if(_0x535ae6&&'alignment'==_0x535ae6['commandName']){const _0x396dfc=_0x535ae6['commandParams'][0x0]['value'];return{'type':'format','content':o(_0x286c03,'*Format:*\x20%0',function(_0xf95a17){switch(_0xf95a17){case'left':return o(_0x286c03,'FORMAT_ALIGN_TO_LEFT');case'right':return o(_0x286c03,'FORMAT_ALIGN_TO_RIGHT');case'center':return o(_0x286c03,'FORMAT_ALIGN_TO_CENTER');case'justify':return o(_0x286c03,'FORMAT_JUSTIFY_TEXT');}}(_0x396dfc))};}});}}const ti=['BoldEditing','ItalicEditing','UnderlineEditing','CodeEditing','StrikethroughEditing','SubscriptEditing','SuperscriptEditing'];class J extends _0x150e1e{['afterInit'](){const _0x37ecea=this['editor'],_0x5a70da=_0x37ecea['plugins']['get']('TrackChangesEditing'),_0x3a9c3e=_0x37ecea['locale'];for(const _0x47705b of ti){if(!_0x37ecea['plugins']['has'](_0x47705b))continue;const _0x109f9b=_0x47705b['slice'](0x0,-0x7)['toLowerCase'](),_0x5a41e6='FORMAT_'+_0x109f9b['toUpperCase']();_0x5a70da['enableDefaultAttributesIntegration'](_0x109f9b),_0x5a70da['registerInlineAttribute'](_0x109f9b),_0x5a70da['descriptionFactory']['registerAttributeLabel'](_0x109f9b,o(_0x3a9c3e,_0x5a41e6));}this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0xebf642=this['editor'],_0x2c0370=_0xebf642['locale'],_0x3d186d=_0xebf642['plugins']['get']('TrackChangesEditing');function _0x2f064(_0x2c39e0,_0x4a2be8){_0x3d186d['descriptionFactory']['registerDescriptionCallback'](_0x267d13=>{if('formatInline'!=_0x267d13['type'])return;const {data:_0xe18b54}=_0x267d13;return _0xe18b54&&_0xe18b54['commandName']===_0x2c39e0?_0xe18b54['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x2c0370,'*Format:*\x20%0',_0x4a2be8)}:{'type':'format','content':o(_0x2c0370,'*Remove\x20format:*\x20%0',_0x4a2be8)}:void 0x0;});}_0x2f064('bold',o(_0x2c0370,'FORMAT_BOLD')),_0x2f064('italic',o(_0x2c0370,'FORMAT_ITALIC')),_0x2f064('underline',o(_0x2c0370,'FORMAT_UNDERLINE')),_0x2f064('code',o(_0x2c0370,'FORMAT_CODE')),_0x2f064('strikethrough',o(_0x2c0370,'FORMAT_STRIKETHROUGH')),_0x2f064('subscript',o(_0x2c0370,'FORMAT_SUBSCRIPT')),_0x2f064('superscript',o(_0x2c0370,'FORMAT_SUPERSCRIPT'));}}class K extends _0x150e1e{['afterInit'](){const _0x19a9b=this['editor'],_0x528b80=_0x19a9b['locale'];if(!_0x19a9b['plugins']['has']('BlockQuoteEditing'))return;const _0x2820b7=_0x19a9b['plugins']['get']('TrackChangesEditing'),_0x51227b=this['editor']['commands']['get']('blockQuote');_0x2820b7['enableCommand']('blockQuote',(_0x55c9f0,_0x10eaf0={})=>{const _0x4784c4=this['editor']['model']['document']['selection'],_0x4cc885=_0x10eaf0&&void 0x0!==_0x10eaf0['forceValue']?_0x10eaf0['forceValue']:!_0x51227b['value'];let _0x11ff99=[];if(_0x4cc885){const _0x1cdf19=Array['from'](_0x4784c4['getSelectedBlocks']())['filter'](_0x8cf4cb=>oo(_0x8cf4cb)||function(_0x5b69a8,_0x4a34cb){const _0x25c5f1=_0x4a34cb['checkChild'](_0x5b69a8['parent'],'blockQuote'),_0xfcab5a=_0x4a34cb['checkChild'](['$root','blockQuote'],_0x5b69a8);return _0x25c5f1&&_0xfcab5a;}(_0x8cf4cb,this['editor']['model']['schema']));_0x11ff99=to(_0x1cdf19,_0x19a9b['model']);}else{const _0x1fda77=Array['from'](_0x4784c4['getSelectedBlocks']())['filter'](_0x5406fa=>oo(_0x5406fa));_0x11ff99=to(_0x1fda77,_0x19a9b['model']);}_0x19a9b['model']['change'](()=>{for(const _0x10697b of _0x11ff99)_0x2820b7['markBlockFormat'](_0x10697b,{'commandName':'blockQuote','commandParams':[{'forceValue':_0x4cc885}]});});}),_0x2820b7['descriptionFactory']['registerDescriptionCallback'](_0x42b64c=>{const {data:_0x118d63}=_0x42b64c;if(_0x118d63&&'blockQuote'==_0x118d63['commandName']){const _0xe56c0b=o(_0x528b80,'ELEMENT_BLOCK_QUOTE');return _0x118d63['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x528b80,'*Set\x20format:*\x20%0',_0xe56c0b)}:{'type':'format','content':o(_0x528b80,'*Remove\x20format:*\x20%0',_0xe56c0b)};}});}}function oo(_0x1de484){return'blockQuote'==_0x1de484['parent']['name'];}class q extends _0x150e1e{['afterInit'](){const _0x3a2f4f=this['editor'],_0x1b93a0=_0x3a2f4f['locale'],_0x1ddd5d=_0x3a2f4f['plugins']['get']('TrackChangesEditing');_0x3a2f4f['plugins']['has']('BookmarkEditing')&&(_0x1ddd5d['enableCommand']('insertBookmark'),_0x1ddd5d['enableDefaultAttributesIntegration']('updateBookmark'),_0x1ddd5d['registerBlockAttribute']('bookmarkId'),_0x1ddd5d['descriptionFactory']['registerDescriptionCallback'](_0x28e77b=>{if('insertion'!=_0x28e77b['type']&&'deletion'!=_0x28e77b['type']&&'attribute'!=_0x28e77b['type'])return;const _0x15336c=_0x28e77b['getContainedElement']();if(null==_0x15336c)return;if(!_0x15336c['is']('element','bookmark'))return;const _0x26b595=_0x15336c['getAttribute']('bookmarkId');if('insertion'==_0x28e77b['type'])return{'type':'insertion','content':o(_0x1b93a0,'*Insert:*\x20%0','\x22'+_0x26b595+'\x22\x20'+o(_0x1b93a0,'ELEMENT_BOOKMARK'))};if('deletion'==_0x28e77b['type'])return{'type':'deletion','content':o(_0x1b93a0,'*Remove:*\x20%0','\x22'+_0x26b595+'\x22\x20'+o(_0x1b93a0,'ELEMENT_BOOKMARK'))};const {data:_0x25b39c}=_0x28e77b;if(!_0x25b39c||'bookmarkId'!=_0x25b39c['key'])return;return{'type':'format','content':o(_0x1b93a0,'*Set\x20bookmark:*\x20%0','\x22'+_0x25b39c['newValue']+'\x22')};}));}}class H extends _0x150e1e{['afterInit'](){const _0x4a0e39=this['editor'];_0x4a0e39['plugins']['has']('CaseChange')&&(_0x4a0e39['plugins']['get']('TrackChangesEditing')['enableCommand']('changeCaseUpper'),_0x4a0e39['plugins']['get']('TrackChangesEditing')['enableCommand']('changeCaseLower'),_0x4a0e39['plugins']['get']('TrackChangesEditing')['enableCommand']('changeCaseTitle'));}}class W extends _0x150e1e{['afterInit'](){const _0xe6c273=this['editor'];_0xe6c273['commands']['get']('ckbox')&&_0xe6c273['plugins']['get']('TrackChangesEditing')['enableCommand']('ckbox');}}class z extends _0x150e1e{['afterInit'](){const _0x525e68=this['editor'];if(!_0x525e68['plugins']['has']('CodeBlock'))return;const _0x5ecaa1=_0x525e68['plugins']['get']('TrackChangesEditing'),_0x27cc60=_0x525e68['locale'],_0x5e9ff4=_0x525e68['config']['get']('codeBlock')['languages'],_0x2e5266=_0x525e68['commands']['get']('codeBlock');_0x5ecaa1['enableCommand']('indentCodeBlock'),_0x5ecaa1['enableCommand']('outdentCodeBlock'),_0x5ecaa1['enableCommand']('codeBlock',(_0x4599f2,_0x441844={})=>{const _0x164f80=_0x525e68['model'],_0x18859a=_0x525e68['model']['document']['selection'],_0x4ef10a=_0x441844&&void 0x0!==_0x441844['forceValue']?_0x441844['forceValue']:!_0x2e5266['value'];let _0xdcde48;_0x441844['language']||(_0x441844['language']=_0x5e9ff4[0x0]['language']),_0xdcde48=_0x4ef10a?Array['from'](_0x18859a['getSelectedBlocks']())['filter'](_0x4ca554=>co(_0x4ca554)||function(_0x4e651c,_0xaf044c){if(_0x4e651c['is']('rootElement')||_0xaf044c['isLimit'](_0x4e651c))return!0x1;return _0xaf044c['checkChild'](_0x4e651c['parent'],'codeBlock');}(_0x4ca554,_0x164f80['schema'])):Array['from'](_0x18859a['getSelectedBlocks']())['filter'](_0x56661e=>co(_0x56661e));const _0x4180fa=to(_0xdcde48,_0x164f80);_0x164f80['change'](()=>{for(const _0x201b28 of _0x4180fa)_0x5ecaa1['markBlockFormat'](_0x201b28,{'commandName':'codeBlock','commandParams':[{..._0x441844,'forceValue':_0x4ef10a}],'formatGroupId':'blockName'});});}),(_0x5ecaa1['descriptionFactory']['registerElementLabel']('codeBlock',_0x24a659=>o(_0x27cc60,'ELEMENT_CODE_BLOCK',_0x24a659)),_0x5ecaa1['descriptionFactory']['registerDescriptionCallback'](_0x5ee057=>{if('formatBlock'!=_0x5ee057['type'])return;const _0x532069=_0x27cc60['t'],{data:_0x15c4ea}=_0x5ee057;if(!_0x15c4ea||'codeBlock'!=_0x15c4ea['commandName'])return;const _0x433e94=_0x15c4ea['commandParams'][0x0]['language'],_0x4aa54b=_0x532069(_0x5e9ff4['find'](_0x3e47b4=>_0x3e47b4['language']===_0x433e94)['label'])['toLowerCase']();return _0x15c4ea['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x27cc60,'*Set\x20format:*\x20%0',o(_0x27cc60,'ELEMENT_CODE_BLOCK',0x1)+'\x20('+_0x4aa54b+')')}:{'type':'format','content':o(_0x27cc60,'*Remove\x20format:*\x20%0',o(_0x27cc60,'ELEMENT_CODE_BLOCK',0x1))};}));}}function co(_0xb05323){return'codeBlock'==_0xb05323['name'];}class Q extends _0x150e1e{['afterInit'](){const _0x1b8585=this['editor'];if(!_0x1b8585['plugins']['has']('CommentsEditing'))return;_0x1b8585['plugins']['get']('TrackChangesEditing')['enableCommand']('addCommentThread');}}function io(_0x28538b,_0x4a1e18,_0x15c14e){const _0x182292=[];for(const _0xf01e7e of _0x4a1e18['getItems']())_0xf01e7e['hasAttribute'](_0x28538b)&&_0x182292['push'](_0x15c14e['createRangeOn'](_0xf01e7e));return _0x182292;}function Ve(_0x255bc2,_0x5515fb,{showActiveMarker:_0x173046=!0x0}={}){const _0x359494=_0x255bc2['plugins']['get']('TrackChangesEditing');return(_0x5408c0,_0x594dc4,_0x358b2a)=>{if(!_0x358b2a['consumable']['test'](_0x594dc4['markerRange'],_0x5408c0['name']))return;const _0x21cfb8=_0x594dc4['markerRange']['getWalker'](),_0x30e1ac=_0x594dc4['markerRange']['start'],_0x1f5023=_0x255bc2['model']['schema'];let _0xb0ace9=null,_0x1104e3=null,_0xcba127=!0x1,_0x4c4a8e=!0x1;for(const _0x552764 of _0x21cfb8){const _0x5be9fb=_0x552764['item'];_0xcba127=_0xcba127||_0x1f5023['isContent'](_0x5be9fb);const _0x26462a=_0x358b2a['mapper']['toViewElement'](_0x5be9fb);if(_0x26462a&&_0x26462a['getCustomProperty']('addHighlight'))return;'elementEnd'==_0x552764['type']&&(_0x1f5023['isBlock'](_0x5be9fb)&&!_0x1f5023['isLimit'](_0x5be9fb)&&(_0x5be9fb['nextSibling']||_0x30e1ac['isAtEnd']?_0xb0ace9&&_0xb0ace9['parent']==_0x5be9fb||(_0xb0ace9=_0x5be9fb,_0x56a0f7(_0x552764['previousPosition']),_0x4c4a8e=!0x0):_0x1104e3=_0x1104e3||_0x552764['previousPosition']));}function _0x56a0f7(_0x27c138){const {id:_0x2c9749,authorId:_0x2ab03b}=_0x359494['_splitMarkerName'](_0x594dc4['markerName']),_0x3e4c49=_0x358b2a['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-'+_0x5515fb,'data-suggestion':_0x2c9749,'data-author-id':_0x2ab03b}),_0x4d5cf4=_0x358b2a['mapper']['toViewPosition'](_0x27c138);_0x173046&&_0x359494['activeMarkers']['includes'](_0x594dc4['markerName'])&&_0x358b2a['writer']['addClass']('ck-suggestion-marker--active',_0x3e4c49),_0x358b2a['writer']['insert'](_0x4d5cf4,_0x3e4c49),_0x358b2a['mapper']['bindElementToMarker'](_0x3e4c49,_0x594dc4['markerName']);}_0xcba127||_0x4c4a8e||!_0x1104e3||_0x56a0f7(_0x1104e3);};}class X extends _0x150e1e{static get['requires'](){return[_0x438d17];}['init'](){const _0xa7c1d2=this['editor'],_0x306b4e=_0xa7c1d2['plugins']['get']('TrackChangesEditing');_0x306b4e['enableCommand']('delete');const _0x4ab08d=_0xa7c1d2['commands']['get']('deleteForward');_0x306b4e['enableCommand']('deleteForward',(_0x2bf5ec,_0x5a361a={})=>{const _0x2dc206=_0xa7c1d2['model']['createSelection'](_0xa7c1d2['model']['document']['selection']);_0x2dc206['isCollapsed']&&_0xa7c1d2['model']['modifySelection'](_0x2dc206,{'direction':'forward','unit':_0x5a361a['unit']});const _0x46dac5=_0x2dc206['getFirstRange'](),_0x45810a=_0x4b855c['fromRange'](_0x46dac5);let _0x57dcf2;_0x2bf5ec(_0x5a361a),_0x57dcf2='$graveyard'==_0x45810a['root']['rootName']?_0xa7c1d2['model']['createRange'](_0x46dac5['start']):_0xa7c1d2['model']['createRange'](_0x45810a['start'],_0x45810a['end']),_0x45810a['detach'](),_0xa7c1d2['model']['enqueueChange'](_0x4ab08d['buffer']['batch'],_0x25f8e8=>{_0x4ab08d['buffer']['lock'](),_0x25f8e8['setSelection'](_0x25f8e8['createRange'](_0x57dcf2['end'])),_0x4ab08d['buffer']['unlock']();});}),_0xa7c1d2['editing']['downcastDispatcher']['on']('addMarker:suggestion:deletion',Ve(_0xa7c1d2,'merge'),{'priority':'high'}),_0xa7c1d2['data']['downcastDispatcher']['on']('addMarker:suggestion:deletion',(_0x4d9de4,_0x434132,_0x4f507e)=>{_0x4f507e['options']['showSuggestionHighlights']&&Ve(_0xa7c1d2,'merge',{'showActiveMarker':!0x1})['bind'](this)(_0x4d9de4,_0x434132,_0x4f507e);},{'priority':'high'}),_0xa7c1d2['editing']['downcastDispatcher']['on']('removeMarker:suggestion:deletion',(_0x5d191d,_0xe60c86,_0x1f586c)=>{const _0x6b26a1=_0x1f586c['mapper']['markerNameToElements'](_0xe60c86['markerName']);if(_0x6b26a1){for(const _0x16ec6a of _0x6b26a1)_0x16ec6a['is']('uiElement')&&(_0x1f586c['mapper']['unbindElementFromMarkerName'](_0x16ec6a,_0xe60c86['markerName']),_0x1f586c['writer']['remove'](_0x16ec6a));}},{'priority':'high'});}}class Y extends _0x150e1e{['afterInit'](){const _0x8a5440=this['editor'];if(!_0x8a5440['plugins']['has']('ListEditing'))return;const _0x1cec47=_0x8a5440['locale'],_0x397c0b=_0x8a5440['plugins']['get']('TrackChangesEditing'),_0x39e197=_0x8a5440['plugins']['has']('TodoListEditing'),_0x32823e=!!_0x8a5440['config']['get']('list.multiBlock');function _0x13f66b(_0x1875c0){return{'type':'format','content':''+o(_0x1cec47,'*Set\x20format:*\x20%0',_0x1875c0)};}function _0x244cd1(_0x5d185c){return{'type':'format','content':''+o(_0x1cec47,'*Remove\x20format:*\x20%0',_0x5d185c)};}_0x397c0b['enableDefaultAttributesIntegration']('numberedList'),_0x397c0b['enableDefaultAttributesIntegration']('bulletedList'),_0x397c0b['enableDefaultAttributesIntegration']('customNumberedList'),_0x397c0b['enableDefaultAttributesIntegration']('customBulletedList'),_0x397c0b['enableDefaultAttributesIntegration']('indentList'),_0x397c0b['enableDefaultAttributesIntegration']('outdentList'),_0x397c0b['enableDefaultAttributesIntegration']('splitListItemAfter'),_0x397c0b['enableDefaultAttributesIntegration']('splitListItemBefore'),_0x397c0b['registerBlockAttribute']('listItemId'),_0x397c0b['registerBlockAttribute']('listType'),_0x397c0b['registerBlockAttribute']('listIndent'),_0x32823e&&(_0x397c0b['enableDefaultAttributesIntegration']('mergeListItemBackward'),_0x397c0b['enableDefaultAttributesIntegration']('mergeListItemForward')),_0x39e197&&(_0x397c0b['enableDefaultAttributesIntegration']('todoList'),_0x397c0b['enableDefaultAttributesIntegration']('checkTodoList'),_0x397c0b['registerBlockAttribute']('todoListChecked'),_0x397c0b['descriptionFactory']['registerDescriptionCallback'](_0x3cd387=>{const {data:_0x15da21}=_0x3cd387;if(_0x15da21&&'todoListChecked'==_0x15da21['key'])return{'type':'format','content':_0x15da21['newValue']?o(_0x1cec47,'*Check\x20item*'):o(_0x1cec47,'*Uncheck\x20item*')};}),this['editor']['model']['document']['registerPostFixer'](_0x300807=>{if(_0x300807['batch']['isUndo'])return!0x1;let _0x6bc35b=!0x1;const _0xa55cd3=_0x397c0b['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x5f3bcd=>'todoListChecked'===_0x397c0b['_getAttributeKey'](_0x5f3bcd));for(const _0x4d6e99 of _0xa55cd3){'todo'!=_0x4d6e99['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType')&&(_0x397c0b['_findSuggestions'](_0x4d6e99['getFirstRange'](),'attribute')['find'](_0x515c8e=>'listType'===_0x397c0b['_getAttributeKey'](_0x515c8e['suggestion']))||(_0x300807['removeMarker'](_0x4d6e99['getFirstMarker']()),_0x6bc35b=!0x0));}return _0x6bc35b;})),_0x397c0b['descriptionFactory']['registerAttributeLabel']('listIndent',o(_0x1cec47,'FORMAT_INDENT'));const _0x109b1d={'type':'format','content':''};_0x397c0b['descriptionFactory']['registerDescriptionCallback'](_0x57a9e9=>{const {data:_0x584a6c}=_0x57a9e9;if(!_0x584a6c||'listType'!=_0x584a6c['key'])return;let _0x141d0a=_0x57a9e9['head'];for(;_0x141d0a;){if(_0x141d0a['data']&&(('listStyle'==_0x141d0a['data']['key']||'listMarkerStyle'==_0x141d0a['data']['key'])&&(_0x141d0a['data']['newValue']&&'default'!=_0x141d0a['data']['newValue']||'default'!=_0x141d0a['data']['oldValue']&&!_0x584a6c['newValue'])||!_0x32823e&&_0x141d0a['data']['key']==m))return _0x109b1d;_0x141d0a=_0x141d0a['next'];}if(null==_0x584a6c['newValue'])switch(_0x584a6c['oldValue']){case'bulleted':return _0x244cd1(o(_0x1cec47,'ELEMENT_BULLETED_LIST'));case'numbered':return _0x244cd1(o(_0x1cec47,'ELEMENT_NUMBERED_LIST'));case'todo':return _0x244cd1(o(_0x1cec47,'ELEMENT_TODO_LIST'));}switch(_0x584a6c['newValue']){case'bulleted':return _0x13f66b(o(_0x1cec47,'ELEMENT_BULLETED_LIST'));case'numbered':return _0x13f66b(o(_0x1cec47,'ELEMENT_NUMBERED_LIST'));case'todo':return _0x13f66b(o(_0x1cec47,'ELEMENT_TODO_LIST'));}}),_0x397c0b['descriptionFactory']['registerDescriptionCallback'](_0x49461e=>{const {data:_0x24de1c}=_0x49461e;if(_0x24de1c&&'listIndent'==_0x24de1c['key'])return null==_0x24de1c['newValue']||null==_0x24de1c['oldValue']&&0x0==_0x24de1c['newValue']?_0x109b1d:void 0x0;}),_0x397c0b['descriptionFactory']['registerDescriptionCallback'](_0x3c0943=>{if('attribute'!=_0x3c0943['type'])return;const {data:_0x4e21cd}=_0x3c0943;if(!_0x4e21cd||'listItemId'!=_0x4e21cd['key'])return;const _0x26b325=Be(_0x3c0943);return'newValue'==_0x26b325?{'type':'format','content':o(_0x1cec47,'*Merge:*\x20list\x20item')}:'oldValue'==_0x26b325?{'type':'format','content':o(_0x1cec47,'*Split:*\x20list\x20item')}:_0x109b1d;}),_0x8a5440['model']['document']['registerPostFixer'](_0x56de80=>this['listItemIdFixer'](_0x56de80)),_0x8a5440['model']['document']['registerPostFixer'](_0x157603=>this['noTrackChangesFixer'](_0x157603)),_0x8a5440['model']['document']['on']('change:data',(_0x2a5272,_0x392c9e)=>{if(_0x392c9e['isUndo']||!_0x392c9e['isLocal'])return!0x1;this['assureChains']();},{'priority':'high'}),this['_supportLegacySuggestions']();}['listItemIdFixer'](_0x2fa166){if(_0x2fa166['batch']['isUndo']||!_0x2fa166['batch']['isLocal'])return!0x1;let _0x123ce1=!0x1;const _0x38a064=this['editor']['plugins']['get']('TrackChangesEditing')['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x5549c9=>_0x5549c9['data']&&'listItemId'==_0x5549c9['data']['key'])['filter'](_0x4b7036=>_0x4b7036['data']['newValue']&&_0x4b7036['data']['oldValue']);for(const _0x560662 of _0x38a064)Be(_0x560662)||(_0x2fa166['removeMarker'](_0x560662['getFirstMarker']()),_0x123ce1=!0x0);return _0x123ce1;}['noTrackChangesFixer'](_0x52b8ba){if(_0x52b8ba['batch']['isUndo']||!_0x52b8ba['batch']['isLocal'])return!0x1;const _0x53789e=this['editor']['plugins']['get']('TrackChangesEditing');if(_0x53789e['trackChangesCommand']['value'])return!0x1;let _0x4defeb=!0x1;const _0xaf0a0d=['listType','listItemId','listIndent','listStyle','listStart','listReversed','todoListCheck','listMarker','listMarkerStyle'],_0x1e33d8=this['editor']['model']['document']['differ']['getChanges']()['filter'](_0x358986=>'attribute'==_0x358986['type'])['filter'](_0x1407e6=>_0xaf0a0d['includes'](_0x1407e6['attributeKey']));if(0x0==_0x1e33d8['length'])return _0x4defeb;for(const _0x1c0c32 of _0x1e33d8){const _0x4e7ddf=_0x53789e['_findSuggestions'](_0x1c0c32['range'],'attribute')['filter'](_0x2d7d1c=>!_0x2d7d1c['meta']['isNextTo'])['map'](_0x57eaa5=>_0x57eaa5['suggestion'])['filter'](_0x3070e6=>{const _0x37b4d4=_0x53789e['_getAttributeKey'](_0x3070e6);return _0xaf0a0d['includes'](_0x37b4d4);});if(_0x4e7ddf['length']){for(const _0xad3aae of _0x4e7ddf)_0x52b8ba['removeMarker'](_0xad3aae['getFirstMarker']());_0x4defeb=!0x0;}}return _0x4defeb;}['assureChains'](){const _0x28b3a7=this['editor']['plugins']['get']('TrackChangesEditing'),_0x501f02=['listType','listItemId','listIndent','listStyle','listStart','listReversed','todoListCheck','listMarker','listMarkerStyle'];let _0x191354;const _0x196a28=new Set(this['editor']['model']['document']['differ']['getChangedMarkers']()['filter'](_0x5d0902=>{if(_0x5d0902['data']['oldRange']||!_0x5d0902['data']['newRange'])return null;if(!_0x5d0902['name']['startsWith']('suggestion:attribute:'))return null;const {id:_0x980eec}=_0x28b3a7['_splitMarkerName'](_0x5d0902['name']);if(!_0x28b3a7['hasSuggestion'](_0x980eec))return null;const _0x5b542f=_0x28b3a7['getSuggestion'](_0x980eec);return _0x501f02['includes'](_0x5b542f['data']['key']);})['map'](_0x414dd4=>{const {id:_0xadd025}=_0x28b3a7['_splitMarkerName'](_0x414dd4['name']),_0xfdb239=_0x28b3a7['getSuggestion'](_0xadd025);return _0x191354=_0xfdb239['attributes']['groupId'],_0xfdb239['getFirstRange']()['start']['nodeAfter'];}));if(0x0==_0x196a28['size'])return;const _0x649196=_0x28b3a7['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x48b74c=>'attribute'==_0x48b74c['type']&&_0x48b74c['data']&&_0x501f02['includes'](_0x48b74c['data']['key'])&&_0x48b74c['attributes']['groupId']!=_0x191354)['map'](_0x1396ae=>({'listItem':_0x1396ae['getFirstRange']()['start']['nodeAfter'],'groupId':_0x1396ae['attributes']['groupId']})),_0x4595a2=new Set();for(const {groupId:_0x1483aa,listItem:_0x5d8286}of _0x649196)_0x196a28['has'](_0x5d8286)&&_0x4595a2['add'](_0x1483aa);for(const _0xa25097 of _0x28b3a7['getSuggestions']())_0x4595a2['has'](_0xa25097['attributes']['groupId'])&&_0xa25097['setAttribute']('groupId',_0x191354);}['_supportLegacySuggestions'](){const _0x3c155f=this['editor'],_0x1d1214=_0x3c155f['locale'],_0x312053=_0x3c155f['plugins']['get']('TrackChangesEditing');this['_registerLegacyDescription'](),_0x312053['_suggestionFactory']['registerCustomCallback']('formatBlock','documentList','accept',function(_0x1a6664,_0x598b35){const _0x5456e0=[];for(let _0xeb44e2 of _0x1a6664)_0xeb44e2['start']['nodeAfter']===_0xeb44e2['end']['parent']&&(_0xeb44e2=_0x3c155f['model']['createRange'](_0x3c155f['model']['createPositionAt'](_0xeb44e2['start']['nodeAfter'],0x0))),_0x5456e0['push'](_0xeb44e2);_0x3c155f['model']['change'](_0x207a33=>{const _0x3fa01c=_0x3c155f['model']['document']['selection'],_0x252ef5=Array['from'](_0x3fa01c['getRanges']())['map'](_0x539246=>_0x4b855c['fromRange'](_0x539246));_0x207a33['setSelection'](_0x5456e0),_0x3c155f['commands']['get'](_0x598b35['commandName'])['refresh'](),_0x598b35['commandParams']['push']({'forceDefaultExecution':!0x0}),_0x3c155f['execute'](_0x598b35['commandName'],..._0x598b35['commandParams']),_0x207a33['setSelection'](_0x252ef5);for(const _0x152533 of _0x252ef5)_0x152533['detach']();});}),_0x312053['descriptionFactory']['registerElementLabel'](function(_0x56ee9e){const _0x100d20=!_0x3c155f['model']['schema']['isObject'](_0x56ee9e),_0x25a30a=_0x56ee9e['previousSibling'],_0x21bf73=_0x56ee9e['nextSibling'],_0x23a89a=_0x56ee9e['getAttribute']('listItemId'),_0x4bcb8a=!_0x25a30a||_0x25a30a['getAttribute']('listItemId')!==_0x23a89a,_0x4ae0b7=!_0x21bf73||_0x21bf73['getAttribute']('listItemId')!==_0x23a89a;return _0x100d20&&Boolean(_0x23a89a)&&_0x4bcb8a&&_0x4ae0b7;},_0x93b5d4=>o(_0x1d1214,'ELEMENT_LIST_ITEM',_0x93b5d4));}['_registerLegacyDescription'](){const _0x47ce7a=this['editor'],_0x364186=_0x47ce7a['locale'];function _0x949024(_0x3a73ed){const _0x469fa7=_0x47ce7a['commands']['get']('bulletedList')['value'],_0x389278=_0x47ce7a['commands']['get']('numberedList')['value'];return'numberedList'===_0x3a73ed?_0x469fa7:_0x389278;}_0x47ce7a['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](function(_0x35d469){if('formatBlock'!=_0x35d469['type'])return;const {data:_0xf4e9b8}=_0x35d469;if(!_0xf4e9b8)return;let _0x108308,_0xfd8e29,_0x565322,_0x33e3d2;switch(_0xf4e9b8['commandName']){case'bulletedList':_0x565322=_0xf4e9b8['commandParams'][0x0]['forceValue'],_0x33e3d2=_0x949024(_0xf4e9b8['commandName']),_0x108308=_0x565322?'*Format:*\x20insert\x20into\x20%0':'*Format:*\x20remove\x20from\x20%0',!_0x33e3d2&&_0x47ce7a['config']['get']('list.multiBlock')||(_0x108308='*Change\x20to:*\x20%0'),_0xfd8e29={'type':'format','content':o(_0x364186,_0x108308,o(_0x364186,'ELEMENT_BULLETED_LIST'))};break;case'numberedList':_0x565322=_0xf4e9b8['commandParams'][0x0]['forceValue'],_0x33e3d2=_0x949024(_0xf4e9b8['commandName']),_0x108308=_0x565322?'*Format:*\x20insert\x20into\x20%0':'*Format:*\x20remove\x20from\x20%0',!_0x33e3d2&&_0x47ce7a['config']['get']('list.multiBlock')||(_0x108308='*Change\x20to:*\x20%0'),_0xfd8e29={'type':'format','content':o(_0x364186,_0x108308,o(_0x364186,'ELEMENT_NUMBERED_LIST'))};break;case'indentList':_0x108308='*Indent:*\x20%0',_0xfd8e29={'type':'format','content':o(_0x364186,_0x108308,o(_0x364186,'ELEMENT_LIST_ITEM'))};break;case'outdentList':_0x108308=function(_0x3e6de7){const _0x44fd5b=_0x3e6de7['getFirstRange']();let _0x59c844=_0x44fd5b['start']['nodeAfter'];for(;_0x59c844&&_0x44fd5b['containsItem'](_0x59c844);){if(_0x59c844['getAttribute']('listIndent')>0x0)return!0x1;_0x59c844=_0x59c844['nextSibling'];}return!0x0;}(_0x35d469)?o(_0x364186,'*Format:*\x20remove\x20from\x20%0',o(_0x364186,function(_0x5d9543){return'ELEMENT_'+_0x5d9543['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType')['toUpperCase']()+'_LIST';}(_0x35d469))):o(_0x364186,'*Outdent:*\x20%0',o(_0x364186,'ELEMENT_LIST_ITEM')),_0xfd8e29={'type':'format','content':_0x108308};break;case'mergeListItemBackward':case'mergeListItemForward':!0x1===_0xf4e9b8['multipleBlocks']&&(_0x108308='*Merge:*\x20%0',_0xfd8e29={'type':'deletion','content':o(_0x364186,_0x108308,o(_0x364186,'ELEMENT_LIST_ITEM'))});}return _0xfd8e29;});}}function Be(_0x5ce3d8){let _0x337213=_0x5ce3d8['getFirstRange']()['start']['nodeAfter']['previousSibling'];for(;_0x337213;){const _0x261fa2=_0x337213['getAttribute']('listItemId');if(!_0x261fa2)return!0x1;if(_0x261fa2==_0x5ce3d8['data']['newValue'])return'newValue';if(_0x261fa2==_0x5ce3d8['data']['oldValue'])return'oldValue';_0x337213=_0x337213['previousSibling'];}return!0x1;}class Z extends _0x150e1e{['afterInit'](){if(!this['editor']['plugins']['has']('ListPropertiesEditing'))return;const _0x383926=this['editor']['config']['get']('list.properties'),_0x3b4bfc=this['editor']['plugins']['get']('TrackChangesEditing');_0x383926['styles']&&(_0x3b4bfc['enableDefaultAttributesIntegration']('listStyle'),_0x3b4bfc['registerBlockAttribute']('listStyle')),_0x383926['reversed']&&(_0x3b4bfc['enableDefaultAttributesIntegration']('listReversed'),_0x3b4bfc['registerBlockAttribute']('listReversed')),_0x383926['startIndex']&&(_0x3b4bfc['enableDefaultAttributesIntegration']('listStart'),_0x3b4bfc['registerBlockAttribute']('listStart'));const _0x5b68e8={'type':'format','content':''};_0x3b4bfc['descriptionFactory']['registerDescriptionCallback'](this['handleDescriptions']['bind'](this));const _0x5a93f9=this['editor']['locale'];_0x3b4bfc['descriptionFactory']['registerAttributeLabel']('listReversed',o(_0x5a93f9,'FORMAT_LIST_REVERSED')),_0x3b4bfc['descriptionFactory']['registerDescriptionCallback'](_0x5d07ef=>{const {data:_0x116498}=_0x5d07ef;if(_0x116498&&'listReversed'==_0x116498['key'])return null==_0x116498['newValue']||0x0==_0x116498['newValue']&&null==_0x116498['oldValue']?_0x5b68e8:void 0x0;}),_0x3b4bfc['descriptionFactory']['registerAttributeLabel']('listStart',o(_0x5a93f9,'FORMAT_LIST_START')),_0x3b4bfc['descriptionFactory']['registerDescriptionCallback'](_0x1084f5=>{const {data:_0x2b28b8}=_0x1084f5;if(_0x2b28b8&&'listStart'==_0x2b28b8['key'])return null==_0x2b28b8['newValue']||0x1==_0x2b28b8['newValue']&&null==_0x2b28b8['oldValue']?_0x5b68e8:void 0x0;}),this['editor']['model']['document']['registerPostFixer'](_0x119d4c=>{if(_0x119d4c['batch']['isUndo'])return!0x1;let _0x4d7ad6=!0x1;const _0x3d89dd=_0x3b4bfc['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x344401=>{const _0x2c3e32=_0x3b4bfc['_getAttributeKey'](_0x344401);return'listStart'==_0x2c3e32||'listReversed'==_0x2c3e32;});for(const _0x2420c0 of _0x3d89dd){const _0xdb425c=_0x2420c0['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType');if('numbered'==_0xdb425c||'customNumbered'==_0xdb425c)continue;_0x3b4bfc['_findSuggestions'](_0x2420c0['getFirstRange'](),'attribute')['find'](_0x101a52=>'listType'==_0x3b4bfc['_getAttributeKey'](_0x101a52['suggestion']))||(_0x119d4c['removeMarker'](_0x2420c0['getFirstMarker']()),_0x4d7ad6=!0x0);}return _0x4d7ad6;}),this['_registerLegacyDescription']();}['handleDescriptions'](_0x33b8e8){const _0x5b3b4b=this['editor']['locale'],{data:_0x5c939e}=_0x33b8e8,_0x2365f1={'type':'format','content':''};if(!_0x5c939e||'listStyle'!=_0x5c939e['key'])return;if(!_0x5c939e['oldValue'])return'default'==_0x5c939e['newValue']?_0x2365f1:{'type':'format','content':''+o(_0x5b3b4b,'*Set\x20format:*\x20%0',o(_0x5b3b4b,this['_getTranslationKeyForListStyle'](_0x5c939e['newValue'])))};if(!_0x5c939e['newValue']){if('default'==_0x5c939e['oldValue'])return _0x2365f1;let _0x4ca3ae=_0x33b8e8['head'];for(;_0x4ca3ae;){if(_0x4ca3ae['data']&&'listType'==_0x4ca3ae['data']['key']&&_0x4ca3ae['data']['newValue'])return _0x2365f1;_0x4ca3ae=_0x4ca3ae['next'];}return{'type':'format','content':''+o(_0x5b3b4b,'*Remove\x20format:*\x20%0',o(_0x5b3b4b,this['_getTranslationKeyForListStyle'](_0x5c939e['oldValue'])))};}if('default'!=_0x5c939e['newValue'])return{'type':'format','content':''+o(_0x5b3b4b,'*Set\x20format:*\x20%0',o(_0x5b3b4b,this['_getTranslationKeyForListStyle'](_0x5c939e['newValue'])))};let _0x48eeca=_0x33b8e8['head'];for(;_0x48eeca;){if(_0x48eeca['data']&&'listType'==_0x48eeca['data']['key']&&_0x48eeca['data']['newValue']&&_0x48eeca['data']['oldValue'])return _0x2365f1;_0x48eeca=_0x48eeca['next'];}return{'type':'format','content':o(_0x5b3b4b,'*Set\x20format:*\x20%0',o(_0x5b3b4b,'ELEMENT_'+_0x33b8e8['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType')['toUpperCase']()+'_LIST_DEFAULT'))};}['_registerLegacyDescription'](){const _0x4873f3=this['editor'],_0x4011b8=_0x4873f3['locale'];_0x4873f3['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x3bba17=>{if('formatBlock'!=_0x3bba17['type'])return;const {data:_0x3d74ad}=_0x3bba17;if(!_0x3d74ad)return;let _0x196d1e,_0x5f3f84;switch(_0x3d74ad['commandName']){case'listStyle':_0x196d1e='*Change\x20to:*\x20%0',_0x5f3f84={'type':'format','content':o(_0x4011b8,_0x196d1e,o(_0x4011b8,this['_getTranslationKeyForListStyle'](_0x3d74ad['commandParams'][0x0]['type'])))};break;case'listReversed':_0x196d1e=_0x3d74ad['commandParams'][0x0]['reversed']?'*Format:*\x20set\x20order\x20to\x20reversed':'*Format:*\x20set\x20order\x20to\x20regular',_0x5f3f84={'type':'format','content':o(_0x4011b8,_0x196d1e)};break;case'listStart':_0x196d1e='*Format:*\x20set\x20start\x20index\x20to\x20%0',_0x5f3f84={'type':'format','content':o(_0x4011b8,_0x196d1e,_0x3d74ad['commandParams'][0x0]['startIndex'])};}return _0x5f3f84;});}['_getTranslationKeyForListStyle'](_0x34fd0f){return'ELEMENT_'+function(_0x121b7c){if(Re['includes'](_0x121b7c))return'bulleted';if(De['includes'](_0x121b7c))return'numbered';return null;}(_0x34fd0f)['toUpperCase']()+'_LIST_'+_0x34fd0f['toUpperCase']()['replace'](/-/g,'_');}}const Re=['disc','circle','square'],De=['decimal','decimal-leading-zero','lower-roman','upper-roman','lower-latin','upper-latin'];class tt extends _0x150e1e{['afterInit'](){const _0x1519a5=this['editor'];_0x1519a5['commands']['get']('emoji')&&_0x1519a5['plugins']['get']('TrackChangesEditing')['enableCommand']('emoji');}}class et extends _0x150e1e{static get['requires'](){return[_0x5c8e70];}['init'](){const _0xf6d39=this['editor'],_0x16269c=_0xf6d39['plugins']['get']('TrackChangesEditing'),_0x1fabe0=_0xf6d39['commands']['get']('enter');_0x16269c['enableCommand']('enter',()=>{_0xf6d39['model']['change'](_0x209fee=>{const _0x4609fa=_0xf6d39['model']['document']['selection'],_0x22f110=_0x4609fa['getFirstPosition'](),_0x12fce1=_0x4b855c['fromRange'](_0x4609fa['getFirstRange']());if(_0x1fabe0['enterBlock'](_0x209fee)){const _0x4dbdbb=_0xf6d39['model']['createPositionAt'](_0x22f110['parent']['nextSibling'],0x0),_0x48eb2f=_0x209fee['createRange'](_0x22f110,_0x4dbdbb);_0x16269c['markInsertion'](_0x48eb2f);}else _0x209fee['setSelection'](_0x209fee['createRange'](_0x12fce1['end']));_0x12fce1['detach'](),_0x1fabe0['fire']('afterExecute',{'writer':_0x209fee});});}),_0xf6d39['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',Ve(_0xf6d39,'split'),{'priority':'high'}),_0xf6d39['editing']['downcastDispatcher']['on']('removeMarker:suggestion:insertion',(_0x335922,_0x53a8e5,_0x549ffa)=>{const _0x22a18d=_0x549ffa['mapper']['markerNameToElements'](_0x53a8e5['markerName']);if(_0x22a18d){for(const _0x3fd686 of _0x22a18d)_0x3fd686['hasClass']('ck-suggestion-marker-split')&&(_0x549ffa['mapper']['unbindElementFromMarkerName'](_0x3fd686,_0x53a8e5['markerName']),_0x549ffa['writer']['remove'](_0x3fd686));}},{'priority':'high'}),_0xf6d39['data']['downcastDispatcher']['on']('addMarker:suggestion:insertion',(_0x1a1614,_0x1a3eb1,_0x35490f)=>{_0x35490f['options']['showSuggestionHighlights']&&Ve(_0xf6d39,'split',{'showActiveMarker':!0x1})['bind'](this)(_0x1a1614,_0x1a3eb1,_0x35490f);},{'priority':'high'});}}class it extends _0x150e1e{['afterInit'](){if(!this['editor']['plugins']['has']('FindAndReplaceEditing'))return;const _0x336030=this['editor']['plugins']['get']('TrackChangesEditing');_0x336030['enableCommand']('find',this['handleFindCommand']['bind'](this)),_0x336030['enableCommand']('findNext'),_0x336030['enableCommand']('findPrevious'),_0x336030['enableCommand']('replace'),_0x336030['enableCommand']('replaceAll');}['handleFindCommand'](_0x41da43,_0x4927dd,_0x49c8bc={}){const _0x5dba28=this['editor']['plugins']['get']('FindAndReplaceUtils');return _0x41da43(_0xedd9bb=>{let _0x13dabf=('string'==typeof _0x4927dd?_0x5dba28['findByTextCallback'](_0x4927dd,_0x49c8bc):_0x4927dd)(_0xedd9bb);Array['isArray'](_0x13dabf)&&(_0x13dabf={'results':_0x13dabf,'searchText':'string'==typeof _0x4927dd?_0x4927dd:''});const _0x5d4ee3=_0x13dabf['results']['filter'](_0x51aa45=>!0x1===this['_isInDeletionRange'](_0x51aa45,_0xedd9bb['item']));return{..._0x13dabf,'results':_0x5d4ee3};},_0x49c8bc);}['_isInDeletionRange'](_0x4a30c1,_0x1024c6){const _0x10f86e=this['editor']['model']['createRange'](this['editor']['model']['createPositionAt'](_0x1024c6,_0x4a30c1['start']),this['editor']['model']['createPositionAt'](_0x1024c6,_0x4a30c1['end']));for(const _0x581ef3 of this['editor']['model']['markers']['getMarkersGroup']('suggestion:deletion'))if(null!==_0x10f86e['getIntersection'](_0x581ef3['getRange']()))return!0x0;return!0x1;}}const eo=[{'pluginName':'FontSizeEditing','commandName':'fontSize'},{'pluginName':'FontFamilyEditing','commandName':'fontFamily'},{'pluginName':'FontColorEditing','commandName':'fontColor'},{'pluginName':'FontBackgroundColorEditing','commandName':'fontBackgroundColor'}];class nt extends _0x150e1e{['afterInit'](){const _0x5e1e1a=this['editor']['locale'],_0x41cf3c=this['editor']['plugins']['get']('TrackChangesEditing');for(const {pluginName:_0x3688ba,commandName:_0x46b1f4}of eo)this['editor']['plugins']['has'](_0x3688ba)&&(_0x41cf3c['enableDefaultAttributesIntegration'](_0x46b1f4),_0x41cf3c['registerInlineAttribute'](_0x46b1f4));_0x41cf3c['descriptionFactory']['registerAttributeLabel']('fontSize',o(_0x5e1e1a,'FORMAT_FONT_SIZE')),_0x41cf3c['descriptionFactory']['registerAttributeLabel']('fontFamily',o(_0x5e1e1a,'FORMAT_FONT_FAMILY')),_0x41cf3c['descriptionFactory']['registerAttributeLabel']('fontColor',o(_0x5e1e1a,'FORMAT_FONT_COLOR')),_0x41cf3c['descriptionFactory']['registerAttributeLabel']('fontBackgroundColor',o(_0x5e1e1a,'FORMAT_FONT_BACKGROUND')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x4e695b=this['editor'],_0x5c5a40=_0x4e695b['locale'];_0x4e695b['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x274dfd=>{const _0x4ba478=_0x5c5a40['t'];if('formatInline'!=_0x274dfd['type'])return;const {data:_0x27808a}=_0x274dfd;if(null!=_0x27808a){if('fontSize'==_0x27808a['commandName']){const _0x457bdf=_0x27808a['commandParams'][0x0]['value'];if(_0x457bdf){const _0x25e834=_0x4ba478(this['editor']['plugins']['get']('FontSize')['normalizeSizeOptions'](this['editor']['config']['get']('fontSize.options'))['find'](_0x4facd8=>_0x4facd8['model']==_0x457bdf)['title'])['toLowerCase']();return{'type':'format','content':o(_0x5c5a40,'*Set\x20font\x20size:*\x20%0',_0x25e834)};}return{'type':'format','content':o(_0x5c5a40,'*Reset\x20font\x20size*')};}if('fontFamily'==_0x27808a['commandName']){const _0x282525=_0x27808a['commandParams'][0x0]['value'];return _0x282525?{'type':'format','content':o(_0x5c5a40,'*Set\x20font\x20family:*\x20%0',_0x282525)}:{'type':'format','content':o(_0x5c5a40,'*Reset\x20font\x20family*')};}if('fontColor'==_0x27808a['commandName']){const _0x49b76e=_0x27808a['commandParams'][0x0]['value'];if(_0x49b76e){const _0x56c7ab=_0x495c3(this['editor']['config']['get']('fontColor.colors'))['find'](_0x342e5e=>_0x342e5e['model']==_0x49b76e);let _0x54fa3d=_0x49b76e,_0x4fdfb6='';return _0x56c7ab&&(_0x54fa3d=_0x56c7ab['label'],_0x4fdfb6=_0x4ba478(_0x54fa3d)['toLowerCase']()),{'type':'format','content':o(_0x5c5a40,'*Set\x20font\x20color:*\x20%0',_0x4fdfb6)['trim'](),'color':{'value':_0x49b76e,'title':_0x4fdfb6||_0x54fa3d}};}return{'type':'format','content':o(_0x5c5a40,'*Reset\x20font\x20color*')};}if('fontBackgroundColor'==_0x27808a['commandName']){const _0x510002=_0x27808a['commandParams'][0x0]['value'];if(_0x510002){const _0x5784f7=_0x495c3(this['editor']['config']['get']('fontBackgroundColor.colors'))['find'](_0x458a0b=>_0x458a0b['model']==_0x510002);let _0x54d882=_0x510002,_0xc26d75='';return _0x5784f7&&(_0x54d882=_0x5784f7['label'],_0xc26d75=_0x4ba478(_0x54d882)['toLowerCase']()),{'type':'format','content':o(_0x5c5a40,'*Set\x20font\x20background\x20color:*\x20%0',_0xc26d75)['trim'](),'color':{'value':_0x510002,'title':_0xc26d75||_0x54d882}};}return{'type':'format','content':o(_0x5c5a40,'*Reset\x20font\x20background\x20color*')};}}});}}class st extends _0x150e1e{['afterInit'](){const _0x389727=this['editor'],_0x4a3908=_0x389727['plugins']['get']('TrackChangesEditing'),_0x113fc1=_0x389727['commands']['get']('copyFormat'),_0x44c7ef=_0x389727['commands']['get']('pasteFormat');_0x113fc1&&_0x44c7ef&&(_0x4a3908['enableDefaultAttributesIntegration']('pasteFormat'),_0x4a3908['enableCommand']('copyFormat'),this['_registerLegacyDescription']());}['_registerLegacyDescription'](){const _0x420d78=this['editor'],_0x270d0b=_0x420d78['locale'];_0x420d78['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x2400e1=>{if('formatBlock'!=_0x2400e1['type']&&'formatInline'!=_0x2400e1['type'])return;const {data:_0x58650a}=_0x2400e1;if(_0x58650a&&'pasteFormat'===_0x58650a['commandName']){const _0x31ce71=[],_0x4bef5b=_0x58650a['commandParams'][0x0];for(const [_0x2ef048,_0x55833c]of Object['entries'](_0x4bef5b))_0x31ce71['push'](ro(_0x420d78,_0x2ef048,_0x55833c));return _0x31ce71['length']?{'type':'format','content':o(_0x270d0b,'*Set\x20format\x20to:*\x20%0',_0x31ce71['join'](',\x20'))}:{'type':'format','content':o(_0x270d0b,'*Remove\x20all\x20formatting*')};}});}}function ro(_0x3353d9,_0x556ba1,_0x45a288){const _0x206421=_0x3353d9['locale']['t'],_0x1e7892=_0x556ba1['split'](/(?=[A-Z])/)['join']('\x20'),_0x3cfb44=_0x206421(_0x1e7892['charAt'](0x0)['toUpperCase']()+_0x1e7892['slice'](0x1))['toLowerCase']();if('boolean'==typeof _0x45a288)return _0x3cfb44;if('fontColor'===_0x556ba1||'fontBackgroundColor'===_0x556ba1){const _0x29e471=_0x495c3(_0x3353d9['config']['get']('fontColor.colors'))['find'](_0x4f899c=>_0x4f899c['model']==_0x45a288);return _0x3cfb44+'\x20('+(_0x29e471?_0x206421(_0x29e471['label'])['toLowerCase']():_0x45a288)+')';}if('fontSize'===_0x556ba1&&isNaN(parseFloat(_0x45a288))){const _0xf5f121=_0x3353d9['plugins']['get']('FontSize')['normalizeSizeOptions'](_0x3353d9['config']['get']('fontSize.options'))['find'](_0x5ef2ba=>_0x5ef2ba['model']==_0x45a288);return _0x3cfb44+'\x20('+(_0xf5f121?_0x206421(_0xf5f121['title'])['toLowerCase']():_0x45a288)+')';}return _0x3cfb44+'\x20('+_0x45a288+')';}class ot extends _0x150e1e{['_headingOptions'];['afterInit'](){const _0x222dac=this['editor'];if(!_0x222dac['plugins']['has']('HeadingEditing'))return;this['_headingOptions']=_0x222dac['config']['get']('heading.options');const _0x1d0814=_0x222dac['locale'],_0x36893c=_0x222dac['plugins']['get']('TrackChangesEditing');_0x36893c['enableDefaultAttributesIntegration']('heading');for(const _0xa69024 of this['_headingOptions'])'paragraph'!=_0xa69024['model']&&_0x36893c['descriptionFactory']['registerElementLabel'](_0xa69024['model'],_0x2286fb=>{const _0x3adb02=this['_getHeadingLevel'](_0xa69024['model']);return null!==_0x3adb02?_0x28e04d(_0x2286fb,_0x3adb02):_0x2491f7(_0x2286fb,_0xa69024['title']);});function _0x28e04d(_0x19080b,_0x6d8586){return o(_0x1d0814,'ELEMENT_HEADING',[_0x19080b,_0x6d8586]);}function _0x2491f7(_0xd71edb,_0x331dc0){return o(_0x1d0814,'ELEMENT_HEADING_CUSTOM',[_0xd71edb,_0x331dc0]);}this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x3b556e=this['editor'],_0x58400f=_0x3b556e['locale'];function _0x4d57e3(_0x50e118,_0xe36fb3){return o(_0x58400f,'ELEMENT_HEADING_CUSTOM',[_0x50e118,_0xe36fb3]);}_0x3b556e['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x4807e3=>{if('formatBlock'!=_0x4807e3['type'])return;const {data:_0xd0c1ae}=_0x4807e3;if(_0xd0c1ae&&'heading'==_0xd0c1ae['commandName']){const _0xaec2ec=_0xd0c1ae['commandParams'][0x0]['value'],_0x2530c2=this['_getHeadingLevel'](_0xaec2ec);if(null!==_0x2530c2)return{'type':'format','content':o(_0x58400f,'*Change\x20to:*\x20%0',(_0x465604=0x1,_0x258ae0=_0x2530c2,o(_0x58400f,'ELEMENT_HEADING',[_0x465604,_0x258ae0])))};const _0x2f32cf=this['_headingOptions']['find'](_0xf0c17c=>_0xf0c17c['model']===_0xaec2ec)['title'];return{'type':'format','content':o(_0x58400f,'*Change\x20to:*\x20%0',_0x4d57e3(0x1,_0x2f32cf))};}var _0x465604,_0x258ae0;});}['_getHeadingLevel'](_0x481709){const _0x16d3f4=_0x481709['match'](/^heading(\d+)/);if(_0x16d3f4)return _0x16d3f4[0x1];const _0x4adf8f=this['_headingOptions']?.['find'](_0x346348=>_0x346348['model']==_0x481709);if(_0x4adf8f&&_0x4adf8f['view']){const _0x1ed882=_0x4adf8f['view'],_0x3f1794=(_0x1ed882['name']??_0x1ed882)['match'](/^h(\d+)/);if(_0x3f1794)return _0x3f1794[0x1];}return null;}}class rt extends _0x150e1e{['afterInit'](){const _0x289180=this['editor'];if(!_0x289180['plugins']['has']('HighlightEditing'))return;const _0x3f773f=_0x289180['plugins']['get']('TrackChangesEditing'),_0x306dea=_0x289180['locale'];_0x3f773f['enableDefaultAttributesIntegration']('highlight'),_0x3f773f['registerInlineAttribute']('highlight'),_0x3f773f['descriptionFactory']['registerAttributeLabel']('highlight',o(_0x306dea,'FORMAT_HIGHLIGHT')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x3f535f=this['editor'],_0x56e95d=_0x3f535f['locale'];_0x3f535f['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x1f2c55=>{if('formatInline'!=_0x1f2c55['type'])return;const {data:_0x5dcfe0}=_0x1f2c55;if(_0x5dcfe0&&'highlight'==_0x5dcfe0['commandName']){const _0x402145=_0x56e95d['t'],_0x303072=_0x5dcfe0['commandParams'][0x0]['value'];if(_0x303072){const _0x255ab8=_0x3f535f['config']['get']('highlight.options')['find'](_0x524a3e=>_0x524a3e['model']==_0x303072),_0x2eba02=_0x402145(_0x255ab8['title'])['toLowerCase']();return{'type':'format','content':o(_0x56e95d,'*Set\x20highlight:*\x20%0',_0x2eba02),'color':{'value':_0x255ab8['color'],'title':_0x255ab8['title']}};}return{'type':'format','content':o(_0x56e95d,'*Remove\x20highlight*',o(_0x56e95d,'FORMAT_HIGHLIGHT'))};}});}}class at extends _0x150e1e{['afterInit'](){const _0x562017=this['editor'];if(!_0x562017['plugins']['has']('HorizontalLineEditing'))return;_0x562017['plugins']['get']('TrackChangesEditing')['enableCommand']('horizontalLine');const _0xfd2b=_0x562017['plugins']['get']('TrackChangesEditing'),_0x476502=_0x562017['locale'];_0xfd2b['descriptionFactory']['registerElementLabel']('horizontalLine',_0x1cf62d=>o(_0x476502,'ELEMENT_HORIZONTAL_LINE',_0x1cf62d)),_0x562017['conversion']['for']('dataDowncast')['elementToStructure']({'model':'horizontalLine','view':(_0x4b41a5,{writer:_0x212003,options:_0x3ac175})=>{if(!_0x3ac175['showSuggestionHighlights'])return null;const _0x8c45b6=_0x212003['createContainerElement']('div'),_0x14eecf=_0x212003['createEmptyElement']('hr');return _0x212003['addClass']('ck-horizontal-line',_0x8c45b6),_0x212003['insert'](_0x212003['createPositionAt'](_0x8c45b6,0x0),_0x14eecf),_0x8c45b6;},'converterPriority':'high'});}}class ct extends _0x150e1e{['afterInit'](){const _0x24dc49=this['editor'];if(!_0x24dc49['plugins']['has']('HtmlEmbed'))return;const _0x4f13c8=_0x24dc49['plugins']['get']('TrackChangesEditing'),_0x1ea718=_0x24dc49['locale'];_0x4f13c8['descriptionFactory']['registerElementLabel']('rawHtml',_0x4ba8d2=>o(_0x1ea718,'ELEMENT_HTML_EMBED',_0x4ba8d2)),_0x4f13c8['enableDefaultAttributesIntegration']('htmlEmbed'),_0x4f13c8['registerBlockAttribute']('value'),_0x4f13c8['descriptionFactory']['registerDescriptionCallback'](_0x55cc25=>{if('attribute'!=_0x55cc25['type'])return;const {data:_0xc0eda0}=_0x55cc25;if(_0xc0eda0&&'value'==_0xc0eda0['key']&&_0x55cc25['getFirstRange']()['start']['nodeAfter']['is']('element','rawHtml')){const _0x5c6c11=o(_0x1ea718,'ELEMENT_HTML_EMBED');return{'type':'format','content':o(_0x1ea718,'*Change\x20%0\x20content*',_0x5c6c11)};}}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x5cf160=this['editor'],_0x3f0ab5=_0x5cf160['locale'];_0x5cf160['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x34466b=>{if('formatBlock'!=_0x34466b['type'])return;const {data:_0x3de57a}=_0x34466b;if(_0x3de57a&&'htmlEmbed'==_0x3de57a['commandName']){const _0x44c576=o(_0x3f0ab5,'ELEMENT_HTML_EMBED');return{'type':'format','content':o(_0x3f0ab5,'*Change\x20%0\x20content*',_0x44c576)};}});}}class ut extends _0x150e1e{['afterInit'](){const _0x20b55b=this['editor'];if(!_0x20b55b['plugins']['has']('ImageEditing'))return;const _0x3d8a73=_0x20b55b['plugins']['get']('TrackChangesEditing'),_0x2f7d1e=_0x20b55b['plugins']['get']('ImageUtils'),_0x499cd0=_0x20b55b['locale'];_0x3d8a73['enableCommand']('insertImage'),_0x3d8a73['descriptionFactory']['registerElementLabel']('imageBlock',_0x303428=>o(_0x499cd0,'ELEMENT_IMAGE',_0x303428)),_0x3d8a73['descriptionFactory']['registerElementLabel']('imageInline',_0x3794ee=>o(_0x499cd0,'ELEMENT_INLINE_IMAGE',_0x3794ee)),_0x3d8a73['descriptionFactory']['registerElementLabel']('caption',()=>o(_0x499cd0,'ELEMENT_CAPTION')),_0x20b55b['plugins']['has']('ImageUploadEditing')&&_0x3d8a73['enableCommand']('uploadImage'),_0x20b55b['plugins']['has']('ImageBlockEditing')&&_0x20b55b['plugins']['has']('ImageInlineEditing')&&(_0x3d8a73['enableCommand']('imageTypeInline',(_0x64028b,_0x1780e6)=>{const _0x50a35a=_0x2f7d1e['getClosestSelectedImageElement'](_0x20b55b['model']['document']['selection']);_0x20b55b['model']['change'](()=>{_0x3d8a73['markBlockFormat'](_0x50a35a,{'commandName':'imageTypeInline','commandParams':[_0x1780e6]},[],'convertBlockImageToInline');});}),_0x3d8a73['enableCommand']('imageTypeBlock',(_0x367fb6,_0x5dc9f6)=>{_0x20b55b['model']['change'](_0x1bfe7c=>{let _0x294088=_0x2f7d1e['getClosestSelectedImageElement'](_0x20b55b['model']['document']['selection']),_0x564935=_0x1bfe7c['createRangeOn'](_0x294088);const _0x48afb5=_0x266e89['fromPosition'](_0x564935['start'],'toPrevious'),_0x30102f=_0x266e89['fromPosition'](_0x564935['end'],'toNext');_0x3d8a73['forceDefaultExecution'](()=>_0x367fb6(_0x5dc9f6)),_0x294088=_0x2f7d1e['getClosestSelectedImageElement'](_0x20b55b['model']['document']['selection']),_0x564935=_0x1bfe7c['createRangeOn'](_0x294088);const _0x7dfeb5=_0x1bfe7c['createRange'](_0x48afb5,_0x30102f);_0x48afb5['detach'](),_0x30102f['detach'](),_0x3d8a73['markBlockFormat'](_0x294088,{'commandName':'imageTypeInline','commandParams':[_0x5dc9f6]},[],'convertInlineImageToBlock'),_0x7dfeb5['start']['isBefore'](_0x564935['start'])&&_0x3d8a73['markInsertion'](_0x1bfe7c['createRange'](_0x7dfeb5['start'],_0x564935['start']),'convertInlineImageToBlock'),_0x564935['end']['isBefore'](_0x7dfeb5['end'])&&_0x3d8a73['markInsertion'](_0x1bfe7c['createRange'](_0x564935['end'],_0x7dfeb5['end']),'convertInlineImageToBlock');});}),_0x3d8a73['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','join',()=>!0x1),_0x3d8a73['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','accept',()=>!0x1),_0x3d8a73['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','discard',_0x3d8a73['_suggestionFactory']['getSuggestionCallback']('formatBlock','','accept')),_0x3d8a73['_suggestionFactory']['registerCustomCallback']('insertion','convertInlineImageToBlock','join',()=>!0x1),_0x3d8a73['_suggestionFactory']['registerCustomCallback']('insertion','convertInlineImageToBlock','discard',([_0x2355b0])=>{const _0x13838c=_0x3d8a73['_suggestionFactory']['getSuggestionCallback']('insertion','','discard');let _0x3ab266=_0x2355b0['start'],_0x17ce1c=_0x2355b0['end'];const _0xbc4ee2=_0x20b55b['model']['schema']['getNearestSelectionRange'](_0x3ab266,'backward'),_0x4573b2=_0x20b55b['model']['schema']['getNearestSelectionRange'](_0x17ce1c,'forward');_0xbc4ee2['isCollapsed']&&(_0x3ab266=_0xbc4ee2['start']),_0x4573b2['isCollapsed']&&(_0x17ce1c=_0x4573b2['end']),_0x13838c([_0x20b55b['model']['createRange'](_0x3ab266,_0x17ce1c)]);}),_0x3d8a73['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','chain',_0x5e20ba),_0x3d8a73['_suggestionFactory']['registerCustomCallback']('insertion','convertInlineImageToBlock','chain',_0x5e20ba)),_0x20b55b['plugins']['has']('ImageCaptionEditing')&&(_0x3d8a73['enableCommand']('toggleImageCaption',(_0x5ddf40,_0x774819)=>{const _0x2d1e0e=_0x20b55b['plugins']['get']('ImageCaptionUtils');let _0x412994=_0x2f7d1e['getClosestSelectedImageElement'](_0x20b55b['model']['document']['selection']),_0x511ac9=_0x2d1e0e['getCaptionFromImageModelElement'](_0x412994);_0x20b55b['model']['change'](()=>{if(_0x511ac9)return void _0x3d8a73['markDeletion'](_0x20b55b['model']['createRangeOn'](_0x511ac9));const _0x169f83=_0x2f7d1e['isBlockImage'](_0x412994);_0x5ddf40(_0x774819),_0x412994=_0x2f7d1e['getClosestSelectedImageElement'](_0x20b55b['model']['document']['selection']),_0x511ac9=_0x2d1e0e['getCaptionFromImageModelElement'](_0x412994),_0x3d8a73['markInsertion'](_0x20b55b['model']['createRangeOn'](_0x511ac9),_0x169f83?null:'imageCaption');});}),_0x3d8a73['_suggestionFactory']['registerCustomCallback']('insertion','imageCaption','chain',_0x5e20ba));const _0x4e72c6=[{'type':'formatBlock','subType':'imageStylePreApply'},{'type':'insertion','subType':'imageCaption'},{'type':'formatBlock','subType':'convertInlineImageToBlock'},{'type':'insertion','subType':'convertInlineImageToBlock'}];function _0x462171(_0x4ab9fb,_0x46d46f){const _0x4031f3=_0x4e72c6['findIndex'](({type:_0x5ec2cb,subType:_0x41ed66})=>_0x4ab9fb['type']==_0x5ec2cb&&_0x4ab9fb['subType']==_0x41ed66),_0x329a2d=_0x4e72c6['findIndex'](({type:_0x456dac,subType:_0x3c19ad})=>_0x46d46f['type']==_0x456dac&&_0x46d46f['subType']==_0x3c19ad);if(_0x4031f3<0x0||_0x329a2d<0x0)return!0x1;const _0x35ce6a=_0x4ab9fb['getFirstRange'](),_0x3eecce=_0x46d46f['getFirstRange']();if((0x0==_0x4031f3||0x1==_0x4031f3)&&0x2==_0x329a2d&&_0x35ce6a['isIntersecting'](_0x3eecce))return!0x0;if(0x2==_0x4031f3&&0x3==_0x329a2d){const _0x30ef3d=_0x3d8a73['_findSuggestions'](_0x35ce6a,'insertion')['filter'](({suggestion:_0x2de62a,meta:_0x460d12})=>_0x460d12['isOwn']&&'convertInlineImageToBlock'==_0x2de62a['subType']);if(_0x30ef3d['length']>0x1&&_0x3eecce['end']['isEqual'](_0x35ce6a['start']))return!0x0;if(0x1==_0x30ef3d['length']&&(_0x35ce6a['start']['isEqual'](_0x3eecce['end'])||_0x35ce6a['end']['isEqual'](_0x3eecce['start'])))return!0x0;}if(0x3==_0x4031f3&&0x3==_0x329a2d&&_0x35ce6a['start']['isBefore'](_0x3eecce['start'])){const _0x212256=_0x35ce6a['end']['nodeAfter'],_0x1e1b6e=_0x3eecce['start']['nodeBefore'];return _0x2f7d1e['isBlockImage'](_0x212256)&&_0x212256===_0x1e1b6e;}return!0x1;}function _0x5e20ba(_0x162133,_0x267f9e){return _0x462171(_0x162133,_0x267f9e)?[_0x162133,_0x267f9e]:_0x462171(_0x267f9e,_0x162133)?[_0x267f9e,_0x162133]:null;}_0x20b55b['plugins']['has']('ImageResize')&&(_0x3d8a73['enableDefaultAttributesIntegration']('resizeImage'),_0x3d8a73['registerBlockAttribute']('resizedWidth'),_0x3d8a73['descriptionFactory']['registerAttributeLabel']('resizedWidth',o(_0x499cd0,'FORMAT_IMAGE_SIZE'))),_0x20b55b['plugins']['has']('ImageTextAlternativeEditing')&&(_0x3d8a73['enableDefaultAttributesIntegration']('imageTextAlternative'),_0x3d8a73['registerBlockAttribute']('alt')),_0x20b55b['plugins']['has']('PictureEditing')&&(_0x3d8a73['registerBlockAttribute']('sources'),_0x3d8a73['descriptionFactory']['registerDescriptionCallback'](_0x58fefa=>{if('attribute'!=_0x58fefa['type'])return;const {data:_0x234ee7}=_0x58fefa;return _0x234ee7&&'sources'==_0x234ee7['key']?{'type':'format','content':''}:void 0x0;})),_0x20b55b['plugins']['has']('ImageSizeAttributes')&&(_0x3d8a73['registerBlockAttribute']('width'),_0x3d8a73['registerBlockAttribute']('height'),_0x3d8a73['descriptionFactory']['registerDescriptionCallback'](_0xce2220=>{if('attribute'!=_0xce2220['type'])return;const {data:_0x3685f8}=_0xce2220;return!_0x3685f8||'width'!=_0x3685f8['key']&&'height'!=_0x3685f8['key']?void 0x0:{'type':'format','content':''};})),_0x3d8a73['descriptionFactory']['registerDescriptionCallback'](_0x290f50=>{if(!!_0x4e72c6['find'](({type:_0x542cb5,subType:_0x3c9505})=>_0x290f50['type']==_0x542cb5&&_0x290f50['subType']==_0x3c9505))return _0x290f50['previous']?{}:void 0x0;}),_0x3d8a73['descriptionFactory']['registerDescriptionCallback'](_0x2547ac=>{if('insertion'==_0x2547ac['type']||'deletion'==_0x2547ac['type']){const _0x5976ba=_0x2547ac['getContainedElement']();if(_0x5976ba&&_0x5976ba['is']('element','caption'))return{'type':'insertion'==_0x2547ac['type']?'addObject':'removeObject','element':_0x5976ba,'quantity':0x1};}}),_0x3d8a73['descriptionFactory']['registerDescriptionCallback'](_0x39bbfc=>'formatBlock'==_0x39bbfc['type']&&'convertInlineImageToBlock'==_0x39bbfc['subType']?{'type':'format','content':'Inline\x20image\x20to\x20block\x20image'}:'formatBlock'==_0x39bbfc['type']&&'convertBlockImageToInline'==_0x39bbfc['subType']?{'type':'format','content':'Block\x20image\x20to\x20inline\x20image'}:void 0x0),_0x3d8a73['descriptionFactory']['registerDescriptionCallback'](_0x34d9cd=>{if('attribute'!=_0x34d9cd['type'])return;const {data:_0xb8f909}=_0x34d9cd;if(!_0xb8f909||'alt'!=_0xb8f909['key'])return;const _0x3083c2=_0xb8f909['newValue'];return _0x3083c2?{'type':'format','content':o(_0x499cd0,'*Set\x20image\x20text\x20alternative:*\x20%0','\x22'+_0x3083c2+'\x22')}:{'type':'format','content':o(_0x499cd0,'*Remove\x20image\x20text\x20alternative*')};}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x4d59a5=this['editor'],_0x218f0d=_0x4d59a5['locale'];_0x4d59a5['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x41e8b6=>{if('formatBlock'!=_0x41e8b6['type']&&'formatInline'!=_0x41e8b6['type'])return;const {data:_0x6ff3ed}=_0x41e8b6;if(_0x6ff3ed){if('imageTextAlternative'==_0x6ff3ed['commandName']){const _0x2e00e5=_0x6ff3ed['commandParams'][0x0]['newValue'];return _0x2e00e5?{'type':'format','content':o(_0x218f0d,'*Set\x20image\x20text\x20alternative:*\x20%0','\x22'+_0x2e00e5+'\x22')}:{'type':'format','content':o(_0x218f0d,'*Remove\x20image\x20text\x20alternative*')};}if('resizeImage'==_0x6ff3ed['commandName']){const _0x5bf135=_0x6ff3ed['commandParams'][0x0]['width'];return _0x5bf135?{'type':'format','content':o(_0x218f0d,'*Set\x20image\x20width:*\x20%0',_0x5bf135)}:{'type':'format','content':o(_0x218f0d,'*Reset\x20image\x20width*')};}}});}}class ft extends _0x150e1e{['afterInit'](){if(!this['editor']['plugins']['has']('ImageEditing'))return;const _0x14b154=this['editor']['locale'],_0x4d0385=this['editor']['plugins']['get']('TrackChangesEditing');_0x4d0385['enableDefaultAttributesIntegration']('replaceImageSource'),_0x4d0385['registerBlockAttribute']('src'),_0x4d0385['descriptionFactory']['registerDescriptionCallback'](_0x218f3f=>{if('attribute'!=_0x218f3f['type'])return;const {data:_0x9d1c65}=_0x218f3f;return _0x9d1c65&&'src'==_0x9d1c65['key']?_0x9d1c65['newValue']&&_0x9d1c65['oldValue']?{'type':'format','content':o(_0x14b154,'*Replace\x20image*')}:{'type':'format','content':''}:void 0x0;}),this['_handleLegacySuggestions']();}['_handleLegacySuggestions'](){const _0x3c298c=this['editor']['plugins']['get']('TrackChangesEditing');_0x3c298c['_suggestionFactory']['registerCustomCallback']('formatBlock','replaceImageSource','accept',_0x3c298c['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x3c298c['_suggestionFactory']['registerCustomCallback']('formatBlock','replaceImageSource','discard',_0x3c298c['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'accept')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x42d655=this['editor'],_0x34226d=_0x42d655['locale'];_0x42d655['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x2a6730=>{if('formatBlock'!=_0x2a6730['type']&&'formatInline'!=_0x2a6730['type'])return;const {data:_0xd6250}=_0x2a6730;if(!_0xd6250||'replaceImageSource'!=_0xd6250['commandName'])return;return{'type':'format','content':o(_0x34226d,'*Format:*\x20replace\x20image\x20URL')};});}}class ht extends _0x150e1e{['afterInit'](){const _0x16018b=this['editor'];if(!_0x16018b['plugins']['has']('ImageStyleEditing'))return;const _0x214eb3=_0x16018b['plugins']['get']('TrackChangesEditing'),_0x5478e3=_0x16018b['plugins']['get']('ImageUtils'),_0x117544={};_0x214eb3['enableCommand']('imageStyle',(_0x2209ca,_0x454e73)=>{const _0x3614db=_0x16018b['plugins']['get']('Users')['me'],_0x1a7ca2=_0x16018b['commands']['get']('imageStyle');let _0x2bb4f1=_0x5478e3['getClosestSelectedImageElement'](_0x16018b['model']['document']['selection']),_0x2e1f4c=_0x16018b['model']['createRangeOn'](_0x2bb4f1),_0x366256=_0x1a7ca2['value'];if(_0x366256==_0x454e73['value'])return;const _0xffdc39={'commandName':'imageStyle','commandParams':[_0x454e73],'formatGroupId':_0x2f3bfc()};_0x16018b['model']['change'](()=>{if(_0x214eb3['getSuggestions']()['filter'](_0x4ea883=>_0x4ea883['isInContent']&&_0x3614db==_0x4ea883['author']&&('formatBlock'==_0x4ea883['type']||'formatInline'==_0x4ea883['type'])&&('imageStylePreApply'==_0x4ea883['subType']||'imageStylePostApply'==_0x4ea883['subType'])&&_0x4ea883['getFirstRange']()['isEqual'](_0x2e1f4c))['forEach'](_0x49826d=>_0x214eb3['discardSuggestion'](_0x49826d['head'])),_0x2bb4f1=_0x5478e3['getClosestSelectedImageElement'](_0x16018b['model']['document']['selection']),_0x2e1f4c=_0x16018b['model']['createRangeOn'](_0x2bb4f1),_0x1a7ca2['refresh'](),_0x16018b['commands']['get']('imageTypeInline')['refresh'](),_0x16018b['commands']['get']('imageTypeBlock')['refresh'](),_0x366256=_0x1a7ca2['value'],_0x366256!=_0x454e73['value'])return _0x5478e3['isInlineImage'](_0x2bb4f1)&&_0x1a7ca2['shouldConvertImageType'](_0x454e73['value'],_0x2bb4f1)?(_0x2209ca({..._0x454e73,'setImageSizes':!0x1}),_0x2bb4f1=_0x5478e3['getClosestSelectedImageElement'](_0x16018b['model']['document']['selection']),void _0x214eb3['markBlockFormat'](_0x2bb4f1,{..._0xffdc39,'commandReversedParams':[{'value':_0x366256||null,'setImageSizes':!0x1}]},[],'imageStylePreApply')):void(_0x5478e3['isBlockImage'](_0x2bb4f1)?_0x214eb3['markBlockFormat'](_0x2bb4f1,_0xffdc39,[],'imageStylePostApply'):_0x214eb3['markInlineFormat'](_0x2e1f4c,_0xffdc39,'imageStylePostApply'));});});for(const _0x1aa580 of _0x16018b['plugins']['get']('ImageStyleEditing')['normalizedStyles'])_0x117544[_0x1aa580['name']]=_0x1aa580['title']['toLowerCase']();_0x214eb3['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','join',()=>!0x1),_0x214eb3['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePostApply','join',()=>!0x1),_0x214eb3['_suggestionFactory']['registerCustomCallback']('formatInline','imageStylePostApply','join',()=>!0x1),_0x214eb3['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','accept',([_0xf4687e])=>{_0x5478e3['setImageNaturalSizeAttributes'](_0xf4687e['getContainedElement']());}),_0x214eb3['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','discard',(_0x485de8,_0x2e7d16)=>{_0x214eb3['_suggestionFactory']['getSuggestionCallback']('formatBlock','','accept')(_0x485de8,{'commandName':_0x2e7d16['commandName'],'commandParams':_0x2e7d16['commandReversedParams']});}),_0x214eb3['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','chain',function(_0x549cfe,_0x7a44ee){if(_0x54c9e6(_0x549cfe,_0x7a44ee))return[_0x549cfe,_0x7a44ee];if(_0x54c9e6(_0x7a44ee,_0x549cfe))return[_0x7a44ee,_0x549cfe];return null;});const _0x28f57a=[{'type':'formatBlock','subType':'imageStylePreApply'},{'type':'insertion','subType':'imageCaption'},{'type':'formatBlock','subType':'convertInlineImageToBlock'},{'type':'insertion','subType':'convertInlineImageToBlock'}];function _0x54c9e6(_0x1c88f2,_0x5ddba5){const _0x2d3828=_0x28f57a['findIndex'](({type:_0x4530de,subType:_0x39b170})=>_0x1c88f2['type']==_0x4530de&&_0x1c88f2['subType']==_0x39b170),_0x13428b=_0x28f57a['findIndex'](({type:_0x2f19db,subType:_0x56d490})=>_0x5ddba5['type']==_0x2f19db&&_0x5ddba5['subType']==_0x56d490);if(_0x2d3828<0x0||_0x13428b<0x0)return!0x1;const _0x251037=_0x1c88f2['getFirstRange'](),_0x8ca371=_0x5ddba5['getFirstRange']();if((0x0==_0x2d3828||0x1==_0x2d3828)&&0x2==_0x13428b&&_0x251037['isIntersecting'](_0x8ca371))return!0x0;if(0x2==_0x2d3828&&0x3==_0x13428b){const _0x221200=_0x214eb3['_findSuggestions'](_0x251037,'insertion')['filter'](({suggestion:_0x5d91e2,meta:_0x5d9579})=>_0x5d9579['isOwn']&&'convertInlineImageToBlock'==_0x5d91e2['subType']);if(_0x221200['length']>0x1&&_0x8ca371['end']['isEqual'](_0x251037['start']))return!0x0;if(0x1==_0x221200['length']&&(_0x251037['start']['isEqual'](_0x8ca371['end'])||_0x251037['end']['isEqual'](_0x8ca371['start'])))return!0x0;}if(0x3==_0x2d3828&&0x3==_0x13428b&&_0x251037['start']['isBefore'](_0x8ca371['start'])){const _0x495997=_0x251037['end']['nodeAfter'],_0x512fae=_0x8ca371['start']['nodeBefore'];return _0x5478e3['isBlockImage'](_0x495997)&&_0x495997===_0x512fae;}return!0x1;}_0x16018b['model']['document']['registerPostFixer'](()=>{let _0x1d441a=!0x1;const _0x3256ad=Array['from'](_0x16018b['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x3c46c7,data:_0x532167}of _0x3256ad){const {group:_0x37704a,type:_0x4f3e4d,subType:_0xb8b836,id:_0x49ddaa}=_0x214eb3['_splitMarkerName'](_0x3c46c7);if('suggestion'==_0x37704a&&_0x214eb3['hasSuggestion'](_0x49ddaa)){if('formatBlock'==_0x4f3e4d&&('imageStylePreApply'==_0xb8b836||'imageStylePostApply'==_0xb8b836)){const _0x49bfbf=_0x214eb3['getSuggestion'](_0x49ddaa);if(_0x532167['newRange']){const _0x5a8d8c=_0x49bfbf['getFirstRange']()['getContainedElement']();if(_0x5478e3['isBlockImage'](_0x5a8d8c))continue;_0x214eb3['discardSuggestion'](_0x49bfbf),_0x1d441a=!0x0;}}if('insertion'==_0x4f3e4d&&'imageCaption'==_0xb8b836&&!_0x532167['newRange']){const _0x3ca237=_0x214eb3['getSuggestion'](_0x49ddaa);_0x3ca237['next']&&_0x3ca237['next']['isInContent']&&(_0x214eb3['discardSuggestion'](_0x3ca237['next']),_0x1d441a=!0x0);}}}return _0x1d441a;}),this['_registerLegacyDescription'](_0x117544);}['_registerLegacyDescription'](_0x31d881){const _0x3853d2=this['editor'],_0x5b3c3f=_0x3853d2['locale'];_0x3853d2['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x19f48d=>{if('formatBlock'!=_0x19f48d['type']&&'formatInline'!=_0x19f48d['type'])return;const {data:_0x1fc8a4}=_0x19f48d;if(!_0x1fc8a4||'imageStyle'!=_0x1fc8a4['commandName'])return;const _0x4091e9=_0x1fc8a4['commandParams'][0x0]['value'];return _0x49bf0b('side'===_0x4091e9?o(_0x5b3c3f,'FORMAT_SIDE_IMAGE'):_0x31d881[_0x4091e9]||_0x4091e9);function _0x49bf0b(_0x5dbab2){return{'type':'format','content':o(_0x5b3c3f,'*Format:*\x20%0',_0x5dbab2)};}});}}class gt extends _0x150e1e{['_trackChangesValueDuringImport'];['_trackChangesExecuted'];constructor(_0x431fe1){super(_0x431fe1),this['_trackChangesValueDuringImport']=!0x1,this['_trackChangesExecuted']=!0x1;}['afterInit'](){const _0x319452=this['editor'],_0x241e36=_0x319452['commands']['get']('importWord'),_0x1e2d23=_0x319452['commands']['get']('trackChanges');_0x241e36&&(_0x241e36['on']('execute',(_0x16c3a4,[,_0x31236b])=>{this['_trackChangesValueDuringImport']=_0x1e2d23['value'],_0x31236b['collaboration_features']['track_changes']=!this['_trackChangesValueDuringImport'];},{'priority':'high'}),this['listenTo'](_0x241e36,'dataInsert',this['_handleImportedData']['bind'](this)),this['listenTo'](_0x241e36,'dataInsert',()=>{this['_trackChangesExecuted']&&(_0x1e2d23['execute'](),this['_trackChangesExecuted']=!0x1);},{'priority':'lowest'}),_0x319452['plugins']['get']('TrackChangesEditing')['enableCommand']('importWord'));}['_handleImportedData'](_0x521e39,_0x576327){const {suggestions:_0x2b145d}=_0x576327,_0x1761a8=this['editor']['commands']['get']('trackChanges'),_0x51f38d=_0x1761a8['value'];this['_trackChangesValueDuringImport']!==_0x51f38d&&(_0x1761a8['execute'](),this['_trackChangesExecuted']=!0x0),_0x2b145d&&_0x2b145d['forEach'](({id:_0x5ea69b,type:_0x579dcc,author:_0x1f9467,created_at:_0x3d664d})=>{const _0x4bbdd5={'id':_0x5ea69b,'type':_0x579dcc,'authorId':this['editor']['plugins']['get']('Users')['me']['id'],'createdAt':new Date(),'data':null,'hasComments':!0x1,'attributes':{'@external':{'authorName':_0x1f9467,'createdAt':_0x3d664d?new Date(_0x3d664d):new Date(),'source':'importWord'}}};this['editor']['plugins']['get']('TrackChangesEditing')['_setSuggestionData'](_0x4bbdd5);});}}class lt extends _0x150e1e{['afterInit'](){const _0x88c632=this['editor'],_0x16b0eb=_0x88c632['plugins']['get']('TrackChangesEditing');if(_0x88c632['plugins']['has']('IndentEditing')&&(_0x16b0eb['enableCommand']('indent'),_0x16b0eb['enableCommand']('outdent')),_0x88c632['plugins']['has']('IndentBlock')){for(const _0x331716 of['indentBlock','outdentBlock'])_0x16b0eb['enableDefaultAttributesIntegration'](_0x331716);}const _0x448269=_0x88c632['locale'];_0x16b0eb['registerBlockAttribute']('blockIndent'),_0x16b0eb['descriptionFactory']['registerAttributeLabel']('blockIndent',o(_0x448269,'FORMAT_INDENT')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x460d07=this['editor'],_0x1720c1=_0x460d07['locale'],_0x429e0d=_0x460d07['plugins']['get']('TrackChangesEditing');_0x429e0d['descriptionFactory']['registerDescriptionCallback'](_0x212d31=>{if('formatBlock'!=_0x212d31['type'])return;const {data:_0x4d426b}=_0x212d31;if(!_0x4d426b)return;if('indentBlock'!=_0x4d426b['commandName']&&'outdentBlock'!=_0x4d426b['commandName'])return;const _0x8af4d3=_0x212d31['getItems']()[0x0],_0x2a8413=_0x429e0d['descriptionFactory']['getItemLabel'](_0x8af4d3);return'indentBlock'==_0x4d426b['commandName']?{'type':'format','content':o(_0x1720c1,'*Indent:*\x20%0',_0x2a8413)}:'outdentBlock'==_0x4d426b['commandName']?{'type':'format','content':o(_0x1720c1,'*Outdent:*\x20%0',_0x2a8413)}:void 0x0;});}}class dt extends _0x150e1e{static get['requires'](){return[tr];}['init'](){this['editor']['plugins']['get']('TrackChangesEditing')['enableCommand']('input');}}class mt extends _0x150e1e{['afterInit'](){const _0x3553f0=this['editor'];if(!_0x3553f0['plugins']['has']('LinkEditing'))return;const _0x2cb9e0=_0x3553f0['plugins']['get']('TrackChangesEditing'),_0x3307eb=_0x3553f0['commands']['get']('link');_0x2cb9e0['enableDefaultAttributesIntegration']('link'),_0x2cb9e0['enableDefaultAttributesIntegration']('unlink'),_0x2cb9e0['registerInlineAttribute']('linkHref');for(const _0x157a9f of _0x3307eb['manualDecorators'])_0x2cb9e0['registerInlineAttribute'](_0x157a9f['id']),_0x2cb9e0['descriptionFactory']['registerAttributeLabel'](_0x157a9f['id'],'link\x20('+_0x157a9f['label']['toLowerCase']()+')');_0x2cb9e0['descriptionFactory']['registerDescriptionCallback'](_0x2478b8=>{if('attribute'!=_0x2478b8['type'])return;const {data:_0x37be96}=_0x2478b8;if(!_0x37be96||'linkHref'!=_0x37be96['key'])return;const _0x505f88=_0x37be96['newValue'],_0x156d8a=_0x3553f0['locale'];return{'type':'format','content':null==_0x505f88?o(_0x156d8a,'*Remove\x20link*'):o(_0x156d8a,'*Set\x20link:*\x20%0','\x22'+_0x505f88+'\x22')};}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x4f1eaa=this['editor'],_0x1299f5=_0x4f1eaa['locale'];_0x4f1eaa['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0xa676a=>{if('formatInline'!=_0xa676a['type'])return;const {data:_0x4ed392}=_0xa676a;if(_0x4ed392){if('link'==_0x4ed392['commandName']){const _0x56565a=_0x4ed392['commandParams'][0x0];return{'type':'format','content':o(_0x1299f5,'*Set\x20link:*\x20%0','\x22'+_0x56565a+'\x22')};}return'unlink'==_0x4ed392['commandName']?{'type':'format','content':o(_0x1299f5,'*Remove\x20link*')}:void 0x0;}});}}class pt extends _0x150e1e{['afterInit'](){const _0x20252e=this['editor'],_0x478812=_0x20252e['locale'];if(!_0x20252e['plugins']['has']('LegacyListEditing'))return;const _0x161d70=_0x20252e['plugins']['get']('TrackChangesEditing'),_0x42693c=_0x20252e['plugins']['has']('LegacyTodoListEditing');function _0x3a35cc(_0x11aa6f){return()=>{const _0x33d3b8=_0x20252e['model']['document']['selection'],_0x2a6071=_0x20252e['commands']['get'](_0x11aa6f);if(_0x2a6071['value'])return void _0x20252e['execute']('paragraph',{});const _0x3f3258=_0x11aa6f['slice'](0x0,-0x4),_0x3067cc=function(_0x240407,_0x13f608,_0x5875ee){let _0x314193=Array['from'](_0x240407)['filter'](_0x43941e=>function(_0x1791cb,_0x5d1a8a){return _0x5d1a8a['checkChild'](_0x1791cb['parent'],'listItem')&&!_0x5d1a8a['isObject'](_0x1791cb);}(_0x43941e,_0x5875ee));_0x314193=_0x314193['filter'](_0x7a053=>!_0x7a053['is']('element','listItem')||_0x7a053['getAttribute']('listType')!=_0x13f608);const _0x428e5e=new Set();for(const _0x48f270 of _0x314193)_0x48f270['is']('element','listItem')?_0x428e5e['add'](Ne(_0x48f270)):_0x428e5e['add'](_0x48f270);return Array['from'](_0x428e5e);}(_0x33d3b8['getSelectedBlocks'](),_0x3f3258,_0x20252e['model']['schema']);_0x20252e['model']['change'](()=>{for(const _0x274925 of _0x3067cc)_0x161d70['markBlockFormat'](_0x274925,{'commandName':_0x11aa6f,'commandParams':[{'forceValue':!_0x2a6071['value']}],'formatGroupId':'blockName'},Se(_0x274925));});};}function _0x4e1b27(_0x1dacee){return()=>{const _0x2c543b=function(_0x5d79c1){let _0xb60174=Array['from'](_0x5d79c1);const _0x560202=_0xb60174['findIndex'](_0x9c318e=>'listItem'!=_0x9c318e['name']);return _0x560202>-0x1&&(_0xb60174=_0xb60174['slice'](0x0,_0x560202)),_0xb60174;}(_0x20252e['model']['document']['selection']['getSelectedBlocks']()),_0x2766b=_0x20252e['model']['createRange'](_0x20252e['model']['createPositionAt'](_0x2c543b[0x0],'before'),_0x20252e['model']['createPositionAt'](_0x2c543b[_0x2c543b['length']-0x1],'end'));_0x20252e['model']['change'](()=>{_0x161d70['markBlockFormat'](_0x2766b,{'commandName':_0x1dacee,'commandParams':[],'formatGroupId':'listIndent'},function(_0x506005){const _0x418ac1=new Set();for(const _0x2ce482 of _0x506005){let _0x144c23=_0x2ce482['nextSibling'];for(;_0x144c23&&_0x144c23['getAttribute']('listIndent')>_0x2ce482['getAttribute']('listIndent');)_0x418ac1['add'](_0x144c23),_0x144c23=_0x144c23['nextSibling'];}return Array['from'](_0x418ac1);}(_0x2c543b));});};}_0x161d70['enableCommand']('numberedList',_0x3a35cc('numberedList')),_0x161d70['enableCommand']('bulletedList',_0x3a35cc('bulletedList')),_0x42693c&&_0x161d70['enableCommand']('todoList',_0x3a35cc('todoList')),_0x161d70['enableCommand']('indentList',_0x4e1b27('indentList')),_0x161d70['enableCommand']('outdentList',_0x4e1b27('outdentList')),_0x42693c&&_0x161d70['enableCommand']('checkTodoList',()=>{const _0x53c630=_0x20252e['commands']['get']('checkTodoList'),_0x174395=Array['from'](_0x53c630['_selectedElements']);_0x174395['filter'](_0x2a9b1a=>_0x2a9b1a['getAttribute']('todoListChecked')!=_0x53c630['value']),_0x20252e['model']['change'](()=>{for(const _0x41dac8 of _0x174395)_0x161d70['markBlockFormat'](_0x41dac8,{'commandName':'checkTodoList','commandParams':[{'forceValue':!_0x53c630['value']}]});});}),_0x161d70['descriptionFactory']['registerElementLabel']('listItem',_0x879746=>o(_0x478812,'ELEMENT_LIST_ITEM',_0x879746)),_0x161d70['descriptionFactory']['registerDescriptionCallback'](_0x50fce7=>{if('formatBlock'!=_0x50fce7['type']&&'formatInline'!=_0x50fce7['type'])return;const {data:_0x5497e2}=_0x50fce7;if(_0x5497e2){if('numberedList'==_0x5497e2['commandName']||'bulletedList'==_0x5497e2['commandName']||'todoList'==_0x5497e2['commandName'])switch(_0x5497e2['commandName']['replace']('List','')){case'bulleted':return _0x201ab4(o(_0x478812,'ELEMENT_BULLETED_LIST'));case'numbered':return _0x201ab4(o(_0x478812,'ELEMENT_NUMBERED_LIST'));case'todo':return _0x201ab4(o(_0x478812,'ELEMENT_TODO_LIST'));}if('indentList'==_0x5497e2['commandName'])return{'type':'format','content':o(_0x478812,'*Indent:*\x20%0',o(_0x478812,'ELEMENT_LIST_ITEM'))};if('outdentList'==_0x5497e2['commandName'])return{'type':'format','content':o(_0x478812,'*Outdent:*\x20%0',o(_0x478812,'ELEMENT_LIST_ITEM'))};if('checkTodoList'==_0x5497e2['commandName'])return _0x5497e2['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x478812,'*Check\x20item*')}:{'type':'format','content':o(_0x478812,'*Uncheck\x20item*')};}function _0x201ab4(_0x1b1270){return{'type':'format','content':o(_0x478812,'*Change\x20to:*\x20%0',_0x1b1270)};}});}}function Ne(_0x4fa504){const _0x2985b1=_0x4fa504['getAttribute']('listIndent');if(0x0==_0x2985b1)return _0x4fa504;let _0x4c76e2=_0x4fa504;for(;_0x4fa504['previousSibling']&&_0x4fa504['previousSibling']['is']('element','listItem');){const _0x2772de=_0x4fa504['previousSibling']['getAttribute']('listIndent');if(_0x2772de==_0x2985b1)_0x4c76e2=_0x4fa504['previousSibling'];else{if(_0x2772de<_0x2985b1)break;}_0x4fa504=_0x4fa504['previousSibling'];}return _0x4c76e2;}function Se(_0x428698){const _0x29d8aa=[];if(_0x428698['is']('element','listItem')&&_0x428698['getAttribute']('listIndent')>0x0){let _0xb78cea=_0x428698['nextSibling'];for(;_0xb78cea&&'listItem'==_0xb78cea['name']&&_0xb78cea['getAttribute']('listIndent')==_0x428698['getAttribute']('listIndent');)_0x29d8aa['push'](_0xb78cea),_0xb78cea=_0xb78cea['nextSibling'];}return _0x29d8aa;}class kt extends _0x150e1e{['afterInit'](){if(!this['editor']['plugins']['has']('LegacyListPropertiesEditing'))return;const _0x2e67db=this['editor']['config']['get']('list.properties'),_0x12236=this['editor']['plugins']['get']('TrackChangesEditing');_0x2e67db['styles']&&_0x12236['enableCommand']('listStyle',this['handleListStyleCommand']['bind'](this)),_0x2e67db['reversed']&&_0x12236['enableCommand']('listReversed',this['handleListReversedCommand']['bind'](this)),_0x2e67db['startIndex']&&_0x12236['enableCommand']('listStart',this['handleListStartCommand']['bind'](this)),_0x12236['descriptionFactory']['registerDescriptionCallback'](this['handleDescriptions']['bind'](this));}['handleListStyleCommand'](_0x440d65,_0x1db0e2={}){const _0x5abf54=this['editor']['plugins']['get']('TrackChangesEditing'),_0x21b4d6=this['_getSuggestionBlocksForListStyle']();this['editor']['model']['change'](()=>{_0x5abf54['markMultiRangeBlockFormat'](_0x21b4d6,{'commandName':'listStyle','commandParams':[{'type':_0x1db0e2['type']}],'formatGroupId':'listStyle'});});}['handleListReversedCommand'](_0x51fdfb,_0x4679d9={}){const _0x55ff79=this['editor']['plugins']['get']('TrackChangesEditing'),_0x52453e=this['_getSuggestionBlocks'](_0x192853=>_0x192853['is']('element','listItem')&&'numbered'===_0x192853['getAttribute']('listType'));if(_0x52453e['length']<0x1)return;const _0x4df355=_0x52453e['map'](_0x23dabf=>this['editor']['model']['createRange'](this['editor']['model']['createPositionAt'](_0x23dabf,'before'),this['editor']['model']['createPositionAt'](_0x23dabf,0x0)));this['editor']['model']['change'](()=>{_0x55ff79['markMultiRangeBlockFormat'](_0x4df355,{'commandName':'listReversed','commandParams':[{'reversed':_0x4679d9['reversed']}],'formatGroupId':'listReversed'});});}['handleListStartCommand'](_0x3a7c93,_0x341d38={}){const _0x5caf85=this['editor']['plugins']['get']('TrackChangesEditing'),_0x34716e=this['_getSuggestionBlocks'](_0x4dc643=>_0x4dc643['is']('element','listItem')&&'numbered'===_0x4dc643['getAttribute']('listType'));if(_0x34716e['length']<0x1)return;const _0x45660b=_0x34716e['map'](_0x56c713=>this['editor']['model']['createRange'](this['editor']['model']['createPositionAt'](_0x56c713,'before'),this['editor']['model']['createPositionAt'](_0x56c713,0x0)));this['editor']['model']['change'](()=>{_0x5caf85['markMultiRangeBlockFormat'](_0x45660b,{'commandName':'listStart','commandParams':[{'startIndex':_0x341d38['startIndex']}],'formatGroupId':'listStart'});});}['handleDescriptions'](_0x232d04){if('formatBlock'!=_0x232d04['type']&&'formatInline'!=_0x232d04['type'])return;const _0x304faa=this['editor']['locale'],{data:_0x4865c6}=_0x232d04;if(!_0x4865c6)return;let _0x4cafdb,_0x1fb8e2;switch(_0x4865c6['commandName']){case'listStyle':_0x4cafdb='*Change\x20to:*\x20%0',_0x1fb8e2={'type':'format','content':o(_0x304faa,_0x4cafdb,o(_0x304faa,this['_getTranslationKeyForListStyle'](_0x4865c6['commandParams'][0x0]['type'])))};break;case'listReversed':_0x4cafdb=_0x4865c6['commandParams'][0x0]['reversed']?'*Format:*\x20set\x20order\x20to\x20reversed':'*Format:*\x20set\x20order\x20to\x20regular',_0x1fb8e2={'type':'format','content':o(_0x304faa,_0x4cafdb)};break;case'listStart':_0x4cafdb='*Format:*\x20set\x20start\x20index\x20to\x20%0',_0x1fb8e2={'type':'format','content':o(_0x304faa,_0x4cafdb,_0x4865c6['commandParams'][0x0]['startIndex'])};}return _0x1fb8e2;}['_getSuggestionBlocksForListStyle'](){const _0x2cf3c9=this['editor']['plugins']['get']('LegacyListUtils');let _0x2c2571=Array['from'](this['editor']['model']['document']['selection']['getSelectedBlocks']());return _0x2c2571[0x0]?.['is']('element','listItem')&&_0x2c2571['unshift'](..._0x2cf3c9['getSiblingNodes'](this['editor']['model']['document']['selection']['getFirstPosition'](),'backward')),_0x2c2571[_0x2c2571['length']-0x1]?.['is']('element','listItem')&&_0x2c2571['push'](..._0x2cf3c9['getSiblingNodes'](this['editor']['model']['document']['selection']['getLastPosition'](),'forward')),_0x2c2571=[...new Set(_0x2c2571)],this['editor']['model']['document']['selection']['getFirstPosition']()?.['parent']?.['is']('element','listItem')&&(_0x2c2571=_0x2c2571['filter'](_0x587033=>_0x587033['is']('element','listItem'))),_0x2c2571;}['_getSuggestionBlocks'](_0x2220fc){const _0x3345b8=this['editor']['plugins']['get']('LegacyListUtils');let _0x39e8ec=Array['from'](this['editor']['model']['document']['selection']['getSelectedBlocks']())['filter'](_0x2220fc)['map'](_0x163cfa=>{const _0x195730=this['editor']['model']['createPositionAt'](_0x163cfa,0x0);return[..._0x3345b8['getSiblingNodes'](_0x195730,'backward'),..._0x3345b8['getSiblingNodes'](_0x195730,'forward')];})['flat']();return _0x39e8ec=[...new Set(_0x39e8ec)],_0x39e8ec;}['_getTranslationKeyForListStyle'](_0x2cdc02){return'ELEMENT_'+(this['editor']['plugins']['get']('LegacyListUtils')['getListTypeFromListStyleType'](_0x2cdc02)||'default')['toUpperCase']()+'_LIST_'+_0x2cdc02['toUpperCase']()['replace'](/-/g,'_');}}class wt extends _0x150e1e{['afterInit'](){const _0x47de51=this['editor'];if(!_0x47de51['plugins']['has']('MediaEmbedEditing'))return;const _0x1e44d7=_0x47de51['plugins']['get']('TrackChangesEditing'),_0x443b84=_0x47de51['locale'];_0x1e44d7['enableCommand']('mediaEmbed'),_0x1e44d7['descriptionFactory']['registerElementLabel']('media',_0x1e551b=>o(_0x443b84,'ELEMENT_MEDIA',_0x1e551b)),_0x47de51['conversion']['for']('dataDowncast')['elementToElement']({'model':'media','view':(_0x554605,{writer:_0x39ca28,options:_0x1954ca})=>{if(_0x1954ca['showSuggestionHighlights'])return _0x39ca28['createEmptyElement']('div');},'converterPriority':'high'}),_0x47de51['data']['downcastDispatcher']['on']('attribute:url:media',(_0x3c6eaa,_0x874513,_0xd88f6f)=>{_0xd88f6f['options']['showSuggestionHighlights']&&_0x3c6eaa['stop']();},{'priority':'high'});}}class bt extends _0x150e1e{['afterInit'](){const _0x13535b=this['editor'];_0x13535b['plugins']['has']('MentionEditing')&&_0x13535b['plugins']['get']('TrackChangesEditing')['enableCommand']('mention');}}class yt extends _0x150e1e{['afterInit'](){const _0x4fd135=this['editor'];if(!_0x4fd135['plugins']['has']('MergeFieldsEditing'))return;const _0x1646cf=_0x4fd135['plugins']['get']('TrackChangesEditing'),_0x4ef7e5=_0x4fd135['locale'];_0x1646cf['enableCommand']('insertMergeField'),_0x1646cf['enableCommand']('insertMergeFieldBlock'),_0x1646cf['enableCommand']('insertMergeFieldImage'),_0x1646cf['descriptionFactory']['registerElementLabel']('mergeField',_0x71faa9=>o(_0x4ef7e5,'ELEMENT_MERGE_FIELD',_0x71faa9)),_0x1646cf['descriptionFactory']['registerElementLabel']('mergeFieldBlock',_0x5093c0=>o(_0x4ef7e5,'ELEMENT_MERGE_FIELD',_0x5093c0)),_0x1646cf['descriptionFactory']['registerDescriptionCallback'](_0x5914bd=>{if('insertion'!=_0x5914bd['type']&&'deletion'!=_0x5914bd['type'])return;const _0x5abdb4=_0x5914bd['getContainedElement']();if(null==_0x5abdb4)return;const _0x134adf=_0x4fd135['plugins']['get']('MergeFieldsEditing');let _0x42aeb5;switch(_0x134adf['getMergeFieldType'](_0x5abdb4)){case null:return;case'image':{const _0x4f9d29=_0x134adf['unwrapAffixes'](_0x5abdb4['getAttribute']('src'));_0x42aeb5=_0x134adf['getLabel'](_0x4f9d29)||_0x4f9d29;break;}default:{const _0x2d038e=_0x5abdb4['getAttribute']('id');_0x42aeb5=_0x134adf['getLabel'](_0x2d038e)||_0x2d038e;break;}}return'insertion'==_0x5914bd['type']?{'type':'insertion','content':o(_0x4ef7e5,'*Insert:*\x20%0','\x22'+_0x42aeb5+'\x22\x20'+o(_0x4ef7e5,'ELEMENT_MERGE_FIELD'))}:{'type':'deletion','content':o(_0x4ef7e5,'*Remove:*\x20%0','\x22'+_0x42aeb5+'\x22\x20'+o(_0x4ef7e5,'ELEMENT_MERGE_FIELD'))};});}}class St extends _0x150e1e{['afterInit'](){const _0x513d77=this['editor'],_0x3cbbb3=_0x513d77['plugins']['get']('TrackChangesEditing');_0x513d77['plugins']['has']('MultiLevelList')&&(_0x3cbbb3['enableDefaultAttributesIntegration']('multiLevelList'),_0x3cbbb3['registerBlockAttribute']('listMarkerStyle'),_0x3cbbb3['descriptionFactory']['registerDescriptionCallback'](_0x4bb62d=>this['handleDescriptions'](_0x4bb62d)));}['handleDescriptions'](_0x1f2485){const _0x2fd749=this['editor']['locale'],{data:_0x1f45e3}=_0x1f2485,_0x1426d6={'type':'format','content':''};if(_0x1f45e3&&'listMarkerStyle'==_0x1f45e3['key']){if(!_0x1f45e3['oldValue'])return{'type':'format','content':o(_0x2fd749,'*Set\x20format:*\x20%0',o(_0x2fd749,'ELEMENT_MULTI_LEVEL_LIST'))+'\x20('+_0x1f45e3['newValue']+')'};if(!_0x1f45e3['newValue']){let _0x288421=_0x1f2485['head'];for(;_0x288421;){if(_0x288421['data']&&'listType'==_0x288421['data']['key']&&_0x288421['data']['newValue'])return _0x1426d6;_0x288421=_0x288421['next'];}return{'type':'format','content':o(_0x2fd749,'*Remove\x20format:*\x20%0',o(_0x2fd749,'ELEMENT_MULTI_LEVEL_LIST'))+'\x20('+_0x1f45e3['oldValue']+')'};}}}}class jt extends _0x150e1e{['afterInit'](){const _0x1cee9c=this['editor'];if(!_0x1cee9c['plugins']['has']('PageBreakEditing'))return;_0x1cee9c['plugins']['get']('TrackChangesEditing')['enableCommand']('pageBreak');const _0xa62823=_0x1cee9c['plugins']['get']('TrackChangesEditing'),_0x7ca972=_0x1cee9c['locale'];_0xa62823['descriptionFactory']['registerElementLabel']('pageBreak',_0x2996fa=>o(_0x7ca972,'ELEMENT_PAGE_BREAK',_0x2996fa));}}class It extends _0x150e1e{['afterInit'](){const _0x2a0808=this['editor'];if(!_0x2a0808['plugins']['has']('Paragraph'))return;const _0x202089=_0x2a0808['locale'],_0x4f6913=_0x2a0808['plugins']['get']('TrackChangesEditing');_0x4f6913['descriptionFactory']['registerElementLabel']('paragraph',_0x3531db=>o(_0x202089,'ELEMENT_PARAGRAPH',_0x3531db)),_0x4f6913['enableDefaultAttributesIntegration']('paragraph'),_0x4f6913['enableCommand']('insertParagraph'),_0x2a0808['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',nr(_0x2a0808),{'priority':'highest'}),_0x2a0808['data']['downcastDispatcher']['on']('addMarker:suggestion:insertion',(_0x2248da,_0x109faf,_0x4939b8)=>{_0x4939b8['options']['showSuggestionHighlights']&&nr(_0x2a0808,{'showActiveMarker':!0x1})(_0x2248da,_0x109faf,_0x4939b8);},{'priority':'highest'});const _0x634dd1=_0x4f6913['descriptionFactory'];_0x634dd1['registerDescriptionCallback'](_0x4d5b6c=>{if('insertion'!==_0x4d5b6c['type'])return;const {start:_0x2da0f9,end:_0x5a2f35}=_0x4d5b6c['getFirstRange']();if(!_0x2da0f9['isTouching'](_0x5a2f35)||!_0x2da0f9['nodeAfter'])return;const _0x1eb981=_0x2a0808['model']['schema'],_0x97c944=_0x2da0f9['nodeAfter'];return _0x1eb981['isBlock'](_0x97c944)&&!_0x1eb981['isLimit'](_0x97c944)&&_0x1eb981['checkChild'](_0x97c944,'$text')?{'type':'insertion','content':o(_0x202089,'*Insert:*\x20%0',_0x634dd1['getItemLabel'](_0x97c944,0x1))}:void 0x0;}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x7fc160=this['editor'],_0x1f7b72=_0x7fc160['locale'];_0x7fc160['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x373bad=>{if('formatBlock'!=_0x373bad['type'])return;const {data:_0x28b1ef}=_0x373bad;return _0x28b1ef&&'paragraph'==_0x28b1ef['commandName']?{'type':'format','content':o(_0x1f7b72,'*Change\x20to:*\x20%0',o(_0x1f7b72,'ELEMENT_PARAGRAPH'))}:void 0x0;});}}function nr(_0x51828f,{showActiveMarker:_0x1c46bb=!0x0}={}){return(_0x52cca1,_0x40eaa1,_0x31515f)=>{const _0x3feb02=_0x51828f['plugins']['get']('TrackChangesEditing'),_0x3fe7e2=_0x40eaa1['markerRange']['start'],_0x3ca5a8=_0x40eaa1['markerRange']['end'],_0x2c8175=_0x51828f['model']['schema'];if(!_0x3fe7e2['isTouching'](_0x3ca5a8)||!_0x3fe7e2['nodeAfter'])return;const _0x1d6bd5=_0x3fe7e2['nodeAfter'];if(_0x2c8175['isBlock'](_0x1d6bd5)&&!_0x2c8175['isLimit'](_0x1d6bd5)&&_0x2c8175['checkChild'](_0x1d6bd5,'$text')){if(!_0x31515f['consumable']['consume'](_0x40eaa1['markerRange'],_0x52cca1['name']))return;const {id:_0x378948,authorId:_0xb32b05}=_0x3feb02['_splitMarkerName'](_0x40eaa1['markerName']),_0x1a3ddb=_0x31515f['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-split','data-suggestion':_0x378948,'data-author-id':_0xb32b05}),_0x4ccca7=_0x31515f['mapper']['toViewPosition'](_0x3ca5a8);_0x1c46bb&&_0x3feb02['activeMarkers']['includes'](_0x40eaa1['markerName'])&&_0x31515f['writer']['addClass']('ck-suggestion-marker--active',_0x1a3ddb),_0x31515f['writer']['insert'](_0x4ccca7,_0x1a3ddb),_0x31515f['mapper']['bindElementToMarker'](_0x1a3ddb,_0x40eaa1['markerName']);}};}class At extends _0x150e1e{['afterInit'](){const _0x5c70fe=this['editor'];_0x5c70fe['commands']['get']('replaceSource')&&_0x5c70fe['plugins']['get']('TrackChangesEditing')['enableCommand']('replaceSource');}}class _t extends _0x150e1e{['afterInit'](){const _0x54e286=this['editor'];if(!_0x54e286['plugins']['has']('RemoveFormatEditing'))return;_0x54e286['plugins']['get']('TrackChangesEditing')['enableDefaultAttributesIntegration']('removeFormat'),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0xad6f12=this['editor'];_0xad6f12['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x10aab4=>{if('formatBlock'!=_0x10aab4['type']&&'formatInline'!=_0x10aab4['type'])return;const {data:_0x32ff7d}=_0x10aab4;return _0x32ff7d&&'removeFormat'==_0x32ff7d['commandName']?{'type':'format','content':o(_0xad6f12['locale'],'*Remove\x20all\x20formatting*')}:void 0x0;});}}class $t extends _0x150e1e{['afterInit'](){const _0x3ac724=this['editor'];if(!_0x3ac724['plugins']['has']('RestrictedEditingModeEditing'))return;const _0x51cdb7=_0x3ac724['plugins']['get']('TrackChangesEditing');_0x51cdb7['enableCommand']('goToPreviousRestrictedEditingException'),_0x51cdb7['enableCommand']('goToNextRestrictedEditingException');const _0x4e735d=_0x3ac724['plugins']['get']('RestrictedEditingModeEditing');_0x4e735d['enableCommand']('trackChanges'),_0x4e735d['enableCommand']('acceptSuggestion'),_0x4e735d['enableCommand']('discardSuggestion'),_0x4e735d['enableCommand']('acceptAllSuggestions'),_0x4e735d['enableCommand']('discardAllSuggestions'),_0x4e735d['enableCommand']('acceptSelectedSuggestions'),_0x4e735d['enableCommand']('discardSelectedSuggestions');}}class vt extends _0x150e1e{['afterInit'](){const _0x14e4b3=this['editor'];if(!_0x14e4b3['plugins']['has']('ShiftEnter'))return;const _0x4b0720=_0x14e4b3['plugins']['get']('TrackChangesEditing');_0x4b0720['enableCommand']('shiftEnter'),_0x14e4b3['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',qe(_0x14e4b3),{'priority':'high'}),_0x14e4b3['editing']['downcastDispatcher']['on']('addMarker:suggestion:deletion',qe(_0x14e4b3),{'priority':'high'}),_0x14e4b3['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0x2787ec,_0x3ce9ce,_0xcb0d7c)=>{_0xcb0d7c['options']['showSuggestionHighlights']&&qe(_0x14e4b3,{'showActiveMarker':!0x1})(_0x2787ec,_0x3ce9ce,_0xcb0d7c);}),_0x4b0720['descriptionFactory']['registerElementLabel']('softBreak',_0x76cae6=>o(_0x14e4b3['locale'],'ELEMENT_LINE_BREAK',_0x76cae6));}}function qe(_0x11d215,{showActiveMarker:_0x37ffef=!0x0}={}){return(_0x486336,_0x469a8e,_0x48b159)=>{const _0x2f8dfa=_0x11d215['plugins']['get']('TrackChangesEditing');if(!_0x48b159['consumable']['test'](_0x469a8e['markerRange'],_0x486336['name']))return;const _0x4be953=_0x11d215['model'];for(const _0x35f9cb of _0x469a8e['markerRange']['getItems']()){if(!_0x35f9cb['is']('element','softBreak'))continue;const _0x216a66='deletion'==_0x469a8e['markerName']['split'](':')[0x1]?'merge':'split',{id:_0x44c2cf,authorId:_0x5c5ba0}=_0x2f8dfa['_splitMarkerName'](_0x469a8e['markerName']),_0x3d9384=_0x48b159['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-'+_0x216a66,'data-suggestion':_0x44c2cf,'data-author-id':_0x5c5ba0}),_0x1761cc=_0x48b159['mapper']['toViewPosition'](_0x4be953['createPositionBefore'](_0x35f9cb));_0x37ffef&&_0x2f8dfa['activeMarkers']['includes'](_0x469a8e['markerName'])&&_0x48b159['writer']['addClass']('ck-suggestion-marker--active',_0x3d9384),_0x48b159['writer']['insert'](_0x1761cc,_0x3d9384),_0x48b159['mapper']['bindElementToMarker'](_0x3d9384,_0x469a8e['markerName']);}};}class Ct extends _0x150e1e{['afterInit'](){const _0x30658c=this['editor'],_0x321cf2=_0x30658c['model'],_0x2c8e1e=_0x30658c['locale'];if(!_0x30658c['plugins']['has']('StandardEditingModeEditing'))return;const _0x5bf6a2=_0x30658c['plugins']['get']('TrackChangesEditing'),_0x1e7385='restrictedEditingException',_0x17a6b1=_0x30658c['commands']['get'](_0x1e7385);_0x5bf6a2['enableCommand'](_0x1e7385,(_0x539e34,_0x239faf={})=>{const _0x60dc17=_0x321cf2['document']['selection'];if(_0x60dc17['isCollapsed'])return void _0x539e34(_0x239faf);const _0x5d7896=void 0x0!==_0x239faf['forceValue']?_0x239faf['forceValue']:!_0x17a6b1['value'];_0x321cf2['change'](()=>{const _0x1c1fd9=Array['from'](_0x60dc17['getRanges']());for(const _0x126dc7 of _0x1c1fd9){const _0x374982=_0x5d7896?[_0x126dc7]:io(_0x1e7385,_0x126dc7,_0x321cf2);for(const _0x11035a of _0x374982)_0x5bf6a2['markInlineFormat'](_0x11035a,{'commandName':_0x1e7385,'commandParams':[{'forceValue':_0x5d7896}]});}});}),_0x5bf6a2['descriptionFactory']['registerDescriptionCallback'](_0x369b50=>{if('formatBlock'!=_0x369b50['type']&&'formatInline'!=_0x369b50['type'])return;const {data:_0x20231c}=_0x369b50;return _0x20231c&&_0x20231c['commandName']==_0x1e7385?_0x20231c['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x2c8e1e,'FORMAT_RESTRICTED_ENABLED')}:{'type':'format','content':o(_0x2c8e1e,'FORMAT_RESTRICTED_DISABLED')}:void 0x0;});}}class Nt extends _0x150e1e{['afterInit'](){const _0x3f8dd0=this['editor'];if(!_0x3f8dd0['plugins']['has']('Style')||!_0x3f8dd0['plugins']['has']('DataSchema'))return;const _0x44ca18=_0x3f8dd0['plugins']['get']('TrackChangesEditing'),_0x5f5940=_0x3f8dd0['locale'],_0x27dc62=_0x3f8dd0['config']['get']('style')||{},_0x511204=_0x3f8dd0['plugins']['get']('GeneralHtmlSupport'),_0xc11d4f=_0x3f8dd0['plugins']['get']('StyleUtils')['normalizeConfig'](_0x3f8dd0['plugins']['get']('DataSchema'),_0x27dc62['definitions']);_0x44ca18['enableDefaultAttributesIntegration']('style');const _0x108898=new Set();for(const _0x23a680 of _0xc11d4f['block']){const _0x476227=_0x511204['getGhsAttributeNameForElement'](_0x23a680['element']);_0x108898['add'](_0x476227);}const _0x341701=new Set();for(const _0x566978 of _0xc11d4f['inline']){const _0x47f893=_0x511204['getGhsAttributeNameForElement'](_0x566978['element']);_0x341701['add'](_0x47f893);for(const _0x658fee of _0x566978['ghsAttributes'])_0x341701['add'](_0x658fee);}for(const _0x5e083b of _0x108898)_0x44ca18['registerBlockAttribute'](_0x5e083b),_0x44ca18['descriptionFactory']['registerAttributeLabel'](_0x5e083b,o(_0x5f5940,'FORMAT_STYLE'));for(const _0x11a721 of _0x341701)_0x44ca18['registerInlineAttribute'](_0x11a721),_0x44ca18['descriptionFactory']['registerAttributeLabel'](_0x11a721,o(_0x5f5940,'FORMAT_STYLE'));this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x341473=this['editor'],_0x241f0f=_0x341473['locale'];_0x341473['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x22858b=>{if('formatBlock'!=_0x22858b['type']&&'formatInline'!=_0x22858b['type'])return;const {data:_0x409356}=_0x22858b;return _0x409356&&'style'===_0x409356['commandName']?_0x409356['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x241f0f,'*Set\x20format:*\x20%0',_0x409356['commandParams'][0x0]['styleName']['toLowerCase']())}:{'type':'format','content':o(_0x241f0f,'*Remove\x20format:*\x20%0',_0x409356['commandParams'][0x0]['styleName']['toLowerCase']())}:void 0x0;});}}class Dt extends _0x150e1e{['_tablePostFixingSubtypes'];['_tableSuggestions'];constructor(_0x58de61){super(_0x58de61),this['_tablePostFixingSubtypes']=['tableRow','tableColumn'],this['_tableSuggestions']=new Set();}['afterInit'](){const _0x5e76f2=this['editor'],_0x429834=_0x5e76f2['model']['document']['selection'];if(!_0x5e76f2['plugins']['has']('TableEditing'))return;const _0x4a87fa=_0x5e76f2['locale'],_0x259d94=_0x5e76f2['plugins']['get']('TrackChangesEditing'),_0x7d990=_0x5e76f2['plugins']['get']('TableUtils');_0x259d94['descriptionFactory']['registerElementLabel']('table',_0x232047=>o(_0x4a87fa,'ELEMENT_TABLE',_0x232047)),this['_setupColumnsRowsFixing'](),_0x259d94['enableCommand']('insertTable'),_0x259d94['enableCommand']('selectTableRow'),_0x259d94['enableCommand']('selectTableColumn');for(const _0x254d68 of['insertTableRowAbove','insertTableRowBelow']){const _0x515723=_0x5e76f2['commands']['get'](_0x254d68);_0x259d94['enableCommand'](_0x254d68,_0x5cd83f=>{_0x5e76f2['model']['change'](_0x377680=>{_0x5cd83f();const _0x3e81f8='above'===_0x515723['order'],_0x10782b=_0x7d990['getSelectionAffectedTableCells'](_0x429834),_0x3a0bfa=_0x7d990['getRowIndexes'](_0x10782b),_0xeb177f=_0x3e81f8?_0x3a0bfa['first']-0x1:_0x3a0bfa['last']+0x1,_0x4e78f2=_0x10782b[0x0]['findAncestor']('table'),_0x90e66d=_0x7d990['createTableWalker'](_0x4e78f2,{'startRow':_0xeb177f,'endRow':_0xeb177f}),_0x4efcdf=Array['from'](_0x90e66d)['map'](_0x3c728e=>_0x377680['createRangeOn'](_0x3c728e['cell']));_0x259d94['markMultiRangeInsertion'](_0x4efcdf,'tableRow');});});}for(const _0x323412 of['insertTableColumnLeft','insertTableColumnRight']){const _0x59c905=_0x5e76f2['commands']['get'](_0x323412);_0x259d94['enableCommand'](_0x323412,_0x5ded5d=>{_0x5e76f2['model']['change'](_0x42dede=>{_0x5ded5d();const _0x4c431b='left'===_0x59c905['order'],_0x48e2da=_0x7d990['getSelectionAffectedTableCells'](_0x429834),_0x10e371=_0x7d990['getColumnIndexes'](_0x48e2da),_0x3c30ac=_0x4c431b?_0x10e371['first']-0x1:_0x10e371['last']+0x1,_0x519807=_0x48e2da[0x0]['findAncestor']('table'),_0x1fbdad=_0x7d990['createTableWalker'](_0x519807,{'startRow':0x0,'column':_0x3c30ac,'includeAllSlots':!0x1}),_0x937861=Array['from'](_0x1fbdad)['map'](_0x5b343d=>_0x42dede['createRangeOn'](_0x5b343d['cell']));_0x259d94['markMultiRangeInsertion'](_0x937861,'tableColumn');});});}for(const _0x377f56 of['removeTableRow','removeTableColumn']){const _0x1e9663=_0x377f56['substr'](0xb),_0x30c562=_0x1e9663['toLowerCase'](),_0x4b27b1=_0x30c562['substr'](0x0,0x3)+'span',_0x5badc1='table'+_0x1e9663,_0xbc16d8='min'+_0x1e9663,_0x110481='max'+_0x1e9663;_0x259d94['enableCommand'](_0x377f56,()=>{_0x5e76f2['model']['change'](_0x402fc9=>{const _0x19cf0c=_0x7d990['getSelectionAffectedTableCells'](_0x429834),_0x2653be=_0x19cf0c[0x0]['findAncestor']('table');let _0x34f341;if('removeTableRow'==_0x377f56){const _0x2ba984=_0x7d990['getRowIndexes'](_0x19cf0c);_0x34f341={'startRow':_0x2ba984['first'],'endRow':_0x2ba984['last'],'includeAllSlots':!0x0};}else{const _0x5523d8=_0x7d990['getColumnIndexes'](_0x19cf0c);_0x34f341={'startColumn':_0x5523d8['first'],'endColumn':_0x5523d8['last'],'includeAllSlots':!0x0};}const _0x469cf7=_0x7d990['createTableWalker'](_0x2653be,_0x34f341),_0x484e71=Array['from'](_0x469cf7)['map'](({cell:_0x276c93})=>_0x276c93),_0x4c1fa4=Oe(_0x484e71['filter'](_0x29a371=>_0x29a371['hasAttribute'](_0x4b27b1))),_0x28cd62=Oe(_0x484e71['filter'](_0x56ccb5=>!_0x56ccb5['hasAttribute'](_0x4b27b1)))['map'](_0x33cd4b=>_0x402fc9['createRangeOn'](_0x33cd4b)),_0x5af0b3=_0x259d94['markMultiRangeDeletion'](_0x28cd62,_0x5badc1);if(_0x5af0b3&&('tableRow'==_0x5af0b3['subType']||'tableColumn'==_0x5af0b3['subType'])){const _0x1822d4=this['_getSuggestionCoords'](_0x5af0b3);for(const _0x1d9a6c of _0x4c1fa4){const _0x5bdf92=_0x402fc9['createRangeOn'](_0x1d9a6c),_0x163884=_0x7d990['getCellLocation'](_0x1d9a6c),_0x54714f=_0x1d9a6c['getAttribute'](_0x4b27b1)-0x1,_0x4a5d0e=_0x1822d4[_0xbc16d8],_0x46db98=_0x1822d4[_0x110481];_0x4a5d0e<=_0x163884[_0x30c562]&&_0x163884[_0x30c562]+_0x54714f<=_0x46db98&&_0x5af0b3['addRange'](_0x5bdf92);}}});});}function _0x3d2818(_0x555d96){const _0x1e9258=Array['from'](_0x429834['getRanges']())['map'](_0x5a0d82=>_0x4b855c['fromRange'](_0x5a0d82));_0x5e76f2['model']['change'](_0x700fea=>{const _0x1935d1=_0x700fea['batch'];_0x555d96=_0x555d96['filter'](_0x3bed08=>'$graveyard'!=_0x3bed08['root']['rootName']),_0x700fea['setSelection'](_0x555d96),_0x5e76f2['commands']['get']('removeTableRow')['refresh'](),_0x5e76f2['execute']('removeTableRow',{'forceDefaultExecution':!0x0}),_0x5e76f2['model']['enqueueChange'](()=>{_0x5e76f2['model']['enqueueChange'](_0x1935d1,_0x2d963d=>{const _0xce135d=_0x1e9258['filter'](_0x1c1f1d=>'$graveyard'!=_0x1c1f1d['root']['rootName']);_0xce135d['length']>0x0&&_0x2d963d['setSelection'](_0xce135d);for(const _0x7d9ac5 of _0x1e9258)_0x7d9ac5['detach']();});});});}function _0x5ec0c3(_0x3ceaed){_0x5e76f2['model']['change'](_0x4b0023=>{const _0x526d8e=Array['from'](_0x429834['getRanges']())['map'](_0x5c516c=>_0x4b855c['fromRange'](_0x5c516c)),_0x3b0904=[];for(const _0x55508e of _0x3ceaed)for(const _0x1d3b1a of _0x55508e['getItems']({'shallow':!0x0}))_0x3b0904['push'](_0x1d3b1a);for(const _0x34443c of _0x3b0904)'$graveyard'!=_0x34443c['root']['rootName']&&(_0x4b0023['setSelection'](_0x4b0023['createPositionAt'](_0x34443c,0x0)),_0x5e76f2['commands']['get']('removeTableColumn')['refresh'](),_0x5e76f2['execute']('removeTableColumn',{'forceDefaultExecution':!0x0}));const _0x36e9c1=_0x526d8e['filter'](_0x24b03f=>'$graveyard'!=_0x24b03f['root']['rootName']);_0x36e9c1['length']>0x0&&_0x4b0023['setSelection'](_0x36e9c1);for(const _0x4e56a0 of _0x526d8e)_0x4e56a0['detach']();});}function _0xcadaa7(_0x1929d4,_0x2793f5){return _0x2793f5['every'](_0x427840=>_0x1929d4['some'](_0x116d79=>_0x116d79['end']['isEqual'](_0x427840['start'])||_0x427840['end']['isEqual'](_0x116d79['start'])));}function _0x32b0e0(_0x3536f9,_0x5afaf1){return!_0x3536f9['some'](_0x5dcf83=>_0x5afaf1['some'](_0x548b19=>_0x5dcf83['isIntersecting'](_0x548b19)))&&_0x3536f9['some'](_0x478de1=>_0x5afaf1['some'](_0x2daf81=>_0x478de1['end']['isTouching'](_0x2daf81['start'])));}_0x5e76f2['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0x50edf3,_0x5a03e6,_0x59e2c3)=>{if(!_0x59e2c3['options']['showSuggestionHighlights'])return;const _0x1ca295=_0x5a03e6['item'];if(!_0x1ca295||!_0x1ca295['is']('element','tableCell'))return;const _0x52f9c2=_0x59e2c3['mapper']['toViewElement'](_0x1ca295);if(_0x52f9c2){const {id:_0xf64b7c,authorId:_0x25c106}=_0x259d94['_splitMarkerName'](_0x5a03e6['markerName']);_0x288247(_0x52f9c2,_0x59e2c3['writer'],(_0x5deda7,_0x2ba031,_0x520bd6)=>{_0x520bd6['addClass'](_0x4a1116(_0x2ba031['classes']),_0x5deda7),_0x520bd6['setAttribute']('data-suggestion-id',_0xf64b7c,_0x5deda7),_0x520bd6['setAttribute']('data-author-id',_0x25c106,_0x5deda7);},(_0x48f480,_0x5112c4,_0x1aa52b)=>{_0x1aa52b['removeClass'](_0x4a1116(_0x5112c4['classes']),_0x48f480),_0x1aa52b['removeAttribute']('data-suggestion-id',_0x48f480),_0x1aa52b['removeAttribute']('data-author-id',_0x48f480);});}},{'priority':'highest'}),_0x259d94['descriptionFactory']['registerDescriptionCallback'](_0x1de602=>{if('insertion'!=_0x1de602['type']&&'deletion'!=_0x1de602['type'])return;const _0xfa5dce=_0x1de602['getContainedElement']();if(null!=_0xfa5dce&&_0xfa5dce['is']('element','table')){if('insertion'==_0x1de602['type']){const _0x4b847b=_0x1de602['getItems']()['filter'](_0x374df6=>_0x374df6['is']('$textProxy'))['map'](_0x2763fb=>_0x2763fb['data']);if(_0x4b847b['length'])return{'type':'insertion','content':o(_0x4a87fa,'*Insert:*\x20%0',o(_0x4a87fa,'ELEMENT_TABLE_WITH_TEXT','\x22'+_0x4b847b['join']('\x20')+'\x22'))};}if('deletion'==_0x1de602['type']){const _0x13726b=_0x1de602['getItems']()['filter'](_0xb5a6c0=>_0xb5a6c0['is']('$textProxy'))['map'](_0x160ce2=>_0x160ce2['data']);if(_0x13726b['length'])return{'type':'deletion','content':o(_0x4a87fa,'*Remove:*\x20%0',o(_0x4a87fa,'ELEMENT_TABLE_WITH_TEXT','\x22'+_0x13726b['join']('\x20')+'\x22'))};}}}),_0x259d94['descriptionFactory']['registerDescriptionCallback'](_0x37ee38=>{if('tableRow'==_0x37ee38['subType']){const _0x44e2c0=_0x37ee38['getItems']()['filter'](_0x55775a=>_0x55775a['is']('$textProxy'))['map'](_0x328ed9=>_0x328ed9['data']),_0xd8d874=this['_getSuggestionCoords'](_0x37ee38),_0x4b81d4=_0xd8d874['maxRow']-_0xd8d874['minRow']+0x1;if('insertion'==_0x37ee38['type'])return _0x44e2c0['length']?{'type':'insertion','content':o(_0x4a87fa,'*Insert:*\x20%0',o(_0x4a87fa,'ELEMENT_TABLE_ROW_WITH_TEXT',[_0x4b81d4,'\x22'+_0x44e2c0['join']('\x20')+'\x22']))}:{'type':'insertion','content':o(_0x4a87fa,'*Insert:*\x20%0',o(_0x4a87fa,'ELEMENT_TABLE_ROW',_0x4b81d4))};if('deletion'==_0x37ee38['type'])return _0x44e2c0['length']?{'type':'deletion','content':o(_0x4a87fa,'*Remove:*\x20%0',o(_0x4a87fa,'ELEMENT_TABLE_ROW_WITH_TEXT',[_0x4b81d4,'\x22'+_0x44e2c0['join']('\x20')+'\x22']))}:{'type':'deletion','content':o(_0x4a87fa,'*Remove:*\x20%0',o(_0x4a87fa,'ELEMENT_TABLE_ROW',_0x4b81d4))};}if('tableColumn'==_0x37ee38['subType']){const _0x35d95e=_0x37ee38['getItems']()['filter'](_0x112ec5=>_0x112ec5['is']('$textProxy'))['map'](_0x391df4=>_0x391df4['data']),_0x280a12=this['_getSuggestionCoords'](_0x37ee38),_0x1324e0=_0x280a12['maxColumn']-_0x280a12['minColumn']+0x1;if('insertion'==_0x37ee38['type'])return _0x35d95e['length']?{'type':'insertion','content':o(_0x4a87fa,'*Insert:*\x20%0',o(_0x4a87fa,'ELEMENT_TABLE_COLUMN_WITH_TEXT',[_0x1324e0,'\x22'+_0x35d95e['join']('\x20')+'\x22']))}:{'type':'insertion','content':o(_0x4a87fa,'*Insert:*\x20%0',o(_0x4a87fa,'ELEMENT_TABLE_COLUMN',_0x1324e0))};if('deletion'==_0x37ee38['type'])return _0x35d95e['length']?{'type':'deletion','content':o(_0x4a87fa,'*Remove:*\x20%0',o(_0x4a87fa,'ELEMENT_TABLE_COLUMN_WITH_TEXT',[_0x1324e0,'\x22'+_0x35d95e['join']('\x20')+'\x22']))}:{'type':'deletion','content':o(_0x4a87fa,'*Remove:*\x20%0',o(_0x4a87fa,'ELEMENT_TABLE_COLUMN',_0x1324e0))};}}),_0x259d94['_suggestionFactory']['registerCustomCallback']('insertion','tableRow','discard',_0x3d2818),_0x259d94['_suggestionFactory']['registerCustomCallback']('deletion','tableRow','accept',_0x3d2818),_0x259d94['_suggestionFactory']['registerCustomCallback']('insertion','tableColumn','discard',_0x5ec0c3),_0x259d94['_suggestionFactory']['registerCustomCallback']('deletion','tableColumn','accept',_0x5ec0c3),_0x259d94['_suggestionFactory']['registerCustomCallback']('insertion','tableColumn','join',_0xcadaa7),_0x259d94['_suggestionFactory']['registerCustomCallback']('deletion','tableColumn','join',_0xcadaa7),_0x259d94['_suggestionFactory']['registerCustomCallback']('insertion','tableRow','join',_0x32b0e0),_0x259d94['_suggestionFactory']['registerCustomCallback']('deletion','tableRow','join',_0x32b0e0);}['_acceptFormatSuggestionCallbackFactory'](){const _0x111b62=this['editor'],_0x499822=_0x111b62['model']['document']['selection'];return(_0x1d4785,_0x2c9447)=>{_0x111b62['model']['change'](_0x4cf278=>{const {commandName:_0x1cb12a,commandParams:_0x2efba8}=_0x2c9447;let _0x1c108a=_0x1d4785[0x0]['end']['nodeBefore'];_0x2efba8&&_0x2efba8[0x0]&&!0x1===_0x2efba8[0x0]['forceValue']&&(_0x1c108a=_0x1d4785[0x0]['start']['nodeAfter']);const _0x2cf2a4=_0x4cf278['createRangeIn'](_0x1c108a);if('$graveyard'==_0x2cf2a4['root']['rootName'])return;const _0x5507b2=Array['from'](_0x499822['getRanges']())['map'](_0x51a180=>_0x4b855c['fromRange'](_0x51a180));_0x4cf278['setSelection'](_0x2cf2a4),_0x111b62['commands']['get'](_0x1cb12a)['refresh'](),_0x2efba8['push']({'forceDefaultExecution':!0x0}),_0x111b62['execute'](_0x1cb12a,..._0x2efba8);const _0x138fbc=_0x5507b2['filter'](_0x233a39=>'$graveyard'!=_0x233a39['root']['rootName']);_0x138fbc['length']>0x0&&_0x4cf278['setSelection'](_0x138fbc);for(const _0x39e22a of _0x5507b2)_0x39e22a['detach']();});};}['_getCoordsForCells'](_0x406b23){const _0x279c30=this['editor']['plugins']['get']('TableUtils');let _0x549757=Number['MAX_SAFE_INTEGER'],_0x3a4dbd=Number['MIN_SAFE_INTEGER'],_0x4224b6=Number['MAX_SAFE_INTEGER'],_0x492fcc=Number['MIN_SAFE_INTEGER'];for(const _0x4a8fc0 of _0x406b23){if('$graveyard'==_0x4a8fc0['root']['rootName'])continue;const {row:_0x3aab8c,column:_0x19bf80}=_0x279c30['getCellLocation'](_0x4a8fc0),_0x297bba=_0x4a8fc0['hasAttribute']('rowspan')?_0x4a8fc0['getAttribute']('rowspan')-0x1:0x0,_0x461f67=_0x4a8fc0['hasAttribute']('colspan')?_0x4a8fc0['getAttribute']('colspan')-0x1:0x0;_0x549757=_0x3aab8c<_0x549757?_0x3aab8c:_0x549757,_0x3a4dbd=_0x3aab8c+_0x297bba>_0x3a4dbd?_0x3aab8c+_0x297bba:_0x3a4dbd,_0x4224b6=_0x19bf80<_0x4224b6?_0x19bf80:_0x4224b6,_0x492fcc=_0x19bf80+_0x461f67>_0x492fcc?_0x19bf80+_0x461f67:_0x492fcc;}return{'minRow':_0x549757,'maxRow':_0x3a4dbd,'minColumn':_0x4224b6,'maxColumn':_0x492fcc};}['_setupColumnsRowsFixing'](){const _0x19e036=this['editor'],_0xd0af09=_0x19e036['plugins']['get']('TrackChangesEditing'),_0x313ace=_0x19e036['plugins']['get']('TableUtils');_0x19e036['model']['document']['on']('change:data',()=>{const _0x138ae9=Array['from'](_0x19e036['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x5b3847,data:_0x4ad49d}of _0x138ae9){const {group:_0x23230f,id:_0x13511e,subType:_0x13f5b5}=_0xd0af09['_splitMarkerName'](_0x5b3847);if('suggestion'!=_0x23230f)continue;if(null!=_0x4ad49d['oldRange'])continue;const _0x58a84e=_0xd0af09['getSuggestion'](_0x13511e);this['_tablePostFixingSubtypes']['includes'](_0x13f5b5)&&this['_tableSuggestions']['add'](_0x58a84e);}},{'priority':'low'});const _0x4de29d=(_0x46f4a9,_0x2f06da)=>{let _0x3de5ee=!0x1;const _0x451cfc=_0x2f06da['createRangeOn'](_0x46f4a9),_0x1f233d=_0x46f4a9['findAncestor']('table'),_0x4cb96f=_0x313ace['getCellLocation'](_0x46f4a9);for(const _0x34b146 of this['_tableSuggestions']){const _0x2429d7=_0x34b146['subType'],_0x480c4c=_0x2429d7['startsWith']('tablePaste'),_0xa43346=_0x2429d7['substr'](_0x480c4c?0xa:0x5),_0x23409e=_0xa43346['toLowerCase'](),_0x1b8bb1=_0x23409e['substr'](0x0,0x3)+'span',_0x1dfaf0='min'+_0xa43346,_0x25b47c='max'+_0xa43346;if(!_0x34b146['isInContent'])continue;if(_0x1f233d!=_0x34b146['getFirstRange']()['start']['findAncestor']('table'))continue;if(_0x34b146['isIntersectingWithRange'](_0x451cfc))continue;const _0x2dce8e=_0x46f4a9['hasAttribute'](_0x1b8bb1)?_0x46f4a9['getAttribute'](_0x1b8bb1)-0x1:0x0,_0x190120=this['_getSuggestionCoords'](_0x34b146),_0x3a0602=_0x190120[_0x1dfaf0],_0x2f578d=_0x190120[_0x25b47c];_0x3a0602<=_0x4cb96f[_0x23409e]&&_0x4cb96f[_0x23409e]+_0x2dce8e<=_0x2f578d&&(_0x34b146['addRange'](_0x451cfc),_0x3de5ee=!0x0);}return _0x3de5ee;};_0x19e036['model']['document']['registerPostFixer'](_0x4393fb=>{let _0x52997e=!0x1;for(const _0x2e0979 of _0x19e036['model']['document']['differ']['getChanges']())if('insert'==_0x2e0979['type']){if('tableRow'==_0x2e0979['name']){for(const _0x5892d8 of _0x2e0979['position']['nodeAfter']['getChildren']())_0x52997e=_0x52997e||_0x4de29d(_0x5892d8,_0x4393fb);}else'tableCell'==_0x2e0979['name']&&(_0x52997e=_0x52997e||_0x4de29d(_0x2e0979['position']['nodeAfter'],_0x4393fb));}return _0x52997e;});}['_getSuggestionCoords'](_0x3e0d40){return this['_getCoordsForCells'](_0x3e0d40['getRanges']()['map'](_0x56fd12=>_0x56fd12['start']['nodeAfter']));}}function Oe(_0x38df15){return Array['from'](new Set(_0x38df15)['values']());}class Mt extends _0x150e1e{static get['requires'](){return[Dt];}['afterInit'](){const _0x3b30aa=this['editor'],_0x499744=_0x3b30aa['model']['document']['selection'],_0xfb3173=_0x3b30aa['locale'];if(!_0x3b30aa['plugins']['has']('TableEditing'))return;const _0xff4419=_0x3b30aa['plugins']['get']('TrackChangesEditing'),_0x2c5379=_0x3b30aa['plugins']['get']('TableUtils'),_0x38ded3=_0x3b30aa['plugins']['get'](Dt);_0x38ded3['_tablePostFixingSubtypes']['push']('mergeTableCells'),_0xff4419['enableCommand']('mergeTableCells',()=>{const _0x1cc4c0=_0x2c5379['getSelectionAffectedTableCells'](_0x3b30aa['model']['document']['selection']);_0x3b30aa['model']['change'](()=>{_0xff4419['markMultiRangeBlockFormat'](_0x1cc4c0,{'commandName':'mergeTableCells','commandParams':[]},[],'mergeTableCells');});}),_0x3b30aa['commands']['get']('mergeTableCells')['on']('execute',(_0x54bbd2,_0x59e1a9)=>{_0x3b30aa['commands']['get']('trackChanges')['value']&&(_0x59e1a9['length']>0x0&&_0x59e1a9[_0x59e1a9['length']-0x1]&&_0x59e1a9[_0x59e1a9['length']-0x1]['forceDefaultExecution']||_0xff4419['_isForcedDefaultExecutionBlock']||this['_areSelectedCellsMergable']()||_0x54bbd2['stop']());},{'priority':'highest'});for(const _0x3a9366 of['mergeTableCellUp','mergeTableCellRight','mergeTableCellDown','mergeTableCellLeft']){const _0x2a25d9=_0x3b30aa['commands']['get'](_0x3a9366);_0xff4419['enableCommand'](_0x3a9366,()=>{const _0x23b865=_0x3b30aa['model']['document']['selection']['getFirstPosition']()['getAncestors']()['find'](_0x3297b7=>_0x3297b7['is']('element','tableCell')),_0x320c80=_0x2a25d9['value'];_0x3b30aa['model']['change'](()=>{_0xff4419['markMultiRangeBlockFormat']([_0x23b865,_0x320c80],{'commandName':'mergeTableCells','commandParams':[]},[],'mergeTableCells');});});}for(const _0x35581f of['splitTableCellVertically','splitTableCellHorizontally']){const _0x564441=_0x3b30aa['commands']['get'](_0x35581f);_0xff4419['enableCommand'](_0x35581f,()=>{const _0x128006=_0x2c5379['getSelectionAffectedTableCells'](_0x3b30aa['model']['document']['selection'])[0x0],_0x7ac902=_0x128006['findAncestor']('table'),{column:_0x118851,row:_0x3a38c6}=_0x2c5379['getCellLocation'](_0x128006);let _0x57f289=[];if('horizontally'==_0x564441['direction']){const _0x3fbc7e=_0x2c5379['createTableWalker'](_0x7ac902,{'startRow':_0x3a38c6,'endRow':_0x3a38c6,'includeAllSlots':!0x0});_0x57f289=Array['from'](_0x3fbc7e)['map'](_0x4704bb=>_0x4704bb['cell']);}else{const _0x2293cc=_0x2c5379['createTableWalker'](_0x7ac902,{'column':_0x118851,'includeAllSlots':!0x0});_0x57f289=Array['from'](_0x2293cc)['map'](_0x51664b=>_0x51664b['cell']);}_0x3b30aa['model']['change'](_0x556336=>{_0xff4419['markBlockFormat'](_0x556336['createRangeOn'](_0x128006),{'commandName':_0x35581f,'commandParams':[]},_0x57f289,_0x35581f);});});}_0xff4419['descriptionFactory']['registerDescriptionCallback'](_0x81a98e=>{if('formatBlock'!=_0x81a98e['type']&&'formatInline'!=_0x81a98e['type'])return;const {data:_0x198f11}=_0x81a98e;return _0x198f11&&'mergeTableCells'==_0x198f11['commandName']?{'type':'format','content':o(_0xfb3173,'*Merge\x20cells*')}:void 0x0;}),_0xff4419['descriptionFactory']['registerDescriptionCallback'](_0x1366b4=>{if('formatBlock'!=_0x1366b4['type']&&'formatInline'!=_0x1366b4['type'])return;const {data:_0x2592b9}=_0x1366b4;return _0x2592b9?'splitTableCellVertically'==_0x2592b9['commandName']?{'type':'format','content':o(_0xfb3173,'*Split\x20cell:*\x20vertically')}:'splitTableCellHorizontally'==_0x2592b9['commandName']?{'type':'format','content':o(_0xfb3173,'*Split\x20cell:*\x20horizontally')}:void 0x0:void 0x0;});const _0x544192=_0x38ded3['_acceptFormatSuggestionCallbackFactory']();for(const _0x12688e of['mergeTableCellUp','mergeTableCellRight','mergeTableCellDown','mergeTableCellLeft'])_0xff4419['_suggestionFactory']['registerCustomCallback']('formatBlock',_0x12688e,'accept',_0x544192);for(const _0xf4f1d2 of['splitTableCellVertically','splitTableCellHorizontally'])_0xff4419['_suggestionFactory']['registerCustomCallback']('formatBlock',_0xf4f1d2,'accept',_0x544192);_0xff4419['_suggestionFactory']['registerCustomCallback']('formatBlock','mergeTableCells','accept',_0x28bc65=>{_0x3b30aa['model']['change'](_0xde7fc1=>{const _0x26ae06=Array['from'](_0x499744['getRanges']())['map'](_0x12ff60=>_0x4b855c['fromRange'](_0x12ff60));_0xde7fc1['setSelection'](_0x28bc65),_0x3b30aa['commands']['get']('mergeTableCells')['refresh'](),_0x3b30aa['execute']('mergeTableCells',{'forceDefaultExecution':!0x0});const _0x32872a=_0x26ae06['filter'](_0x4414d0=>'$graveyard'!=_0x4414d0['root']['rootName']);_0x32872a['length']>0x0&&_0xde7fc1['setSelection'](_0x32872a);for(const _0x4dfada of _0x26ae06)_0x4dfada['detach']();});});for(const _0xfdf270 of['mergeTableCellUp','mergeTableCellDown','mergeTableCellLeft','mergeTableCellRight']){const _0x3d0c19=_0x3b30aa['commands']['get'](_0xfdf270);_0x3d0c19['on']('set:isEnabled',(_0x5c837a,_0x514031,_0x4dab79)=>{if(_0x4dab79){const _0x5e3b55=_0x3b30aa['model']['document']['selection']['getFirstPosition']()['getAncestors']()['find'](_0x2b3155=>_0x2b3155['is']('element','tableCell'));this['_areMergableCells'](_0x3d0c19['value'],_0x5e3b55)||(_0x5c837a['return']=!0x1,_0x5c837a['stop']());}},{'priority':'low'});}}['_areSelectedCellsMergable'](){const _0x55c56d=this['editor']['commands']['get']('mergeTableCells'),_0x552282=this['editor']['plugins']['get']('TableUtils');if(!_0x55c56d['isEnabled'])return!0x1;const _0x31dcbc=_0x552282['getSelectionAffectedTableCells'](this['editor']['model']['document']['selection']);for(const _0xe48c3e of _0x31dcbc)for(const _0x26ed57 of _0x31dcbc)if(_0xe48c3e!=_0x26ed57&&!this['_areMergableCells'](_0xe48c3e,_0x26ed57))return!0x1;return!0x0;}['_areMergableCells'](_0x47bf31,_0x45e585){const _0xf24a1=this['editor']['plugins']['get']('TrackChangesEditing'),_0x48ef5c=this['editor']['model']['createRangeOn'](_0x47bf31),_0x3b1574=this['editor']['model']['createRangeOn'](_0x45e585),_0x196235=new Set(),_0x295100=new Set();for(const _0x5da035 of _0xf24a1['getSuggestions']())if(('insertion'==_0x5da035['type']||'deletion'==_0x5da035['type']||'mergeTableCells'==_0x5da035['subType'])&&_0x5da035['isInContent']){for(const _0x4fc4f3 of _0x5da035['getRanges']())_0x4fc4f3['containsRange'](_0x48ef5c,!0x0)&&_0x196235['add'](_0x5da035['type']+':'+_0x5da035['author']['id']),_0x4fc4f3['containsRange'](_0x3b1574,!0x0)&&_0x295100['add'](_0x5da035['type']+':'+_0x5da035['author']['id']);}if(_0x196235['size']!=_0x295100['size'])return!0x1;for(const _0x149a7e of _0x196235)if(!_0x295100['has'](_0x149a7e))return!0x1;return!0x0;}}class Bt extends _0x150e1e{static get['requires'](){return[Dt];}['afterInit'](){const _0x11562d=this['editor'];if(!_0x11562d['plugins']['has']('TableEditing'))return;const _0x1d1e2c=_0x11562d['locale'],_0x3496e5=_0x11562d['plugins']['get']('TrackChangesEditing');_0x3496e5['enableDefaultAttributesIntegration']('setTableRowHeader'),_0x3496e5['enableDefaultAttributesIntegration']('setTableColumnHeader'),_0x3496e5['registerBlockAttribute']('headingRows'),_0x3496e5['registerBlockAttribute']('headingColumns'),_0x3496e5['descriptionFactory']['registerAttributeLabel']('headingRows',o(_0x1d1e2c,'FORMAT_HEADER_ROW')),_0x3496e5['descriptionFactory']['registerAttributeLabel']('headingColumns',o(_0x1d1e2c,'FORMAT_HEADER_COLUMN')),this['_handleLegacySuggestions']();}['_handleLegacySuggestions'](){const _0x95a664=this['editor']['plugins']['get']('TrackChangesEditing'),_0x3e870f=this['editor']['plugins']['get']('TableUtils'),_0x166cdd=this['editor']['plugins']['get'](Dt)['_acceptFormatSuggestionCallbackFactory']();function _0x55a8c2({showActiveMarker:_0x3c5da6=!0x0,setDataAttribute:_0x4dd8ea=!0x0}={}){return(_0x35d693,_0x16a37a,_0x213774)=>{const {type:_0x5d24b0,id:_0x156813}=_0x95a664['_splitMarkerName'](_0x16a37a['markerName']);if(!_0x95a664['hasSuggestion'](_0x156813))return;const _0x29188e=_0x95a664['getSuggestion'](_0x156813),_0x3f8eb5=_0x29188e['data'];if('formatBlock'!=_0x29188e['type']||!_0x3f8eb5||'setTableColumnHeader'!=_0x3f8eb5['commandName'])return;if(_0x16a37a['item'])return void _0x35d693['stop']();if(!_0x213774['consumable']['consume'](_0x16a37a['markerRange'],_0x35d693['name']))return;const _0x1dc5ac=_0x16a37a['markerRange']['start']['nodeAfter'],_0x5b2507=_0x16a37a['markerRange']['end']['nodeBefore'],_0x15cbd5=_0x1dc5ac['parent']['parent'],{column:_0x395f89}=_0x3e870f['getCellLocation'](_0x1dc5ac),{column:_0x324762}=_0x3e870f['getCellLocation'](_0x5b2507);for(let _0x3f08ba=_0x395f89;_0x3f08ba<=_0x324762;_0x3f08ba++){const _0x382fb2=_0x3e870f['createTableWalker'](_0x15cbd5,{'column':_0x3f08ba,'includeAllSlots':!0x1});for(const _0x4e1b48 of _0x382fb2){const _0x163e7e=_0x4e1b48['cell'],_0x46e845=_0x213774['mapper']['toViewElement'](_0x163e7e);_0x213774['writer']['addClass']('ck-suggestion-marker-'+_0x5d24b0,_0x46e845),_0x4dd8ea&&_0x213774['writer']['setAttribute']('data-suggestion',_0x156813,_0x46e845),_0x213774['mapper']['bindElementToMarker'](_0x46e845,_0x16a37a['markerName']),_0x3c5da6&&(_0x95a664['activeMarkers']['includes'](_0x16a37a['markerName'])?_0x213774['writer']['addClass']('ck-suggestion-marker--active',_0x46e845):_0x213774['writer']['removeClass']('ck-suggestion-marker--active',_0x46e845));}}};}_0x95a664['_suggestionFactory']['registerCustomCallback']('formatBlock','setTableRowHeader','accept',_0x166cdd),_0x95a664['_suggestionFactory']['registerCustomCallback']('formatBlock','setTableColumnHeader','accept',_0x166cdd),this['editor']['editing']['downcastDispatcher']['on']('addMarker:suggestion',_0x55a8c2(),{'priority':'highest'}),this['editor']['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0x174be2,_0x578c31,_0xdaf3ed)=>{_0xdaf3ed['options']['showSuggestionHighlights']&&_0x55a8c2({'showActiveMarker':!0x1,'setDataAttribute':!0x1})(_0x174be2,_0x578c31,_0xdaf3ed);},{'priority':'highest'}),this['editor']['editing']['downcastDispatcher']['on']('removeMarker:suggestion',(_0xa29b2b,_0x55907d,_0x107f09)=>{const {type:_0x5cf782,id:_0x19c28f}=_0x95a664['_splitMarkerName'](_0x55907d['markerName']);if(!_0x95a664['hasSuggestion'](_0x19c28f))return;const _0x3cc130=_0x95a664['getSuggestion'](_0x19c28f),_0x583e2b=_0x3cc130['data'];if('formatBlock'!=_0x3cc130['type']||!_0x583e2b||'setTableColumnHeader'!=_0x583e2b['commandName'])return;const _0x47c6cc=_0x107f09['mapper']['markerNameToElements'](_0x55907d['markerName']);if(_0x47c6cc){for(const _0x3b3cba of _0x47c6cc)_0x107f09['writer']['removeClass']('ck-suggestion-marker-'+_0x5cf782,_0x3b3cba),_0x107f09['writer']['removeClass']('ck-suggestion-marker--active',_0x3b3cba),_0x107f09['writer']['removeAttribute']('data-suggestion',_0x3b3cba),_0x107f09['mapper']['unbindElementFromMarkerName'](_0x3b3cba,_0x55907d['markerName']);}},{'priority':'highest'}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x5144ee=this['editor'],_0x2c67d1=_0x5144ee['locale'];function _0x261253(_0x25ff07){return{'type':'format','content':o(_0x2c67d1,'*Format:*\x20%0',_0x25ff07)};}_0x5144ee['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x64253d=>{if('formatBlock'!=_0x64253d['type'])return;const {data:_0xf16640}=_0x64253d;if(_0xf16640){if('setTableRowHeader'==_0xf16640['commandName']){const _0x190f9b=_0xf16640['commandParams'][0x0]['forceValue'];return _0x261253(o(_0x2c67d1,_0x190f9b?'FORMAT_HEADER_ROW':'FORMAT_REGULAR_ROW'));}if('setTableColumnHeader'==_0xf16640['commandName']){const _0x57e045=_0xf16640['commandParams'][0x0]['forceValue'];return _0x261253(o(_0x2c67d1,_0x57e045?'FORMAT_HEADER_COLUMN':'FORMAT_REGULAR_COLUMN'));}}});}}class Tt extends _0x150e1e{['afterInit'](){const _0x709c9c=this['editor'],_0x5a3beb=_0x709c9c['locale'],_0x512dad=_0x709c9c['plugins']['get']('TrackChangesEditing');function _0x2ed203(_0x505b2b){return{'type':'format','content':''+o(_0x5a3beb,'*Set\x20table\x20type:*\x20%0',_0x505b2b)};}_0x709c9c['plugins']['has']('TableLayout')&&(_0x512dad['enableCommand']('insertTableLayout'),_0x512dad['enableDefaultAttributesIntegration']('tableType'),_0x512dad['registerBlockAttribute']('tableType'),_0x512dad['descriptionFactory']['registerElementLabel'](_0x17434b=>_0x17434b['is']('element','table')&&'layout'===_0x17434b['getAttribute']('tableType'),_0x21fd98=>o(_0x5a3beb,'ELEMENT_LAYOUT_TABLE',_0x21fd98)),_0x512dad['descriptionFactory']['registerDescriptionCallback'](_0x5c0cfc=>{const {data:_0x3e28ce}=_0x5c0cfc;if(_0x3e28ce&&'tableType'==_0x3e28ce['key'])switch(_0x3e28ce['newValue']){case'layout':return _0x2ed203(o(_0x5a3beb,'ELEMENT_LAYOUT_TABLE'));case'content':return _0x2ed203(o(_0x5a3beb,'ELEMENT_CONTENT_TABLE'));}}));}}const Ue=['tableCellBorderWidth','tableCellBorderColor','tableCellBorderStyle','tableCellHorizontalAlignment','tableCellVerticalAlignment','tableCellBackgroundColor','tableCellPadding'],He=/* #__PURE__ -- @preserve */
Object['fromEntries'](Ue['map'](_0x4afc07=>[_0x4afc07,null]));class Ot extends _0x150e1e{static get['requires'](){return[Dt];}['afterInit'](){const _0x1a0db5=this['editor'];if(!_0x1a0db5['plugins']['has']('TableClipboard'))return;const _0x5515df=_0x1a0db5['plugins']['get']('TrackChangesEditing'),_0x28f962=_0x1a0db5['plugins']['get']('TableUtils'),_0x470e3c=_0x1a0db5['plugins']['get'](Dt),_0x2b4ee0=_0x1a0db5['plugins']['get']('TableClipboard'),_0x2df325=_0x1a0db5['plugins']['get']('TableSelection'),_0x54453f=_0x1a0db5['plugins']['get'](_0x493ab6);_0x470e3c['_tablePostFixingSubtypes']['push']('tablePasteRow','tablePasteColumn'),_0x1a0db5['model']['schema']['register']('tableCellSuggestion',{'allowIn':'tableCell','allowContentOf':'tableCell','isLimit':!0x0}),_0x1a0db5['conversion']['elementToElement']({'model':'tableCellSuggestion','view':'suggestion-td'});let _0x8fe41d=null,_0xd3e8b5=!0x1;_0x54453f['on']('contentInsertion',(_0x51148f,_0x5382f7)=>{_0xd3e8b5='paste'===_0x5382f7['method'];}),_0x1a0db5['model']['on']('insertContent',(_0x112574,_0x27d61f)=>{if(!_0xd3e8b5&&null===_0x2df325['getSelectedTableCells']())return;const [_0x49f502,_0x251da2]=_0x27d61f,_0x3a2f49=_0x27d61f[_0x27d61f['length']-0x1];_0x3a2f49&&_0x3a2f49['forceDefaultExecution']||_0x5515df['_isForcedDefaultExecutionBlock']||this['editor']['commands']['get']('trackChanges')['value']&&function(_0x54155f,_0xf6a5ff,_0x54ed25,_0x82206,_0x39d5ae){if(_0xf6a5ff&&!_0xf6a5ff['is']('documentSelection'))return!0x1;const _0x1d6ac9=_0x39d5ae['getTableIfOnlyTableInContent'](_0x54155f,_0x54ed25);if(!_0x1d6ac9||!Ge(_0x1d6ac9,void 0x0,_0x82206))return!0x1;const _0x2be5b7=_0x82206['getSelectionAffectedTableCells'](_0x54ed25['document']['selection']);if(!_0x2be5b7['length'])return!0x1;const _0x102032=_0x2be5b7[0x0]['findAncestor']('table'),_0x257b4f=_0x82206['getRowIndexes'](_0x2be5b7),_0xd8fecb=_0x82206['getColumnIndexes'](_0x2be5b7),_0x549425={'startRow':_0x257b4f['first'],'endRow':_0x257b4f['last'],'startColumn':_0xd8fecb['first'],'endColumn':_0xd8fecb['last']};return 0x1==_0x2be5b7['length']&&(_0x549425['endRow']+=_0x82206['getRows'](_0x1d6ac9)-0x1,_0x549425['endColumn']+=_0x82206['getColumns'](_0x1d6ac9)-0x1),Ge(_0x102032,_0x549425,_0x82206);}(_0x49f502,_0x251da2,_0x1a0db5['model'],_0x28f962,_0x2b4ee0)&&(_0x112574['stop'](),_0x8fe41d={'cells':[],'insertionRanges':[],'deletionRanges':[],'rowInsertionRanges':[],'rowInsertionIndexes':[],'columnInsertionRanges':[],'columnInsertionIndexes':[]},_0x1a0db5['model']['change'](()=>{_0x1a0db5['model']['insertContent'](_0x27d61f[0x0],_0x27d61f[0x1],_0x27d61f[0x2],{'forceDefaultExecution':!0x0});const _0xaeb3a9=_0x2f3bfc(),{rowInsertionRanges:_0xf77b99,columnInsertionRanges:_0x1e228e,insertionRanges:_0x343059,deletionRanges:_0x4a95a8,cells:_0x829a58}=_0x8fe41d;_0xf77b99['length']&&_0x5515df['markMultiRangeInsertion'](_0xf77b99,'tablePasteRow',{'tablePasteChainId':_0xaeb3a9}),_0x1e228e['length']&&_0x5515df['markMultiRangeInsertion'](_0x1e228e,'tablePasteColumn',{'tablePasteChainId':_0xaeb3a9}),_0x343059['length']&&(_0x5515df['markMultiRangeInsertion'](_0x343059,'tablePaste',{'tablePasteChainId':_0xaeb3a9,'skipNestingCheck':!0x0}),_0x343059['forEach'](_0x353b3d=>_0x353b3d['detach']?.())),_0x4a95a8['length']&&(_0x5515df['markMultiRangeDeletion'](_0x4a95a8,'tablePaste',{'tablePasteChainId':_0xaeb3a9,'skipNestingCheck':!0x0}),_0x4a95a8['forEach'](_0x53ba77=>_0x53ba77['detach']?.()));const _0x5ed22f=_0x5515df['markMultiRangeBlockFormat'](_0x829a58['map'](({element:_0xa21fd9})=>_0xa21fd9),{'formatGroupId':_0x2f3bfc()},[],'tablePasteCell',{'tablePasteChainId':_0xaeb3a9});if(_0x5ed22f){const _0x53b9b9=_0x5ed22f['getMarkers'](),_0x152f07=[];for(const {element:_0x4e64df,attributes:_0x485e35}of _0x829a58){if(!_0x485e35)continue;const _0x4b4a34=_0x1a0db5['model']['createRangeOn'](_0x4e64df),_0x1ce67d=_0x53b9b9['find'](_0x16f84a=>_0x16f84a['getRange']()['isEqual'](_0x4b4a34));_0x1ce67d&&_0x152f07['push']([_0x1ce67d['name'],_0x485e35]);}_0x152f07['length']&&_0x5ed22f['setAttribute']('markerAttributes',Object['fromEntries'](_0x152f07));}_0x8fe41d=null;}));},{'priority':_0x121033['high']+0xa}),_0x54453f['on']('contentInsertion',()=>{_0xd3e8b5=!0x1;},{'priority':'lowest'}),_0x1a0db5['plugins']['get']('TableClipboard')['on']('_replaceTableSlotCell',(_0x3086af,_0x4673d0)=>{const [_0x5cfd14,_0x19e97f,,_0x49c9fd]=_0x4673d0;if(!_0x8fe41d)return;_0x3086af['stop']();const _0x18d69c=_0x5cfd14['cell'],_0x589bf6=_0x19e97f,_0xa3e171=ze(_0x18d69c),_0x40f340=ze(_0x589bf6);_0x3086af['return']=_0x18d69c;let _0x419d63=null,_0x336d9d=null;if(_0x40f340||_0xa3e171){if(_0xa3e171&&!_0x40f340){_0x49c9fd['remove'](_0x18d69c['getChild'](0x0));for(const _0x2cbd52 of Array['from'](_0x589bf6['getChildren']()))_0x49c9fd['insert'](_0x2cbd52,_0x18d69c,'end');const _0x30698a=_0x8fe41d['rowInsertionIndexes']['includes'](_0x5cfd14['row']),_0xbb10f7=_0x8fe41d['columnInsertionIndexes']['includes'](_0x5cfd14['column']);_0x30698a||_0xbb10f7||(_0x419d63=_0x4b855c['fromRange'](_0x49c9fd['createRangeIn'](_0x18d69c)));}else _0x40f340&&!_0xa3e171&&(_0x336d9d=_0x49c9fd['createRangeIn'](_0x18d69c));}else{const _0x33b4a0=_0x49c9fd['createElement']('tableCellSuggestion'),_0x3cc595=_0x49c9fd['createElement']('tableCellSuggestion');_0x49c9fd['wrap'](_0x49c9fd['createRangeIn'](_0x18d69c),_0x3cc595),_0x49c9fd['insert'](_0x33b4a0,_0x18d69c,0x0);for(const _0x4891a3 of Array['from'](_0x589bf6['getChildren']()))_0x49c9fd['insert'](_0x4891a3,_0x33b4a0,'end');_0x419d63=_0x4b855c['fromRange'](_0x49c9fd['createRangeOn'](_0x33b4a0)),_0x336d9d=_0x4b855c['fromRange'](_0x49c9fd['createRangeOn'](_0x3cc595));}const _0x20c218=Array['from'](_0x589bf6['getAttributes']())['filter'](([_0xaef6e5])=>Ue['includes'](_0xaef6e5));_0x8fe41d['cells']['push']({'element':_0x18d69c,'attributes':_0x20c218['length']?Object['fromEntries'](_0x20c218):null}),_0x419d63&&_0x8fe41d['insertionRanges']['push'](_0x419d63),_0x336d9d&&_0x8fe41d['deletionRanges']['push'](_0x336d9d);},{'priority':'high'}),_0x28f962['on']('insertColumns',(_0x2c675a,_0x16db67)=>{const [_0x5396e1,_0x222c91={}]=_0x16db67;if(!_0x8fe41d)return;const _0x52fee7=_0x222c91['at']||0x0,_0x49e11a=_0x222c91['columns']||0x1;_0x8fe41d['columnInsertionIndexes']=new Array(_0x49e11a)['fill'](_0x52fee7)['map']((_0x575c46,_0x4a2b8b)=>_0x575c46+_0x4a2b8b);for(const {cell:_0x5ce991}of _0x28f962['createTableWalker'](_0x5396e1,{'startColumn':_0x52fee7,'endColumn':_0x52fee7+_0x49e11a-0x1}))_0x8fe41d['columnInsertionRanges']['push'](_0x1a0db5['model']['createRangeOn'](_0x5ce991));},{'priority':'low'}),_0x28f962['on']('insertRows',(_0x1ba686,_0x34f89)=>{const [_0x1555b5,_0x3945b9={}]=_0x34f89;if(!_0x8fe41d)return;const _0x138aa1=_0x3945b9['at']||0x0,_0x47cb9e=_0x3945b9['rows']||0x1;_0x8fe41d['rowInsertionIndexes']=new Array(_0x47cb9e)['fill'](_0x138aa1)['map']((_0x17940e,_0x3de6a7)=>_0x17940e+_0x3de6a7);for(const {cell:_0x2dcd61}of _0x28f962['createTableWalker'](_0x1555b5,{'startRow':_0x138aa1,'endRow':_0x138aa1+_0x47cb9e-0x1}))_0x8fe41d['rowInsertionRanges']['push'](_0x1a0db5['model']['createRangeOn'](_0x2dcd61));},{'priority':'low'}),_0x5515df['descriptionFactory']['registerDescriptionCallback'](_0x411988=>{if(_0x411988['subType']&&_0x411988['subType']['startsWith']('tablePaste'))return _0x411988['previous']?{}:{'type':'insertion','content':o(_0x1a0db5['locale'],'*Replace\x20table\x20cells*')};});const _0x48df57=()=>!0x1;for(const _0x315b7f of['tablePaste','tablePasteColumn','tablePasteRow','tablePasteCell'])_0x5515df['_suggestionFactory']['registerCustomCallback']('insertion',_0x315b7f,'join',_0x48df57),_0x5515df['_suggestionFactory']['registerCustomCallback']('deletion',_0x315b7f,'join',_0x48df57),_0x5515df['_suggestionFactory']['registerCustomCallback']('formatBlock',_0x315b7f,'join',_0x48df57);_0x5515df['_suggestionFactory']['registerCustomCallback']('formatBlock','tablePasteCell','discard',_0x48df57),_0x5515df['_suggestionFactory']['registerCustomCallback']('formatBlock','tablePasteCell','accept',(_0x5d3429,_0x5a8222,_0x1f9d4f)=>{const _0x453d3c=_0x5d3429['map'](_0xc3f87e=>_0xc3f87e['getContainedElement']())['filter'](_0x488ca3=>_0x488ca3),_0x381e03=new Map(_0x453d3c['map'](_0x2d09c3=>[_0x2d09c3,null]));if(_0x8fe41d){for(const {element:_0x5985d3,attributes:_0x27ef62}of _0x8fe41d['cells'])_0x27ef62&&_0x381e03['set'](_0x5985d3,_0x27ef62);}else{if(_0x1f9d4f&&_0x1f9d4f['markerAttributes'])for(const [_0xebb4ce,_0x4a1e54]of Object['entries'](_0x1f9d4f['markerAttributes'])){const _0x5225ab=_0x1a0db5['model']['markers']['get'](_0xebb4ce),_0x53107e=_0x5225ab?_0x5225ab['getRange']()['getContainedElement']():null;_0x53107e&&_0x381e03['set'](_0x53107e,_0x4a1e54);}}_0x1a0db5['model']['change'](_0x5833b5=>{for(const [_0x46199e,_0x568ea3]of _0x381e03)_0x5833b5['setAttributes']({...He,..._0x568ea3},_0x46199e);});});const _0x5b7fd6=(_0x4895dd,_0x30ff46)=>{_0x5515df['_suggestionFactory']['registerCustomCallback'](_0x4895dd,'tablePaste',_0x30ff46,(_0x538783,_0x5012c0,_0x1e07bc)=>{_0x1a0db5['model']['change'](_0x308a45=>{const _0x5682bf=[];for(const _0x2bb1d3 of _0x538783){const _0x4328d5=_0x2bb1d3['start']['nodeAfter'];_0x4328d5['is']('element','tableCellSuggestion')&&_0x5682bf['push'](_0x4328d5);}_0x5515df['_suggestionFactory']['getSuggestionCallback'](_0x4895dd,null,_0x30ff46)(_0x538783,_0x5012c0,_0x1e07bc);for(const _0x4dd8d8 of _0x5682bf)'$graveyard'!=_0x4dd8d8['root']['rootName']&&_0x308a45['unwrap'](_0x4dd8d8);});});};_0x5b7fd6('insertion','accept'),_0x5b7fd6('insertion','discard'),_0x5b7fd6('deletion','accept'),_0x5b7fd6('deletion','discard'),_0x5515df['_suggestionFactory']['registerCustomCallback']('insertion','tablePasteRow','discard',_0x5b0c6d=>{const _0x253c98=_0x5b0c6d['map'](_0x32af99=>_0x32af99['getContainedElement']()),_0x50e5cb=_0x253c98[0x0]['findAncestor']('table'),{minRow:_0x1c295f,maxRow:_0x2b46bf}=_0x470e3c['_getCoordsForCells'](_0x253c98);_0x28f962['removeRows'](_0x50e5cb,{'at':_0x1c295f,'rows':_0x2b46bf-_0x1c295f+0x1});}),_0x5515df['_suggestionFactory']['registerCustomCallback']('insertion','tablePasteColumn','discard',_0xe3ee0c=>{const _0x17f558=_0xe3ee0c['map'](_0xeac84a=>_0xeac84a['getContainedElement']()),_0x3e3930=_0x17f558[0x0]['findAncestor']('table'),{minColumn:_0x1adf6d,maxColumn:_0x4ccd8f}=_0x470e3c['_getCoordsForCells'](_0x17f558);_0x28f962['removeColumns'](_0x3e3930,{'at':_0x1adf6d,'columns':_0x4ccd8f-_0x1adf6d+0x1});});const _0x43ee5a=(_0xcc2d66,_0x42befd)=>{if(!_0x42befd['subType']||!_0x42befd['subType']['startsWith']('tablePaste'))return;const _0x192a3d=_0x42befd['attributes']['tablePasteChainId'],_0x51658c=_0x5515df['getSuggestions']()['filter'](_0x1d4a21=>_0x1d4a21['isInContent']&&_0x1d4a21['attributes']&&_0x1d4a21['attributes']['tablePasteChainId']==_0x192a3d);_0x51658c['length']&&_0x42befd['getAllAdjacentSuggestions']()['length']!=_0x51658c['length']&&_0x51658c['reduce']((_0x2e4e83,_0x356147)=>(_0x2e4e83['next']=_0x356147,_0x356147['previous']=_0x2e4e83,_0x356147));};function _0x5c3cc1(_0xbcb0b1,_0x147472=!0x0){const {id:_0x2e2623,authorId:_0x456f17}=_0x5515df['_splitMarkerName'](_0xbcb0b1['markerName']),_0x2b8935=['ck-suggestion-marker','ck-suggestion-marker-insertion'],_0x5c6f4c=_0x5515df['activeMarkers']['includes'](_0xbcb0b1['markerName']);return _0x5c6f4c&&_0x2b8935['push']('ck-suggestion-marker--active'),{'classes':_0x2b8935,'attributes':{'data-suggestion':_0x2e2623,'data-author-id':_0x456f17},'priority':_0x5c6f4c&&_0x147472?0xbc2:0xbb8};}_0x5515df['on']('suggestionLoaded',_0x43ee5a,{'priority':'high'}),_0x5515df['on']('suggestionUnloaded',_0x43ee5a,{'priority':'high'}),_0x1a0db5['model']['document']['registerPostFixer'](()=>{let _0x1aed15=!0x1;const _0x1871a4=Array['from'](_0x1a0db5['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x248c3d,data:_0x5d99ce}of _0x1871a4){const {group:_0x19175a,type:_0x58df6a,id:_0x4df97c}=_0x5515df['_splitMarkerName'](_0x248c3d);if('suggestion'!=_0x19175a||'deletion'!=_0x58df6a||_0x5d99ce['oldRange'])continue;if(!_0x5515df['hasSuggestion'](_0x4df97c))continue;const _0x275d10=_0x5515df['getSuggestion'](_0x4df97c)['getRanges'](),_0x52a66d=_0x1a0db5['plugins']['get']('Users')['me'];for(const _0x1d8ef0 of _0x5515df['getSuggestions']()){if(!_0x1d8ef0['isInContent']||_0x1d8ef0['author']!=_0x52a66d)continue;if('formatBlock'!=_0x1d8ef0['type']||'tablePasteCell'!=_0x1d8ef0['subType'])continue;if(_0x1d8ef0['getRanges']()['every'](_0x457a44=>_0x275d10['some'](_0x4b5da8=>_0x4b5da8['containsRange'](_0x457a44,!0x0)))){for(const _0x14cf4 of _0x1d8ef0['getAllAdjacentSuggestions']())_0x14cf4['isInContent']&&(_0x14cf4['discard'](),_0x1aed15=!0x0);}}}return _0x1aed15;}),_0x1a0db5['model']['document']['registerPostFixer'](_0x5bdbb5=>{const _0x5a7874=_0x1a0db5['commands']['get']('redo');if(!_0x5a7874||!_0x5a7874['_createdBatches']['has'](_0x5bdbb5['batch']))return!0x1;let _0x4a04b1=!0x1;const _0x2025cb=_0x1a0db5['plugins']['get']('Users')['me'],_0x56c788=_0x1a0db5['model']['document']['differ']['getChanges'](),_0x2ff09d=Array['from'](_0x1a0db5['model']['document']['differ']['getChangedMarkers']())['filter'](({name:_0x577228,data:_0x4a11f2})=>{const {group:_0xb2d9b6,subType:_0x193b70,authorId:_0x33efb3}=_0x5515df['_splitMarkerName'](_0x577228);return'suggestion'==_0xb2d9b6&&'tablePaste'==_0x193b70&&_0x33efb3==_0x2025cb['id']&&!_0x4a11f2['oldRange'];});for(const _0x55e300 of _0x56c788){if('insert'!=_0x55e300['type']||'tableCellSuggestion'!=_0x55e300['name']||0x1!=_0x55e300['length'])continue;const _0x2770b8=_0x5bdbb5['createRange'](_0x55e300['position'],_0x55e300['position']['getShiftedBy'](0x1));if(!_0x2ff09d['find'](({data:_0x2bf872})=>_0x2bf872['newRange']['isEqual'](_0x2770b8))){for(const {name:_0x25b2a5,data:_0x5d4461}of _0x2ff09d)if(_0x2770b8['containsRange'](_0x5d4461['newRange'])){_0x5bdbb5['updateMarker'](_0x25b2a5,{'range':_0x2770b8}),_0x4a04b1=!0x0;break;}}}return _0x4a04b1;}),_0x1a0db5['model']['document']['registerPostFixer'](_0x861437=>{let _0x216a0b=!0x1;const _0x41bc99=_0x1a0db5['plugins']['get']('Users')['me'],_0x3f1e29=_0x5515df['getSuggestions']()['filter'](_0x16b62b=>_0x16b62b['isInContent']&&_0x16b62b['author']==_0x41bc99),_0x5c9f02=new Set(),_0x16b4b3=new Set();for(const _0x41f5d6 of _0x3f1e29)if('tablePaste'==_0x41f5d6['subType'])for(const _0x220c75 of _0x41f5d6['getMarkers']()){const _0x56be2c=_0x220c75['getRange']()['getContainedElement']();if(_0x56be2c){if(_0x56be2c['is']('element','tableCellSuggestion')&&ze(_0x56be2c)){_0x41f5d6['removeMarker'](_0x220c75['name']),_0x5c9f02['add'](_0x56be2c),_0x216a0b=!0x0;const _0x2d0dd0=_0x56be2c['nextSibling'],_0x50acbb=_0x56be2c['previousSibling'],_0x36dc95=_0x2d0dd0&&_0x2d0dd0['is']('element','tableCellSuggestion'),_0x5a34c2=_0x50acbb&&_0x50acbb['is']('element','tableCellSuggestion');_0x36dc95&&!_0x5c9f02['has'](_0x2d0dd0)&&_0x16b4b3['add'](_0x2d0dd0),_0x5a34c2&&!_0x5c9f02['has'](_0x50acbb)&&_0x16b4b3['add'](_0x50acbb);}else _0x56be2c['is']('element','paragraph')&&_0x56be2c['isEmpty']&&(_0x41f5d6['removeMarker'](_0x220c75['name']),_0x216a0b=!0x0);}}else{if('tablePasteCell'==_0x41f5d6['subType']){if(!_0x41f5d6['attributes']||!_0x41f5d6['attributes']['tablePasteChainId'])continue;const _0x525ea0=_0x41f5d6['attributes']['markerAttributes'];if(_0x525ea0&&Object['keys'](_0x525ea0)['length'])continue;const _0x494585=_0x41f5d6['attributes']['tablePasteChainId'];let _0x3ffa53=!0x0,_0x4e0891=!0x0;for(const _0x41e0e6 of _0x3f1e29)if(_0x41e0e6['subType']&&_0x41e0e6['subType']['startsWith']('tablePaste')){if(!_0x41e0e6['attributes']['tablePasteChainId']){_0x4e0891=!0x1;break;}if(_0x41e0e6['id']!=_0x41f5d6['id']&&_0x41e0e6['attributes']['tablePasteChainId']==_0x494585){_0x3ffa53=!0x1;break;}}_0x4e0891&&_0x3ffa53&&(_0x41f5d6['removeMarkers'](),_0x216a0b=!0x0);}}for(const _0x14c0d1 of _0x5c9f02)_0x861437['remove'](_0x14c0d1);for(const _0x4c970b of _0x16b4b3)_0x861437['unwrap'](_0x4c970b);return _0x216a0b;}),_0x1a0db5['conversion']['for']('editingDowncast')['markerToHighlight']({'model':'suggestion:formatBlock:tablePasteCell','view':_0x384a05=>_0x5c3cc1(_0x384a05),'converterPriority':'high'}),_0x1a0db5['conversion']['for']('dataDowncast')['markerToHighlight']({'model':'suggestion:formatBlock:tablePasteCell','view':(_0x1dece2,_0x332c94)=>_0x332c94['options']['showSuggestionHighlights']?_0x5c3cc1(_0x1dece2,!0x1):null,'converterPriority':'high'});const _0x211ea7=_0x1a0db5['editing']['view'];this['listenTo'](_0x211ea7['document'],'clipboardOutput',(_0x46d767,_0x125df4)=>{const _0x2a7d2f=[];for(const _0x112a9c of _0x211ea7['createRangeIn'](_0x125df4['content'])['getItems']())_0x112a9c['is']('element','suggestion-td')&&_0x2a7d2f['push'](_0x112a9c);_0x211ea7['change'](_0x244912=>{for(const _0x1febcc of _0x2a7d2f)_0x244912['move'](_0x244912['createRangeIn'](_0x1febcc),_0x244912['createPositionBefore'](_0x1febcc)),_0x244912['remove'](_0x1febcc);});});}}function ze(_0x14fd38){if(_0x14fd38['isEmpty'])return!0x0;const _0x4cb8a5=_0x14fd38['getChild'](0x0);return _0x4cb8a5['is']('element','paragraph')&&_0x4cb8a5['isEmpty'];}function Ge(_0x508a89,_0x2b4f70={},_0x176700){for(const {isAnchor:_0x72e410,cellHeight:_0x31bb2a,cellWidth:_0x44159b}of _0x176700['createTableWalker'](_0x508a89,{'includeAllSlots':!0x0,..._0x2b4f70}))if(!_0x72e410||0x1!=_0x31bb2a||0x1!=_0x44159b)return!0x1;return!0x0;}class xt extends _0x150e1e{['afterInit'](){if(!this['editor']['plugins']['has']('TableColumnResizeEditing'))return;const _0x3305b1=this['editor']['plugins']['get']('TrackChangesEditing');_0x3305b1['enableCommand']('resizeTableWidth',this['handleResizeTableWidthCommand']['bind'](this)),_0x3305b1['_suggestionFactory']['registerCustomCallback']('formatBlock','resizeTable','accept',_0x3305b1['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x3305b1['_suggestionFactory']['registerCustomCallback']('formatBlock','resizeTable','discard',_0x3305b1['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'accept')),_0x3305b1['descriptionFactory']['registerDescriptionCallback'](this['handleSuggestionDescription']['bind'](this));}['handleResizeTableWidthCommand'](_0x468080,_0x513ccc){const _0x23f8a9=this['editor']['plugins']['get']('TrackChangesEditing'),_0x2d5fd0=this['editor']['plugins']['get']('TableColumnResizeEditing'),_0x42cf29=_0x513ccc['table']||this['editor']['model']['document']['selection']['getSelectedElement']();this['editor']['model']['change'](()=>{const _0x283d67=_0x2d5fd0['getColumnGroupElement'](_0x42cf29);let _0x435a6a=_0x283d67?_0x2d5fd0['getTableColumnsWidths'](_0x283d67):null,_0x2a5433=_0x42cf29['getAttribute']('tableWidth')||null;const _0x3406c0=_0x513ccc['tableWidth']||_0x2a5433,_0x50e49f=_0x513ccc['columnWidths']||_0x435a6a,_0xf69e36=this['editor']['plugins']['get']('Users')['me'];for(const _0x58a20c of _0x23f8a9['getSuggestions']()){const _0x3c6d17=_0x58a20c['getContainedElement']();if('resizeTable'===_0x58a20c['subType']&&_0x3c6d17===_0x42cf29){_0x58a20c['author']!==_0xf69e36&&_0x58a20c['discard']();const _0x3ea0fa=_0x58a20c['data']['commandParams'];_0x2a5433=_0x3ea0fa[0x0]['tableWidth'],_0x435a6a=_0x3ea0fa[0x0]['columnWidths'];break;}}_0x468080({'table':_0x42cf29,'tableWidth':_0x3406c0,'columnWidths':_0x50e49f}),_0x23f8a9['markBlockFormat'](_0x42cf29,{'commandName':'resizeTableWidth','commandParams':[{'tableWidth':_0x2a5433,'columnWidths':_0x435a6a}],'formatGroupId':'resizeTable'},[],'resizeTable');});}['handleSuggestionDescription'](_0x52441d){if('formatBlock'!=_0x52441d['type']&&'formatInline'!=_0x52441d['type'])return;const {data:_0x1679c8}=_0x52441d;if(_0x1679c8&&'resizeTable'===_0x1679c8['formatGroupId']){const _0x1dcc79='*Format:*\x20resize\x20table';return{'type':'format','content':o(this['editor']['locale'],_0x1dcc79)};}}}class Et extends _0x150e1e{['afterInit'](){const _0x491424=this['editor'];_0x491424['plugins']['has']('Template')&&_0x491424['plugins']['get']('TrackChangesEditing')['enableCommand']('insertTemplate');}}class Rt extends _0x150e1e{['afterInit'](){const _0xe6d893=this['editor'];if(!_0xe6d893['commands']['get']('insertTableOfContents'))return;_0xe6d893['plugins']['get']('TrackChangesEditing')['enableCommand']('insertTableOfContents');const _0x2708e6=_0xe6d893['plugins']['get']('TrackChangesEditing'),_0x443c0c=_0xe6d893['locale'];_0x2708e6['descriptionFactory']['registerElementLabel']('tableOfContents',_0x20158a=>o(_0x443c0c,'ELEMENT_TABLE_OF_CONTENTS',_0x20158a));}}class Ut extends _0x150e1e{['afterInit'](){const _0x5ad195=this['editor'];if(!_0x5ad195['plugins']['has']('Title'))return;const _0x19603e=_0x5ad195['plugins']['get']('TrackChangesEditing');_0x19603e['descriptionFactory']['registerElementLabel']('title-content',()=>o(_0x5ad195['locale'],'ELEMENT_TITLE')),_0x5ad195['model']['document']['registerPostFixer'](_0x593fb3=>{let _0x294e5a=!0x1;const _0x5df684=Array['from'](_0x5ad195['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x58c68f,data:_0x5c7d30}of _0x5df684){const {group:_0x2e3700}=_0x19603e['_splitMarkerName'](_0x58c68f);if('suggestion'!==_0x2e3700||!_0x5c7d30['newRange'])continue;const _0x3d3c96=_0x5c7d30['newRange'],_0x2937e1=_0x3d3c96['end']['nodeBefore'];if(!_0x2937e1||!_0x2937e1['is']('element','title-content'))continue;if(!_0x3d3c96['start']['isTouching'](_0x3d3c96['end']))continue;const _0x1d793e=_0x5ad195['model']['schema']['getNearestSelectionRange'](_0x3d3c96['end'],'forward');if(_0x1d793e&&_0x1d793e['isCollapsed']){const _0xbbae55=_0x593fb3['createRange'](_0x3d3c96['start'],_0x1d793e['start']);_0xbbae55['isEqual'](_0x3d3c96)||(_0x593fb3['updateMarker'](_0x58c68f,{'range':_0xbbae55}),_0x294e5a=!0x0);}_0x294e5a||(_0x593fb3['removeMarker'](_0x58c68f),_0x294e5a=!0x0);}return _0x294e5a;});}}class Vt extends _0x150e1e{['afterInit'](){const _0x5c4581=this['editor'],_0x321c18=_0x5c4581['plugins']['get']('TrackChangesEditing');_0x5c4581['plugins']['has']('Uploadcare')&&(_0x321c18['enableCommand']('uploadcare'),_0x5c4581['plugins']['has']('UploadcareImageEdit')&&(_0x321c18['enableCommand']('uploadcareImageEdit'),_0x321c18['enableDefaultAttributesIntegration']('uploadcareImageReplace'),_0x321c18['registerBlockAttribute']('uploadcareImageId'),_0x321c18['descriptionFactory']['registerDescriptionCallback'](_0x5f53e0=>{if('attribute'!=_0x5f53e0['type'])return;const {data:_0x412e83}=_0x5f53e0;return _0x412e83&&'uploadcareImageId'==_0x412e83['key']?{'type':'format','content':''}:void 0x0;})));}}class Ft extends _0x150e1e{['afterInit'](){const _0x219305=this['editor'],_0x2265d9=_0x219305['plugins']['get']('TrackChangesEditing');_0x219305['plugins']['has']('UndoEditing')&&(_0x2265d9['enableCommand']('undo'),_0x2265d9['enableCommand']('redo'));}}class Pt extends _0x150e1e{static get['requires'](){return[Dt];}['afterInit'](){const _0x3c6d9c=this['editor'];if(!_0x3c6d9c['plugins']['has']('TableCaptionEditing'))return;_0x3c6d9c['plugins']['get']('TrackChangesEditing')['enableCommand']('toggleTableCaption');}}class Gt extends _0x150e1e{['tableProperties'];['tableCellProperties'];constructor(_0x15a049){super(_0x15a049),this['tableProperties']=['tableBorderColor','tableBorderStyle','tableBorderWidth','tableAlignment','tableWidth','tableHeight','tableBackgroundColor'],this['tableCellProperties']=['tableCellBorderColor','tableCellBorderStyle','tableCellBorderWidth','tableCellPadding','tableCellWidth','tableCellHeight','tableCellBackgroundColor','tableCellHorizontalAlignment','tableCellVerticalAlignment'];}static get['pluginName'](){return'TrackChangesTableProperties';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}['afterInit'](){const _0x4ebbeb=this['editor']['plugins']['get']('TrackChangesEditing');if(this['editor']['plugins']['has']('TablePropertiesEditing')){for(const _0x94513b of this['tableProperties'])_0x4ebbeb['enableCommand'](_0x94513b,(_0xd3a249,_0x2fc28e)=>{const _0x1c0609=this['editor']['model']['document']['selection']['getFirstPosition']()['findAncestor']('table');this['_handlePropertyChange'](_0x94513b,[_0x1c0609],this['tableProperties'],'tableProperties',_0xd3a249,_0x2fc28e);});_0x4ebbeb['_suggestionFactory']['registerCustomCallback']('formatBlock','tableProperties','accept',_0x4ebbeb['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x4ebbeb['_suggestionFactory']['registerCustomCallback']('formatBlock','tableProperties','discard',(_0x4de4b0,_0x2a1a4e)=>this['handleDiscardAction'](this['tableProperties'],_0x4de4b0,_0x2a1a4e)),_0x4ebbeb['_suggestionFactory']['registerCustomCallback']('formatBlock','tableProperties','join',()=>!0x1);}if(this['editor']['plugins']['has']('TableCellPropertiesEditing')){for(const _0x5b41eb of this['tableCellProperties'])_0x4ebbeb['enableCommand'](_0x5b41eb,(_0x4c5eed,_0x5b61cb)=>{const _0x237efe=this['editor']['plugins']['get']('TableUtils')['getSelectionAffectedTableCells'](this['editor']['model']['document']['selection']);this['_handlePropertyChange'](_0x5b41eb,_0x237efe,this['tableCellProperties'],'tableCellProperties',_0x4c5eed,_0x5b61cb);});_0x4ebbeb['_suggestionFactory']['registerCustomCallback']('formatBlock','tableCellProperties','accept',_0x4ebbeb['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x4ebbeb['_suggestionFactory']['registerCustomCallback']('formatBlock','tableCellProperties','discard',(_0x592420,_0x284fc0)=>this['handleDiscardAction'](this['tableCellProperties'],_0x592420,_0x284fc0)),_0x4ebbeb['_suggestionFactory']['registerCustomCallback']('formatBlock','tableCellProperties','join',()=>!0x1);}_0x4ebbeb['descriptionFactory']['registerDescriptionCallback'](_0x56a20d=>this['handleSuggestionDescription'](_0x56a20d)),this['_registerTablePropertiesAttributes']();}['_handlePropertyChange'](_0x2df60b,_0x482869,_0x19add8,_0x22bd89,_0x49edb2,_0x239cbd){const _0x54f69c=this['editor']['plugins']['get']('TrackChangesEditing');this['editor']['model']['enqueueChange'](_0x239cbd['batch'],()=>{for(const _0x3ec7f1 of _0x482869){if(this['_getSuggestion'](_0x3ec7f1,_0x22bd89))_0x49edb2(_0x239cbd);else{const _0x2726d2={};for(const _0x181511 of _0x19add8){const _0x4fc716=_0x3ec7f1['getAttribute'](_0x181511);void 0x0!==_0x4fc716&&(_0x2726d2[_0x181511]=_0x4fc716);}_0x49edb2(_0x239cbd),_0x54f69c['markBlockFormat'](_0x3ec7f1,{'commandParams':[_0x2726d2]},[],_0x22bd89);}}});}['handleDiscardAction'](_0x2766ae,_0x36e5fa,_0xc3c740){const _0x303386=_0x36e5fa[0x0]['start']['nodeAfter'],_0x1039e8=_0xc3c740['commandParams'][0x0];this['editor']['model']['change'](_0x30f759=>{for(const _0x10c9b0 of _0x2766ae)void 0x0!==_0x1039e8[_0x10c9b0]?_0x30f759['setAttribute'](_0x10c9b0,_0x1039e8[_0x10c9b0],_0x303386):_0x30f759['removeAttribute'](_0x10c9b0,_0x303386);});}['handleSuggestionDescription'](_0x44fe77){if(_0x44fe77['data'])switch(_0x44fe77['subType']){case'tableProperties':return{'type':'format','content':o(this['editor']['locale'],'*Format:*\x20change\x20table\x20properties')};case'tableCellProperties':return{'type':'format','content':o(this['editor']['locale'],'*Format:*\x20change\x20table\x20cell\x20properties')};}}['_getSuggestion'](_0x582b90,_0x21bbf2){const _0xcb64f6=this['editor']['plugins']['get']('TrackChangesEditing');for(const _0xc341e9 of _0xcb64f6['getSuggestions']({'skipNotAttached':!0x0})){const _0x33217e=_0xc341e9['getContainedElement']();if(_0xc341e9['subType']===_0x21bbf2&&_0x33217e===_0x582b90)return _0xc341e9;}return null;}['_registerTablePropertiesAttributes'](){const _0x1933f3=this['editor']['plugins']['get']('TrackChangesEditing'),_0x29e73d=[...this['tableProperties'],...this['tableCellProperties']];for(const _0x4a7402 of _0x29e73d){const _0x547af9=_0x4a7402['replace'](/([A-Z])/g,'_$1')['toUpperCase']();_0x1933f3['registerBlockAttribute'](_0x4a7402),_0x1933f3['descriptionFactory']['registerAttributeLabel'](_0x4a7402,o(this['editor']['locale'],'FORMAT_'+_0x547af9));}}}class Lt extends _0x150e1e{['afterInit'](){const _0x536b32=this['editor'];if(!_0x536b32['plugins']['has']('LineHeight'))return;const _0x35d60c=_0x536b32['plugins']['get']('TrackChangesEditing'),_0x304590=_0x536b32['locale'];_0x35d60c['enableDefaultAttributesIntegration']('lineHeight'),_0x35d60c['registerBlockAttribute']('lineHeight'),_0x35d60c['descriptionFactory']['registerAttributeLabel']('lineHeight',o(_0x304590,'FORMAT_LINE_HEIGHT'));}}const m='$elementName';class d extends _0x150e1e{['descriptionFactory'];['trackChangesCommand'];['_adapter'];['_suggestionFactory'];['_suggestions'];['_commentsRepository'];['_enabledCommands'];['_model'];['_suggestionState'];['_isForcedDefaultExecutionBlock'];['_trackFormatChanges'];['_mergeNestedSuggestions'];['_blockAttributeKeys'];['_inlineAttributeKeys'];['_recordAttributeSuggestions']=!0x1;['_trackingSessionId']=null;static get['requires'](){return['CommentsRepository',_0x49c4c1,_0x28dd1b,_0x20dcac,V,F,G,L,J,K,q,W,H,z,Q,X,tt,et,it,nt,st,ot,rt,at,ct,ut,ht,ft,gt,lt,dt,pt,kt,St,mt,Y,Lt,Z,wt,bt,yt,jt,It,At,_t,$t,vt,Ct,Nt,Dt,Mt,Bt,Tt,Pt,Ot,xt,Rt,Gt,Et,Ut,Vt,Ft];}static get['pluginName'](){return'TrackChangesEditing';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}constructor(_0x2403e7){super(_0x2403e7),this['set']('activeMarkers',[]),this['on']('change:activeMarkers',(_0x1dd564,_0x2dc4f,_0x288e5d,_0x147926)=>{this['_model']['change'](()=>{for(const _0x2070c8 of[..._0x147926,..._0x288e5d])this['_model']['markers']['has'](_0x2070c8)&&_0x2403e7['editing']['reconvertMarker'](_0x2070c8);});}),this['descriptionFactory']=new U(this['editor']['model']['schema'],this['editor']['locale']),this['_adapter']=null,this['_suggestionFactory']=new Kt(this['editor']),this['_suggestions']=new Map(),this['_commentsRepository']=_0x2403e7['plugins']['get']('CommentsRepository'),this['_enabledCommands']=new Set(),this['_model']=this['editor']['model'],this['_suggestionState']=new WeakMap(),this['_isForcedDefaultExecutionBlock']=!0x1,this['_blockAttributeKeys']=new Set([m]),this['_inlineAttributeKeys']=new Set(),_0x2403e7['config']['define']('trackChanges.trackFormatChanges','default'),this['_trackFormatChanges']=_0x2403e7['config']['get']('trackChanges.trackFormatChanges'),_0x2403e7['config']['define']('trackChanges.mergeNestedSuggestions',!0x0),this['_mergeNestedSuggestions']=_0x2403e7['config']['get']('trackChanges.mergeNestedSuggestions'),this['trackChangesCommand']=new B(_0x2403e7,this['_enabledCommands']),this['_initAriaMarkerChangeAnnouncements']();}['init'](){const _0x2e75a7=this['editor'],_0x3b4ecb=(_0x174968,_0x47f30b)=>{if('attribute'!=_0x174968)return'ck-suggestion-marker-'+_0x174968;const _0x2d83bc=_0x47f30b['split']('|')[0x0];return this['_isBlockAttribute'](_0x2d83bc)?'ck-suggestion-marker-formatBlock':'ck-suggestion-marker-formatInline';};_0x2e75a7['conversion']['for']('editingDowncast')['markerToHighlight']({'model':'suggestion','view':_0x27ac9b=>{const {id:_0x59cdce,authorId:_0x72cfa4,type:_0x33755c,subType:_0x44c3b7}=this['_splitMarkerName'](_0x27ac9b['markerName']),_0x119119=['ck-suggestion-marker',_0x3b4ecb(_0x33755c,_0x44c3b7)];let _0x1f6ff5=0xbb8;return this['activeMarkers']['includes'](_0x27ac9b['markerName'])&&(_0x119119['push']('ck-suggestion-marker--active'),_0x1f6ff5=0xbc2),'deletion'==_0x33755c&&(_0x1f6ff5+=0x5),{'classes':_0x119119,'attributes':{'data-suggestion':_0x59cdce,'data-author-id':_0x72cfa4},'priority':_0x1f6ff5};}}),_0x2e75a7['conversion']['for']('dataDowncast')['add'](_0x346925=>{_0x346925['on']('addMarker:suggestion',(_0x3e3eb9,_0x298529,_0x247f13)=>{if(!_0x247f13['options']['showSuggestionHighlights'])return;const _0x5c82d2=_0x298529['item'];if(!_0x5c82d2)return;const _0x127cac=_0x247f13['mapper']['toViewElement'](_0x5c82d2);_0x2e75a7['model']['schema']['isObject'](_0x5c82d2)&&_0x127cac&&!_0x127cac['getCustomProperty']('widget')&&_0x127cac['is']('containerElement')&&_0x12badd(_0x127cac,_0x247f13['writer']);},{'priority':'high'});}),_0x2e75a7['conversion']['for']('dataDowncast')['markerToHighlight']({'model':'suggestion','view':(_0x1476b2,_0x1d0a1f)=>{if(!_0x1d0a1f['options']['showSuggestionHighlights'])return null;const {id:_0x197efa,authorId:_0x42d917,type:_0x2fee88,subType:_0x1f8dd7}=this['_splitMarkerName'](_0x1476b2['markerName']);return{'classes':['ck-suggestion-marker',_0x3b4ecb(_0x2fee88,_0x1f8dd7)],'priority':0xbb8,'attributes':{'data-suggestion':_0x197efa,'data-author-id':_0x42d917}};}});const _0x33adb8=({showActiveMarkers:_0x130732=!0x0,isAttributeSuggestion:_0x33df10=!0x1}={})=>(_0x52f218,_0x416b75,_0x4f7cff)=>{if(!_0x416b75['item'])return;const {id:_0x23d7f2,authorId:_0x5895f9,subType:_0x1ee1fb}=this['_splitMarkerName'](_0x416b75['markerName']);if(_0x33df10){const _0x118fa8=re(_0x1ee1fb);if(!this['_isBlockAttribute'](_0x118fa8))return;}if(_0x416b75['item']['is']('selection'))return void _0x4f7cff['consumable']['consume'](_0x416b75['item'],_0x52f218['name']);const _0x24d466=_0x4f7cff['mapper']['toViewElement'](_0x416b75['item']);if(_0x416b75['item']['is']('element')&&_0x2e75a7['model']['schema']['isBlock'](_0x416b75['item'])&&!_0x24d466['getCustomProperty']('addHighlight')){_0x4f7cff['writer']['addClass'](['ck-suggestion-marker','ck-suggestion-marker-formatBlock'],_0x24d466),_0x4f7cff['writer']['setAttribute']('data-suggestion',_0x23d7f2,_0x24d466),_0x4f7cff['writer']['setAttribute']('data-author-id',_0x5895f9,_0x24d466),_0x4f7cff['mapper']['bindElementToMarker'](_0x24d466,_0x416b75['markerName']),_0x130732&&(this['activeMarkers']['includes'](_0x416b75['markerName'])?_0x4f7cff['writer']['addClass']('ck-suggestion-marker--active',_0x24d466):_0x4f7cff['writer']['removeClass']('ck-suggestion-marker--active',_0x24d466));for(const _0xd9e50f of _0x2e75a7['model']['createRangeIn'](_0x416b75['item'])['getItems']())_0x4f7cff['consumable']['consume'](_0xd9e50f,_0x52f218['name']);_0x4f7cff['consumable']['consume'](_0x416b75['item'],_0x52f218['name']);}};_0x2e75a7['conversion']['for']('dataDowncast')['add'](_0x19b225=>{_0x19b225['on']('addMarker:suggestion:formatBlock',(_0x1ba45b,_0x5d6ca6,_0x4255ac)=>{_0x4255ac['options']['showSuggestionHighlights']&&_0x33adb8({'showActiveMarkers':!0x1})(_0x1ba45b,_0x5d6ca6,_0x4255ac);},{'priority':'highest'});}),_0x2e75a7['conversion']['for']('dataDowncast')['add'](_0x753d00=>{_0x753d00['on']('addMarker:suggestion:attribute',(_0x3a5e99,_0x4dd9a0,_0x2f6fa8)=>{_0x2f6fa8['options']['showSuggestionHighlights']&&_0x33adb8({'showActiveMarkers':!0x1,'isAttributeSuggestion':!0x0})(_0x3a5e99,_0x4dd9a0,_0x2f6fa8);},{'priority':'highest'});}),_0x2e75a7['conversion']['for']('dataDowncast')['markerToData']({'model':'suggestion','view':(_0xa04867,_0x52a1a9)=>{if(_0x52a1a9['options']['showSuggestionHighlights']){const {id:_0x23f5d0,authorId:_0x3af991}=this['_splitMarkerName'](_0xa04867);return _0xa04867['includes'](':split')||_0xa04867['includes'](':merge')?{'group':'suggestion','name':_0xa04867['substr'](0xb),'attributes':{'data-suggestion':_0x23f5d0,'data-author-id':_0x3af991}}:null;}return{'group':'suggestion','name':_0xa04867['substr'](0xb)};}}),_0x2e75a7['conversion']['for']('upcast')['elementToElement']({'view':{'name':'suggestion','attributes':{'id':/^\w/,'suggestion-type':/^\w/}},'model':(_0x3bdbea,{writer:_0xda609d})=>{let _0x4cbd79='suggestion:'+_0x3bdbea['getAttribute']('suggestion-type')+':'+_0x3bdbea['getAttribute']('id');return _0x3bdbea['getAttribute']('marker-count')&&(_0x4cbd79+=':'+_0x3bdbea['getAttribute']('marker-count')),_0xda609d['createElement']('$marker',{'data-name':_0x4cbd79});}}),_0x2e75a7['conversion']['for']('upcast')['dataToMarker']({'view':'suggestion'}),_0x2e75a7['conversion']['for']('editingDowncast')['add'](_0x151b07=>{_0x151b07['on']('addMarker:suggestion:formatBlock',_0x33adb8(),{'priority':'high'});}),_0x2e75a7['conversion']['for']('editingDowncast')['add'](_0x382bfe=>{_0x382bfe['on']('addMarker:suggestion:attribute',_0x33adb8({'isAttributeSuggestion':!0x0}),{'priority':'high'});}),_0x2e75a7['conversion']['for']('editingDowncast')['add'](_0x3e7e28=>{_0x3e7e28['on']('removeMarker:suggestion:formatBlock',(_0x172269,_0x5cee67,_0xede6c8)=>{const _0x2dad0d=_0xede6c8['mapper']['markerNameToElements'](_0x5cee67['markerName']);if(_0x2dad0d){for(const _0x1c1f3e of _0x2dad0d)_0x1c1f3e['getCustomProperty']('addHighlight')||(_0xede6c8['writer']['removeClass'](['ck-suggestion-marker','ck-suggestion-marker-formatBlock','ck-suggestion-marker--active'],_0x1c1f3e),_0xede6c8['writer']['removeAttribute']('data-suggestion',_0x1c1f3e),_0xede6c8['writer']['removeAttribute']('data-author-id',_0x1c1f3e),_0xede6c8['mapper']['unbindElementFromMarkerName'](_0x1c1f3e,_0x5cee67['markerName']));}},{'priority':'high'});}),_0x2e75a7['conversion']['for']('editingDowncast')['add'](_0x449ca2=>{_0x449ca2['on']('removeMarker:suggestion:attribute',(_0x3f0575,_0xd85e57,_0x38bcd5)=>{const _0x4b46b8=_0x38bcd5['mapper']['markerNameToElements'](_0xd85e57['markerName']);if(!_0x4b46b8)return;const {subType:_0x4e86ef}=this['_splitMarkerName'](_0xd85e57['markerName']),_0x480111=re(_0x4e86ef);if(this['_isBlockAttribute'](_0x480111)){for(const _0x25665e of _0x4b46b8)_0x25665e['getCustomProperty']('addHighlight')||(_0x38bcd5['writer']['removeClass'](['ck-suggestion-marker','ck-suggestion-marker-formatBlock','ck-suggestion-marker--active'],_0x25665e),_0x38bcd5['writer']['removeAttribute']('data-suggestion',_0x25665e),_0x38bcd5['writer']['removeAttribute']('data-author-id',_0x25665e),_0x38bcd5['mapper']['unbindElementFromMarkerName'](_0x25665e,_0xd85e57['markerName']));}},{'priority':'high'});}),_0x2e75a7['model']['document']['registerPostFixer'](_0x3c842a=>{let _0x459c06=!0x1;const _0x1e4773=Array['from'](_0x2e75a7['model']['document']['differ']['getChangedMarkers']()),_0xfb9566=new Set();for(const {name:_0x32158c,data:_0x280ec4}of _0x1e4773){const {group:_0x57e8ee,type:_0x10390e,subType:_0x4964ac,id:_0x321604}=this['_splitMarkerName'](_0x32158c);if('suggestion'!==_0x57e8ee)continue;const _0x263c1a=_0x4964ac?'suggestion:'+_0x10390e+':'+_0x4964ac+':'+_0x321604:'suggestion:'+_0x10390e+':'+_0x321604,_0xd6ac45=_0x2e75a7['model']['markers']['getMarkersGroup'](_0x263c1a),_0x340cb3=_0x2e75a7['model']['markers']['get'](_0x32158c),_0x53683=this['_suggestions']['get'](_0x321604);if(null!=_0x280ec4['newRange']){'formatInline'==_0x10390e&&(_0x459c06=_0x459c06||Wt(_0x280ec4['newRange'],_0x32158c,_0x3c842a,_0x2e75a7['model']['schema']));const _0x31593b='attribute'==_0x10390e&&this['_isBlockAttribute'](_0x4964ac['split']('|')[0x0]),_0x19a273='attribute'==_0x10390e&&this['_isInlineAttribute'](_0x4964ac['split']('|')[0x0]);if(_0x280ec4['newRange']['isCollapsed']||'$graveyard'==_0x280ec4['newRange']['root']['rootName']||'formatBlock'==_0x10390e&&!Qt(_0x280ec4['newRange'])||_0x31593b&&!Qt(_0x280ec4['newRange'])||_0x19a273&&Xt(_0x280ec4['newRange'])||'deletion'==_0x10390e&&Xt(_0x280ec4['newRange'])||_0x340cb3&&Yt(_0x340cb3,_0xd6ac45))_0x3c842a['removeMarker'](_0x32158c),_0x459c06=!0x0;else{if(!_0x53683||!_0x53683['isInContent'])continue;if(_0x280ec4['newRange']&&_0x280ec4['oldRange']&&_0x280ec4['newRange']['isEqual'](_0x280ec4['oldRange']))continue;_0xfb9566['add'](_0x53683);}}}return _0xfb9566['size']>0x0&&(_0x459c06=!!this['_joinWithAdjacentSuggestions'](_0xfb9566)||_0x459c06),_0x459c06;}),_0x2e75a7['model']['document']['registerPostFixer'](_0x176a82=>{let _0x3a5049=!0x1;for(const _0x7e9094 of _0x2e75a7['model']['document']['differ']['getChanges']())if('insert'==_0x7e9094['type'])for(const _0xf9779 of this['_suggestions']['values']()){if(_0xf9779['isMultiRange']||!_0xf9779['isInContent'])continue;const _0x235033='formatBlock'==_0xf9779['type'],_0x390fb8=this['_getAttributeKey'](_0xf9779),_0x366894=_0x390fb8&&this['_isBlockAttribute'](_0x390fb8);if(!_0x235033&&!_0x366894)continue;const _0x42fc89=_0xf9779['getFirstRange']();if(_0x42fc89['start']['parent']!=_0x42fc89['end']['parent']&&!_0x42fc89['end']['isAtEnd']){const _0x2962e0=_0x2e75a7['model']['createPositionAt'](_0x42fc89['start']['nodeAfter'],'end'),_0x44f2c7=_0x2e75a7['model']['createRange'](_0x42fc89['start'],_0x2962e0);_0x176a82['updateMarker'](_0xf9779['getFirstMarker'](),{'range':_0x44f2c7}),_0x3a5049=!0x0;}}return _0x3a5049;}),_0x2e75a7['model']['document']['registerPostFixer'](_0x5d46df=>this['_processAttributeChanges'](_0x5d46df)),_0x2e75a7['model']['document']['registerPostFixer'](_0x2d1842=>!_0x2d1842['batch']['isLocal']&&this['_processAttributeSuggestions'](_0x2d1842)),_0x2e75a7['model']['on']('_afterChanges',()=>{this['_recordAttributeSuggestions']=!0x1;}),_0x2e75a7['model']['document']['on']('change:data',(_0x563639,_0x40ba6d)=>{if(!_0x40ba6d['isLocal']||_0x40ba6d['isUndo'])return;if(!this['_recordAttributeSuggestions'])return;const _0x536059=_0x2e75a7['model']['document']['differ']['getChanges']();if(0x0==_0x536059['length'])return;const _0x5605bb=[],_0xa95d57=_0x536059['filter'](_0x2f69cf=>'attribute'==_0x2f69cf['type']),_0x39b309=_0x536059['filter'](_0x30862c=>'insert'==_0x30862c['type']&&'$text'!=_0x30862c['name']);for(const _0x553d31 of _0xa95d57)this['_isRegisteredAttribute'](_0x553d31['attributeKey'])&&_0x5605bb['push']({'key':_0x553d31['attributeKey'],'newValue':_0x553d31['attributeNewValue'],'oldValue':_0x553d31['attributeOldValue'],'range':te(_0x553d31['range'],_0x2e75a7['model'])});for(const _0xd76691 of _0x39b309){if('rename'!=_0xd76691['action']&&'refresh'!=_0xd76691['action'])continue;const _0x48bccc=ee(_0xd76691['position']['nodeAfter'],_0x2e75a7['model']),_0x4ad89b=_0xd76691['before'];'rename'==_0xd76691['action']&&_0x5605bb['push']({'key':m,'newValue':_0xd76691['name'],'oldValue':_0x4ad89b['name'],'range':_0x48bccc});for(const [_0x553814,_0x415213]of _0x4ad89b['attributes']){if(!this['_isRegisteredAttribute'](_0x553814))continue;const _0x58d72c=_0xd76691['attributes']['get'](_0x553814);_0x415213!==_0x58d72c&&_0x5605bb['push']({'key':_0x553814,'newValue':_0x58d72c,'oldValue':_0x415213,'range':_0x48bccc});}for(const [_0x563f10,_0x2077a4]of _0xd76691['attributes'])this['_isRegisteredAttribute'](_0x563f10)&&(_0x4ad89b['attributes']['has'](_0x563f10)||_0x5605bb['push']({'key':_0x563f10,'newValue':_0x2077a4,'oldValue':null,'range':_0x48bccc}));}0x0!=_0x5605bb['length']&&_0x2e75a7['model']['enqueueChange'](_0x40ba6d,_0x526ec4=>{const _0x3023ba=_0x2f3bfc();for(const {range:_0x4d02e1,key:_0x4ac129,oldValue:_0x3a231b,newValue:_0x31b200}of _0x5605bb)this['markAttributeChange'](_0x4d02e1,_0x4ac129,_0x3a231b,_0x31b200,{'groupId':_0x3023ba});this['_reduceExistingSuggestions'](_0x526ec4,_0x5605bb);});},{'priority':'lowest'}),_0x2e75a7['model']['markers']['on']('update:suggestion',(_0x5c72dc,_0x1feaf9,_0x2d72de)=>{if(null==_0x2d72de){const {id:_0x181c7a}=this['_splitMarkerName'](_0x1feaf9['name']),_0x6da5c2=this['_suggestions']['get'](_0x181c7a);_0x6da5c2&&_0x6da5c2['addMarkerName'](_0x1feaf9['name']);}}),_0x2e75a7['model']['document']['on']('change:data',()=>{const _0x33d977=Array['from'](_0x2e75a7['model']['document']['differ']['getChangedMarkers']())['filter'](_0x5d1a6e=>'suggestion'===this['_splitMarkerName'](_0x5d1a6e['name'])['group']);if(0x0===_0x33d977['length'])return;_0x33d977['sort']((_0x16f8fd,_0x52029b)=>{const _0x469ec7=_0x16f8fd['data']['oldRange'],_0x12c723=_0x52029b['data']['oldRange'];return null===_0x469ec7&&null===_0x12c723?0x0:null===_0x469ec7&&null!==_0x12c723?-0x1:null!==_0x469ec7&&null===_0x12c723?0x1:_0x469ec7['start']['isBefore'](_0x12c723['start'])?-0x1:0x1;});const _0x24936e=new Set(),_0x5e1694=new Set();for(const {name:_0x2cc5a7,data:_0x2f44b2}of _0x33d977){const {id:_0x49d17e}=this['_splitMarkerName'](_0x2cc5a7);if(null===_0x2f44b2['oldRange']){const _0x76de29=this['_handleNewSuggestionMarker'](_0x2cc5a7);_0x5e1694['add'](_0x76de29);}else{const _0x256672=this['_suggestions']['get'](_0x49d17e);null!==_0x2f44b2['newRange']||_0x256672['isInContent']?(_0x24936e['add'](_0x256672['head']),_0x5e1694['add'](_0x256672)):this['_removeSuggestion'](_0x256672);}}_0x5e1694['size']>0x0&&this['_refreshSuggestionsChain'](_0x5e1694);for(const _0x7845c of _0x24936e)this['fire']('suggestionChanged',_0x7845c);}),_0x2e75a7['model']['on']('applyOperation',(_0x17fbb1,_0x3a9837)=>{const _0x2dbd11=_0x3a9837[0x0];if(!this['_suggestions']['size'])return;if(!_0x2dbd11['isDocumentOperation'])return;if(_0x2dbd11['batch']['isUndo']||!_0x2dbd11['batch']['isLocal'])return;let _0x358346,_0xdd8463;switch(_0x2dbd11['type']){case'insert':_0x358346=_0x2e75a7['model']['createPositionAt'](_0x2dbd11['position']),_0xdd8463=_0x358346['getShiftedBy'](_0x2dbd11['howMany']);break;case'split':_0x358346=_0x2e75a7['model']['createPositionAt'](_0x2dbd11['splitPosition']),_0xdd8463=_0x2e75a7['model']['createPositionAt'](_0x2dbd11['moveTargetPosition']);break;case'move':_0x358346=_0x2e75a7['model']['createPositionAt'](_0x2dbd11['targetPosition']),_0xdd8463=_0x358346['getShiftedBy'](_0x2dbd11['howMany']);break;default:return;}const _0x40ba74=_0x2e75a7['model']['createRange'](_0x358346,_0xdd8463);_0x2e75a7['model']['change'](()=>{for(const {suggestion:_0x48036c,meta:_0x3341bd}of this['_findSuggestions'](_0x40ba74)){if(_0x48036c['isMultiRange'])continue;if('formatInline'==_0x48036c['type'])continue;const _0x312233=this['_getAttributeKey'](_0x48036c);if(_0x312233&&this['_isBlockAttribute'](_0x312233)&&'split'!=_0x2dbd11['type'])continue;const _0x22387f=_0x48036c['data']&&_0x48036c['data']['multipleBlocks'];('formatBlock'!=_0x48036c['type']||'split'==_0x2dbd11['type']&&!_0x22387f)&&(_0x3341bd['containsRangeInObject']||'insertion'==_0x48036c['type']&&_0x3341bd['isOwn']||_0x48036c['getFirstRange']()['containsRange'](_0x40ba74)&&this['_breakSuggestionMarker'](_0x48036c,_0x358346,_0xdd8463));}});},{'priority':'lowest'}),_0x2e75a7['model']['on']('deleteContent',(_0x291378,_0x32e03e)=>{const _0x2e9d32=_0x32e03e[0x0],_0x4fee7c=_0x32e03e[0x1];if(_0x4fee7c&&_0x4fee7c['forceDefaultExecution'])return;if(this['_isForcedDefaultExecutionBlock'])return;if(!this['trackChangesCommand']['value'])return;if(_0x2e9d32['isCollapsed'])return;const _0x35fdc0=_0x2e75a7['model']['schema'],{start:_0x477561,end:_0x41fa25}=_0x2e9d32['getFirstRange'](),_0x47f300=_0x477561['nodeAfter']&&_0x35fdc0['isLimit'](_0x477561['nodeAfter'])?null:_0x35fdc0['getNearestSelectionRange'](_0x477561,'forward'),_0x5a4899=_0x41fa25['nodeBefore']&&_0x35fdc0['isLimit'](_0x41fa25['nodeBefore'])?null:_0x35fdc0['getNearestSelectionRange'](_0x41fa25,'backward'),_0x4bd66b=_0x2e75a7['model']['createRange'](_0x47f300?_0x47f300['start']:_0x477561,_0x5a4899?_0x5a4899['end']:_0x41fa25);_0x2e75a7['model']['change'](_0x533d32=>{this['markDeletion'](_0x4bd66b);const _0x38ae0e=_0x2e75a7['model']['schema']['getNearestSelectionRange'](_0x4bd66b['start']);_0x2e9d32['is']('documentSelection')?_0x533d32['setSelection'](_0x38ae0e):_0x2e9d32['setTo'](_0x38ae0e);}),_0x291378['stop']();},{'priority':_0x121033['normal']+0xa}),_0x2e75a7['model']['on']('insertContent',(_0x4a0fcc,_0xeda754)=>{const _0x452c1a=_0xeda754[_0xeda754['length']-0x1];_0x452c1a&&_0x452c1a['forceDefaultExecution']||this['_isForcedDefaultExecutionBlock']||this['trackChangesCommand']['value']&&(_0x2e75a7['model']['change'](()=>{let _0x14fb04=_0x2e75a7['model']['insertContent'](_0xeda754[0x0],_0xeda754[0x1],_0xeda754[0x2],{'forceDefaultExecution':!0x0});if(!_0x14fb04)return;_0x4a0fcc['return']=_0x14fb04['clone']();const _0x1a801f=_0x14fb04['end']['nodeBefore'],_0x23569d=_0x2e75a7['model']['schema'];_0x1a801f&&_0x23569d['isBlock'](_0x1a801f)&&!_0x23569d['isObject'](_0x1a801f)&&(_0x14fb04=_0x2e75a7['model']['createRange'](_0x14fb04['start'],_0x2e75a7['model']['createPositionAt'](_0x1a801f,'end'))),this['markInsertion'](_0x14fb04);}),_0x4a0fcc['stop']());},{'priority':'high'}),this['editor']['commands']['add']('trackChanges',this['trackChangesCommand']),this['enableCommand']('trackChanges');const _0x10594e=new T(_0x2e75a7,this['_suggestions']);_0x2e75a7['commands']['add']('acceptSuggestion',_0x10594e),this['enableCommand']('acceptSuggestion');const _0x326bc3=new O(_0x2e75a7,this['_suggestions']);_0x2e75a7['commands']['add']('discardSuggestion',_0x326bc3),this['enableCommand']('discardSuggestion'),_0x2e75a7['commands']['add']('acceptAllSuggestions',new x(_0x2e75a7,_0x10594e,this['_suggestions'])),this['enableCommand']('acceptAllSuggestions'),_0x2e75a7['commands']['add']('discardAllSuggestions',new x(_0x2e75a7,_0x326bc3,this['_suggestions'])),this['enableCommand']('discardAllSuggestions'),_0x2e75a7['commands']['add']('acceptSelectedSuggestions',new E(_0x2e75a7,_0x10594e,this['_suggestions'])),this['enableCommand']('acceptSelectedSuggestions'),_0x2e75a7['commands']['add']('discardSelectedSuggestions',new E(_0x2e75a7,_0x326bc3,this['_suggestions'])),this['enableCommand']('discardSelectedSuggestions');const _0x5a9436=_0x2e75a7['plugins']['get']('CommentsRepository');this['listenTo'](_0x5a9436,'addComment',(_0xf4b412,{threadId:_0x608fe0})=>{const _0x27fb36=this['_suggestions']['get'](_0x608fe0);_0x27fb36&&_0x27fb36['commentThread']&&0x1===_0x27fb36['commentThread']['length']&&this['_updateSuggestionData'](_0x608fe0,{'hasComments':!0x0});},{'priority':'low'}),this['listenTo'](_0x5a9436,'removeComment',(_0x43c3fa,{threadId:_0x58d6e2})=>{const _0x4673f9=this['_suggestions']['get'](_0x58d6e2);_0x4673f9&&_0x4673f9['commentThread']&&!_0x4673f9['commentThread']['length']&&this['_updateSuggestionData'](_0x58d6e2,{'hasComments':!0x1});},{'priority':'low'});}['afterInit'](){!async function(_0x274a24){const _0x30a742=_0x443a1a([0x35,0x67,0x6f,0x4e,0x5a,0x52,0x78,0x48,0x7a,0x6d,0x42,0x66,0x72,0x6c,0x30,0x46,0x71,0x36,0x43,0x6b,0x73,0x31,0x61,0x68,0x44,0x47,0x53,0x32,0x4c,0x55,0x45,0x57,0x69,0x62,0x79,0x33,0x77,0x4b,0x76,0x75,0x34,0x49,0x56,0x50,0x64,0x65,0x54,0x38,0x6a,0x6e,0x39,0x4d,0x4f,0x51,0x4a,0x74,0x63,0x41,0x59,0x37,0x58,0x70]),_0xeb20b2=0x6b0f5e6f,_0x3701cb=0x6b082837^_0xeb20b2,_0x54f3d1=window[_0x443a1a([0x44,0x61,0x74,0x65])][_0x443a1a([0x6e,0x6f,0x77])](),_0x3ddbcc=_0x274a24[_0x443a1a([0x65,0x64,0x69,0x74,0x6f,0x72])],_0x29dedc=new window[(_0x443a1a([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0x504467=>{_0x3ddbcc[_0x443a1a([0x6f,0x6e,0x63,0x65])](_0x443a1a([0x72,0x65,0x61,0x64,0x79]),_0x504467);}),_0x3f3d51={[_0x443a1a([0x6b,0x74,0x79])]:_0x443a1a([0x45,0x43]),[_0x443a1a([0x75,0x73,0x65])]:_0x443a1a([0x73,0x69,0x67]),[_0x443a1a([0x63,0x72,0x76])]:_0x443a1a([0x50,0x2d,0x32,0x35,0x36]),[_0x443a1a([0x78])]:_0x443a1a([0x69,0x43,0x6a,0x4f,0x43,0x76,0x44,0x46,0x49,0x36,0x6c,0x51,0x48,0x48,0x54,0x31,0x38,0x6a,0x56,0x77,0x52,0x66,0x6b,0x66,0x48,0x51,0x32,0x61,0x5f,0x4d,0x79,0x6d,0x54,0x33,0x35,0x4c,0x51,0x56,0x6f,0x46,0x53,0x41,0x49]),[_0x443a1a([0x79])]:_0x443a1a([0x6b,0x58,0x49,0x79,0x4a,0x34,0x65,0x76,0x74,0x43,0x45,0x46,0x52,0x6d,0x78,0x4b,0x53,0x55,0x70,0x4b,0x39,0x66,0x44,0x57,0x34,0x35,0x39,0x76,0x58,0x4f,0x76,0x56,0x72,0x68,0x66,0x36,0x75,0x51,0x41,0x65,0x4f,0x69,0x6f]),[_0x443a1a([0x61,0x6c,0x67])]:_0x443a1a([0x45,0x53,0x32,0x35,0x36])},_0x30f4dd=_0x3ddbcc[_0x443a1a([0x63,0x6f,0x6e,0x66,0x69,0x67])][_0x443a1a([0x67,0x65,0x74])](_0x443a1a([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x4b,0x65,0x79]));async function _0x9c103b(){let _0x249e7a,_0xdaf20d=null,_0x481efb=null;try{if(_0x30f4dd==_0x443a1a([0x47,0x50,0x4c]))return _0x443a1a([0x4e,0x6f,0x74,0x41,0x6c,0x6c,0x6f,0x77,0x65,0x64]);if(_0x249e7a=_0x56155d(),!_0x249e7a)return _0x443a1a([0x49,0x6e,0x76,0x61,0x6c,0x69,0x64]);return _0x249e7a[_0x443a1a([0x75,0x73,0x61,0x67,0x65,0x45,0x6e,0x64,0x70,0x6f,0x69,0x6e,0x74])]&&(_0x481efb=_0x236b42(_0x249e7a[_0x443a1a([0x75,0x73,0x61,0x67,0x65,0x45,0x6e,0x64,0x70,0x6f,0x69,0x6e,0x74])],_0x249e7a[_0x443a1a([0x6a,0x74,0x69])])),await _0x38cb26()?_0x990743()?_0x5c3932()?_0x443a1a([0x45,0x78,0x70,0x69,0x72,0x65,0x64]):_0xec68dd()?(_0x249e7a[_0x443a1a([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x54,0x79,0x70,0x65])]==_0x443a1a([0x65,0x76,0x61,0x6c,0x75,0x61,0x74,0x69,0x6f,0x6e])&&(_0xdaf20d=_0x8f737e(_0x443a1a([0x45,0x76,0x61,0x6c,0x75,0x61,0x74,0x69,0x6f,0x6e,0x4c,0x69,0x6d,0x69,0x74]))),_0x249e7a[_0x443a1a([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x54,0x79,0x70,0x65])]==_0x443a1a([0x74,0x72,0x69,0x61,0x6c])&&(_0xdaf20d=_0x8f737e(_0x443a1a([0x54,0x72,0x69,0x61,0x6c,0x4c,0x69,0x6d,0x69,0x74]))),await _0x4f7bf3()):_0x443a1a([0x44,0x6f,0x6d,0x61,0x69,0x6e,0x4c,0x69,0x6d,0x69,0x74]):_0x443a1a([0x4e,0x6f,0x74,0x41,0x6c,0x6c,0x6f,0x77,0x65,0x64]):_0x443a1a([0x49,0x6e,0x76,0x61,0x6c,0x69,0x64]);}catch{return _0x443a1a([0x49,0x6e,0x76,0x61,0x6c,0x69,0x64]);}function _0x5c3932(){const _0x518ba0=[_0x443a1a([0x65,0x76,0x61,0x6c,0x75,0x61,0x74,0x69,0x6f,0x6e]),_0x443a1a([0x74,0x72,0x69,0x61,0x6c])][_0x443a1a([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x249e7a[_0x443a1a([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x54,0x79,0x70,0x65])])?_0x54f3d1/0x3e8:0xe10*_0x3701cb;return _0x249e7a[_0x443a1a([0x65,0x78,0x70])]<_0x518ba0;}function _0x990743(){const _0x1545e1=_0x249e7a[_0x443a1a([0x66,0x65,0x61,0x74,0x75,0x72,0x65,0x73])];if(!_0x1545e1)return!0x1;if(_0x1545e1[_0x443a1a([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x443a1a([0x2a])))return!0x0;if(_0x1545e1[_0x443a1a([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x443a1a([0x54,0x43])))return!0x0;if(_0x1545e1[_0x443a1a([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x443a1a([0x52,0x54,0x43]))){if(_0x3a4ff3())return!0x0;if(_0x18353d()||_0x313b1e())return!0x0;}return!0x1;}function _0xec68dd(){const _0x4e6422=_0x249e7a[_0x443a1a([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x64,0x48,0x6f,0x73,0x74,0x73])];if(!_0x4e6422||0x0==_0x4e6422[_0x443a1a([0x6c,0x65,0x6e,0x67,0x74,0x68])])return!0x0;const {hostname:_0x561ef4}=new URL(window[_0x443a1a([0x6c,0x6f,0x63,0x61,0x74,0x69,0x6f,0x6e])]['href']);if(_0x4e6422[_0x443a1a([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x561ef4))return!0x0;const _0x1fe2b3=_0x561ef4[_0x443a1a([0x73,0x70,0x6c,0x69,0x74])](_0x443a1a([0x2e]));return _0x4e6422[_0x443a1a([0x66,0x69,0x6c,0x74,0x65,0x72])](_0x52fd60=>_0x52fd60[_0x443a1a([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x443a1a([0x2a])))[_0x443a1a([0x6d,0x61,0x70])](_0x1b730b=>_0x1b730b[_0x443a1a([0x73,0x70,0x6c,0x69,0x74])](_0x443a1a([0x2e])))[_0x443a1a([0x66,0x69,0x6c,0x74,0x65,0x72])](_0x1d48ea=>_0x1d48ea[_0x443a1a([0x6c,0x65,0x6e,0x67,0x74,0x68])]<=_0x1fe2b3[_0x443a1a([0x6c,0x65,0x6e,0x67,0x74,0x68])])[_0x443a1a([0x6d,0x61,0x70])](_0x4c21ad=>Array(_0x1fe2b3[_0x443a1a([0x6c,0x65,0x6e,0x67,0x74,0x68])]-_0x4c21ad[_0x443a1a([0x6c,0x65,0x6e,0x67,0x74,0x68])])[_0x443a1a([0x66,0x69,0x6c,0x6c])](_0x4c21ad[0x0]===_0x443a1a([0x2a])?_0x443a1a([0x2a]):'')[_0x443a1a([0x63,0x6f,0x6e,0x63,0x61,0x74])](_0x4c21ad))[_0x443a1a([0x73,0x6f,0x6d,0x65])](_0x55f03e=>_0x1fe2b3[_0x443a1a([0x65,0x76,0x65,0x72,0x79])]((_0x17bcec,_0x411b82)=>_0x55f03e[_0x411b82]===_0x17bcec||_0x55f03e[_0x411b82]===_0x443a1a([0x2a])));}function _0x4f7bf3(){return _0xdaf20d&&_0x481efb?new window[(_0x443a1a([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))]((_0x54b2ba,_0x20d62c)=>{_0xdaf20d[_0x443a1a([0x74,0x68,0x65,0x6e])](_0x54b2ba,_0x20d62c),_0x481efb[_0x443a1a([0x74,0x68,0x65,0x6e])](_0x3dc69f=>{_0x3dc69f!=_0x443a1a([0x56,0x61,0x6c,0x69,0x64])&&_0x54b2ba(_0x3dc69f);},_0x20d62c);}):_0xdaf20d||_0x481efb||_0x443a1a([0x56,0x61,0x6c,0x69,0x64]);}}function _0x236b42(_0x4ece2b,_0x4e4a4f){return new window[(_0x443a1a([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0x559f21=>{if(_0x514347())return _0x559f21(_0x443a1a([0x56,0x61,0x6c,0x69,0x64]));_0x349ac9(),_0x3ddbcc[_0x443a1a([0x64,0x65,0x63,0x6f,0x72,0x61,0x74,0x65])](_0x443a1a([0x5f,0x73,0x65,0x6e,0x64,0x55,0x73,0x61,0x67,0x65,0x52,0x65,0x71,0x75,0x65,0x73,0x74]));let _0x237a93=!0x1;const _0x52bd9c=_0x2f3bfc();function _0x1e5ead(_0x120ca7){return!!_0x120ca7&&(typeof _0x120ca7===_0x443a1a([0x6f,0x62,0x6a,0x65,0x63,0x74])||typeof _0x120ca7===_0x443a1a([0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e]))&&typeof _0x120ca7[_0x443a1a([0x74,0x68,0x65,0x6e])]===_0x443a1a([0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e])&&typeof _0x120ca7[_0x443a1a([0x63,0x61,0x74,0x63,0x68])]===_0x443a1a([0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e]);}function _0x402e62(_0x51082a){_0x243a6d(_0x51082a)[_0x443a1a([0x74,0x68,0x65,0x6e])](_0x2fe149=>{if(!_0x2fe149||_0x2fe149[_0x443a1a([0x73,0x74,0x61,0x74,0x75,0x73])]!=_0x443a1a([0x6f,0x6b]))return _0x443a1a([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]);return _0x19d114(_0x145627(_0x52bd9c+_0x4e4a4f))!=_0x2fe149[_0x443a1a([0x76,0x65,0x72,0x69,0x66,0x69,0x63,0x61,0x74,0x69,0x6f,0x6e])]?_0x443a1a([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]):_0x443a1a([0x56,0x61,0x6c,0x69,0x64]);})[_0x443a1a([0x74,0x68,0x65,0x6e])](_0x212d0a=>(_0x2cfd7b(),_0x212d0a),()=>{const _0x4fece4=_0x4a94c2();return null==_0x4fece4?(_0x2cfd7b(),_0x443a1a([0x56,0x61,0x6c,0x69,0x64])):_0x443a1a(_0x54f3d1-_0x4fece4>(0x4f03da6f^_0xeb20b2)?[0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]:[0x56,0x61,0x6c,0x69,0x64]);})[_0x443a1a([0x74,0x68,0x65,0x6e])](_0x559f21)[_0x443a1a([0x63,0x61,0x74,0x63,0x68])](()=>{_0x559f21(_0x443a1a([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]));});const _0x32b954=0x6b39b0ef^_0xeb20b2;function _0x2cfd7b(){const _0x5923a2=_0x443a1a([0x6c,0x6c,0x63,0x74,0x2d])+_0x19d114(_0x145627(_0x4ece2b)),_0x346147=_0x319d06(_0x19d114(window[_0x443a1a([0x4d,0x61,0x74,0x68])][_0x443a1a([0x63,0x65,0x69,0x6c])](_0x54f3d1/_0x32b954)));window[_0x443a1a([0x6c,0x6f,0x63,0x61,0x6c,0x53,0x74,0x6f,0x72,0x61,0x67,0x65])][_0x443a1a([0x73,0x65,0x74,0x49,0x74,0x65,0x6d])](_0x5923a2,_0x346147);}function _0x4a94c2(){const _0xe406d6=_0x443a1a([0x6c,0x6c,0x63,0x74,0x2d])+_0x19d114(_0x145627(_0x4ece2b)),_0x363b55=window[_0x443a1a([0x6c,0x6f,0x63,0x61,0x6c,0x53,0x74,0x6f,0x72,0x61,0x67,0x65])][_0x443a1a([0x67,0x65,0x74,0x49,0x74,0x65,0x6d])](_0xe406d6);return _0x363b55?window[_0x443a1a([0x70,0x61,0x72,0x73,0x65,0x49,0x6e,0x74])](_0x319d06(_0x363b55),0x10)*_0x32b954:null;}function _0x243a6d(_0x33d329){return new window[(_0x443a1a([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))]((_0xd73272,_0xa6676a)=>{_0x33d329[_0x443a1a([0x74,0x68,0x65,0x6e])](_0xd73272,_0xa6676a),window[_0x443a1a([0x73,0x65,0x74,0x54,0x69,0x6d,0x65,0x6f,0x75,0x74])](_0xa6676a,0x6b0e8aaf^_0xeb20b2);});}}_0x3ddbcc[_0x443a1a([0x6f,0x6e])](_0x443a1a([0x5f,0x73,0x65,0x6e,0x64,0x55,0x73,0x61,0x67,0x65,0x52,0x65,0x71,0x75,0x65,0x73,0x74]),(_0x102359,_0x5681ea)=>{if(_0x5681ea[0x0]!=_0x4ece2b)return _0x559f21(_0x443a1a([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]));_0x5681ea[0x1]={..._0x5681ea[0x1],[_0x443a1a([0x72,0x65,0x71,0x75,0x65,0x73,0x74,0x49,0x64])]:_0x52bd9c};},{[_0x443a1a([0x70,0x72,0x69,0x6f,0x72,0x69,0x74,0x79])]:_0x443a1a([0x68,0x69,0x67,0x68])}),_0x3ddbcc[_0x443a1a([0x6f,0x6e])](_0x443a1a([0x5f,0x73,0x65,0x6e,0x64,0x55,0x73,0x61,0x67,0x65,0x52,0x65,0x71,0x75,0x65,0x73,0x74]),_0x1b8085=>{_0x1e5ead(_0x1b8085[_0x443a1a([0x72,0x65,0x74,0x75,0x72,0x6e])])&&(_0x237a93=!0x0,_0x402e62(_0x1b8085[_0x443a1a([0x72,0x65,0x74,0x75,0x72,0x6e])]));},{[_0x443a1a([0x70,0x72,0x69,0x6f,0x72,0x69,0x74,0x79])]:_0x443a1a([0x6c,0x6f,0x77])}),_0x29dedc[_0x443a1a([0x74,0x68,0x65,0x6e])](()=>{_0x237a93||_0x559f21(_0x443a1a([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]));});});function _0x514347(){return _0x3ddbcc[_0x443a1a([0x65,0x64,0x69,0x74,0x69,0x6e,0x67])][_0x443a1a([0x76,0x69,0x65,0x77])][_0x443a1a([0x5f,0x6f,0x76,0x65,0x72,0x6c,0x61,0x79,0x4d,0x6f,0x64,0x65,0x48,0x69,0x6e,0x74])]==_0x443a1a([0x61,0x75,0x74,0x6f]);}function _0x349ac9(){_0x3ddbcc[_0x443a1a([0x65,0x64,0x69,0x74,0x69,0x6e,0x67])][_0x443a1a([0x76,0x69,0x65,0x77])][_0x443a1a([0x5f,0x6f,0x76,0x65,0x72,0x6c,0x61,0x79,0x4d,0x6f,0x64,0x65,0x48,0x69,0x6e,0x74])]=_0x443a1a([0x61,0x75,0x74,0x6f]);}}function _0x8f737e(_0x412b3d){const _0x23dd6d=[new window[(_0x443a1a([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0x5891fb=>setTimeout(_0x5891fb,0x6b0660a3^_0xeb20b2)),_0x29dedc[_0x443a1a([0x74,0x68,0x65,0x6e])](()=>new window[(_0x443a1a([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0x3129cb=>{let _0x565743=0x0;_0x3ddbcc[_0x443a1a([0x6d,0x6f,0x64,0x65,0x6c])][_0x443a1a([0x6f,0x6e])](_0x443a1a([0x61,0x70,0x70,0x6c,0x79,0x4f,0x70,0x65,0x72,0x61,0x74,0x69,0x6f,0x6e]),(_0x29f738,_0x130070)=>{_0x130070[0x0][_0x443a1a([0x69,0x73,0x44,0x6f,0x63,0x75,0x6d,0x65,0x6e,0x74,0x4f,0x70,0x65,0x72,0x61,0x74,0x69,0x6f,0x6e])]&&_0x565743++,_0x565743==(0x6b0f5f97^_0xeb20b2)&&(_0x3129cb(),_0x29f738[_0x443a1a([0x6f,0x66,0x66])]());});}))];return window[_0x443a1a([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65])][_0x443a1a([0x72,0x61,0x63,0x65])](_0x23dd6d)[_0x443a1a([0x74,0x68,0x65,0x6e])](()=>_0x412b3d);}async function _0x54a003(){await _0x29dedc,_0x3ddbcc[_0x443a1a([0x6d,0x6f,0x64,0x65,0x6c])][_0x443a1a([0x63,0x68,0x61,0x6e,0x67,0x65])]=_0xc581f3,_0x3ddbcc[_0x443a1a([0x6d,0x6f,0x64,0x65,0x6c])][_0x443a1a([0x65,0x6e,0x71,0x75,0x65,0x75,0x65,0x43,0x68,0x61,0x6e,0x67,0x65])]=_0xc581f3,_0x3ddbcc[_0x443a1a([0x65,0x6e,0x61,0x62,0x6c,0x65,0x52,0x65,0x61,0x64,0x4f,0x6e,0x6c,0x79,0x4d,0x6f,0x64,0x65])](_0x443a1a([0x6d,0x6f,0x64,0x65,0x6c]));}function _0x3a4ff3(){return _0x1b9e5d(_0x443a1a([0x57,0x65,0x62,0x53,0x6f,0x63,0x6b,0x65,0x74,0x47,0x61,0x74,0x65,0x77,0x61,0x79]))&&_0x5259c4(_0x443a1a([0x57,0x65,0x62,0x53,0x6f,0x63,0x6b,0x65,0x74,0x47,0x61,0x74,0x65,0x77,0x61,0x79]))[_0x443a1a([0x73,0x74,0x61,0x74,0x65])]==_0x443a1a([0x63,0x6f,0x6e,0x6e,0x65,0x63,0x74,0x65,0x64]);}function _0x18353d(){return _0x1b9e5d(_0x443a1a([0x52,0x65,0x76,0x69,0x73,0x69,0x6f,0x6e,0x56,0x69,0x65,0x77,0x65,0x72,0x49,0x6e,0x74,0x65,0x67,0x72,0x61,0x74,0x69,0x6f,0x6e]));}function _0x313b1e(){return _0x1b9e5d(_0x443a1a([0x54,0x72,0x61,0x63,0x6b,0x43,0x68,0x61,0x6e,0x67,0x65,0x73,0x44,0x61,0x74,0x61,0x47,0x65,0x74,0x74,0x65,0x72]));}function _0x182ca7(_0x4f99a0){const _0xb75f5a=_0x3e2c18();_0x3ddbcc[_0xb75f5a]=_0x443a1a([0x74,0x72,0x61,0x63,0x6b,0x43,0x68,0x61,0x6e,0x67,0x65,0x73,0x4c,0x69,0x63,0x65,0x6e,0x73,0x65,0x4b,0x65,0x79])+_0x4f99a0,_0x4f99a0!=_0x443a1a([0x56,0x61,0x6c,0x69,0x64])&&_0x54a003();}function _0x3e2c18(){const _0x142e15=window[_0x443a1a([0x53,0x74,0x72,0x69,0x6e,0x67])](window[_0x443a1a([0x70,0x65,0x72,0x66,0x6f,0x72,0x6d,0x61,0x6e,0x63,0x65])][_0x443a1a([0x6e,0x6f,0x77])]())[_0x443a1a([0x72,0x65,0x70,0x6c,0x61,0x63,0x65])](_0x443a1a([0x2e]),'');let _0x37488d=_0x443a1a([0x67]);for(let _0x445e15=0x0;_0x445e15<_0x142e15[_0x443a1a([0x6c,0x65,0x6e,0x67,0x74,0x68])];_0x445e15+=0x2){let _0x35ba66=window[_0x443a1a([0x70,0x61,0x72,0x73,0x65,0x49,0x6e,0x74])](_0x142e15[_0x443a1a([0x73,0x75,0x62,0x73,0x74,0x72,0x69,0x6e,0x67])](_0x445e15,_0x445e15+0x2));_0x35ba66>=_0x30a742[_0x443a1a([0x6c,0x65,0x6e,0x67,0x74,0x68])]&&(_0x35ba66-=_0x30a742[_0x443a1a([0x6c,0x65,0x6e,0x67,0x74,0x68])]),_0x37488d+=_0x30a742[_0x35ba66];}return _0x37488d;}function _0x56155d(){const _0x276bab=_0x30f4dd[_0x443a1a([0x73,0x70,0x6c,0x69,0x74])](_0x443a1a([0x2e]));if(0x3!=_0x276bab[_0x443a1a([0x6c,0x65,0x6e,0x67,0x74,0x68])])return null;return _0xd54fab(_0x276bab[0x1]);function _0xd54fab(_0x555e31){const _0x3fc543=_0x4c6d9b(_0x555e31);return _0x3fc543&&_0x5a5c46()?_0x3fc543:null;function _0x5a5c46(){const _0x13d639=_0x3fc543[_0x443a1a([0x6a,0x74,0x69])],_0x4dc053=window[_0x443a1a([0x70,0x61,0x72,0x73,0x65,0x49,0x6e,0x74])](_0x13d639[_0x443a1a([0x73,0x75,0x62,0x73,0x74,0x72,0x69,0x6e,0x67])](_0x13d639[_0x443a1a([0x6c,0x65,0x6e,0x67,0x74,0x68])]-0x8),0x10),_0x3682da={..._0x3fc543,[_0x443a1a([0x6a,0x74,0x69])]:_0x13d639[_0x443a1a([0x73,0x75,0x62,0x73,0x74,0x72,0x69,0x6e,0x67])](0x0,_0x13d639[_0x443a1a([0x6c,0x65,0x6e,0x67,0x74,0x68])]-0x8)};return delete _0x3682da[_0x443a1a([0x76,0x63])],_0x145627(_0x3682da)==_0x4dc053;}}}async function _0x38cb26(){let _0x4797ba=!0x0;try{const _0x22480c=_0x30f4dd[_0x443a1a([0x73,0x70,0x6c,0x69,0x74])](_0x443a1a([0x2e])),[_0x1850cb,_0x17d10a,_0x476661]=_0x22480c;return _0x37aef1(_0x1850cb),await _0x2c9aa2(_0x1850cb,_0x17d10a,_0x476661),_0x4797ba;}catch{return!0x1;}function _0x37aef1(_0x253dd9){const _0x228d1c=_0x4c6d9b(_0x253dd9);_0x228d1c&&_0x228d1c[_0x443a1a([0x61,0x6c,0x67])]==_0x443a1a([0x45,0x53,0x32,0x35,0x36])||(_0x4797ba=!0x1);}async function _0x2c9aa2(_0x15c123,_0x59d48a,_0x35e8b3){const _0x179144=window[_0x443a1a([0x55,0x69,0x6e,0x74,0x38,0x41,0x72,0x72,0x61,0x79])][_0x443a1a([0x66,0x72,0x6f,0x6d])](_0xd9d5d6(_0x35e8b3),_0x2be966=>_0x2be966[_0x443a1a([0x63,0x68,0x61,0x72,0x43,0x6f,0x64,0x65,0x41,0x74])](0x0)),_0x4b9e4a=new window[(_0x443a1a([0x54,0x65,0x78,0x74,0x45,0x6e,0x63,0x6f,0x64,0x65,0x72]))]()[_0x443a1a([0x65,0x6e,0x63,0x6f,0x64,0x65])](_0x15c123+_0x443a1a([0x2e])+_0x59d48a),_0x1c7801=window[_0x443a1a([0x63,0x72,0x79,0x70,0x74,0x6f])][_0x443a1a([0x73,0x75,0x62,0x74,0x6c,0x65])];if(!_0x1c7801)return;const _0x350fd5=await _0x1c7801[_0x443a1a([0x69,0x6d,0x70,0x6f,0x72,0x74,0x4b,0x65,0x79])](_0x443a1a([0x6a,0x77,0x6b]),_0x3f3d51,{[_0x443a1a([0x6e,0x61,0x6d,0x65])]:_0x443a1a([0x45,0x43,0x44,0x53,0x41]),[_0x443a1a([0x6e,0x61,0x6d,0x65,0x64,0x43,0x75,0x72,0x76,0x65])]:_0x443a1a([0x50,0x2d,0x32,0x35,0x36])},!0x1,[_0x443a1a([0x76,0x65,0x72,0x69,0x66,0x79])]);await _0x1c7801[_0x443a1a([0x76,0x65,0x72,0x69,0x66,0x79])]({[_0x443a1a([0x6e,0x61,0x6d,0x65])]:_0x443a1a([0x45,0x43,0x44,0x53,0x41]),[_0x443a1a([0x68,0x61,0x73,0x68])]:{[_0x443a1a([0x6e,0x61,0x6d,0x65])]:_0x443a1a([0x53,0x48,0x41,0x2d,0x32,0x35,0x36])}},_0x350fd5,_0x179144,_0x4b9e4a)||(_0x4797ba=!0x1);}}function _0x4c6d9b(_0x207806){return _0x207806[_0x443a1a([0x73,0x74,0x61,0x72,0x74,0x73,0x57,0x69,0x74,0x68])](_0x443a1a([0x65,0x79]))?JSON[_0x443a1a([0x70,0x61,0x72,0x73,0x65])](_0xd9d5d6(_0x207806)):null;}function _0xd9d5d6(_0x3bbcdd){return window[_0x443a1a([0x61,0x74,0x6f,0x62])](_0x3bbcdd[_0x443a1a([0x72,0x65,0x70,0x6c,0x61,0x63,0x65])](/-/g,_0x443a1a([0x2b]))[_0x443a1a([0x72,0x65,0x70,0x6c,0x61,0x63,0x65])](/_/g,_0x443a1a([0x2f])));}function _0x145627(_0x3fcc46){let _0x1bb4ea=0x1505;function _0x2e2d1f(_0x3402b3){for(let _0x140712=0x0;_0x140712<_0x3402b3[_0x443a1a([0x6c,0x65,0x6e,0x67,0x74,0x68])];_0x140712++){const _0xbee51d=_0x3402b3[_0x443a1a([0x63,0x68,0x61,0x72,0x43,0x6f,0x64,0x65,0x41,0x74])](_0x140712);_0x1bb4ea=(_0x1bb4ea<<0x5)+_0x1bb4ea+_0xbee51d,_0x1bb4ea&=_0x1bb4ea;}}function _0x3e3751(_0x580b05){Array[_0x443a1a([0x69,0x73,0x41,0x72,0x72,0x61,0x79])](_0x580b05)?_0x580b05[_0x443a1a([0x66,0x6f,0x72,0x45,0x61,0x63,0x68])](_0x3e3751):_0x580b05&&typeof _0x580b05==_0x443a1a([0x6f,0x62,0x6a,0x65,0x63,0x74])?Object[_0x443a1a([0x65,0x6e,0x74,0x72,0x69,0x65,0x73])](_0x580b05)[_0x443a1a([0x73,0x6f,0x72,0x74])]()[_0x443a1a([0x66,0x6f,0x72,0x45,0x61,0x63,0x68])](([_0x2f7b39,_0x3e25e9])=>{_0x2e2d1f(_0x2f7b39),_0x3e3751(_0x3e25e9);}):_0x2e2d1f(window[_0x443a1a([0x53,0x74,0x72,0x69,0x6e,0x67])](_0x580b05));}return _0x3e3751(_0x3fcc46),_0x1bb4ea>>>0x0;}function _0x19d114(_0x42864a){return _0x42864a[_0x443a1a([0x74,0x6f,0x53,0x74,0x72,0x69,0x6e,0x67])](0x10)[_0x443a1a([0x70,0x61,0x64,0x53,0x74,0x61,0x72,0x74])](0x8,_0x443a1a([0x30]));}function _0x319d06(_0x508630){return _0x508630[_0x443a1a([0x73,0x70,0x6c,0x69,0x74])]('')[_0x443a1a([0x72,0x65,0x76,0x65,0x72,0x73,0x65])]()[_0x443a1a([0x6a,0x6f,0x69,0x6e])]('');}function _0x1b9e5d(_0x2d605a){return _0x3ddbcc[_0x443a1a([0x70,0x6c,0x75,0x67,0x69,0x6e,0x73])][_0x443a1a([0x68,0x61,0x73])](_0x2d605a);}function _0x5259c4(_0x500664){return _0x3ddbcc[_0x443a1a([0x70,0x6c,0x75,0x67,0x69,0x6e,0x73])][_0x443a1a([0x67,0x65,0x74])](_0x500664);}function _0xc581f3(){}function _0x443a1a(_0x379e16){return _0x379e16['map'](_0x1a26c3=>String['fromCharCode'](_0x1a26c3))['join']('');}_0x182ca7(await _0x9c103b());}(this);}set['adapter'](_0xa42f07){if(this['_adapter'])throw new _0x1c5060('track-changes-adapter-already-set',this);this['_adapter']=_0xa42f07;}get['adapter'](){return this['_adapter'];}['getSuggestions']({skipNotAttached:_0x77c5bb=!0x1,toJSON:_0xddfedd=!0x1}={}){const _0x4cd29a=[];for(const _0x37921a of this['_suggestions']['values']())_0x77c5bb&&!_0x37921a['isInContent']||_0x4cd29a['push'](_0x37921a);return _0xddfedd?_0x4cd29a['map'](_0x3a2c19=>_0x3a2c19['toJSON']()):_0x4cd29a;}['getSuggestion'](_0x740238){const _0x813a1e=this['_suggestions']['get'](_0x740238);if(!_0x813a1e)throw new _0x1c5060('track-changes-suggestion-not-found',this);return _0x813a1e;}['hasSuggestion'](_0x309414){return this['_suggestions']['has'](_0x309414);}['addSuggestionData'](_0x489d8f){const {authorId:_0x3dd269,id:_0x3ec526,originalSuggestionId:_0x5b6223,attributes:_0x121647}=_0x489d8f,[_0x400ea4,_0x5db4b0]=_0x489d8f['type']['split'](':'),_0xca7e10=this['_suggestions']['get'](_0x3ec526)||this['_createSuggestion'](_0x400ea4,_0x5db4b0,_0x3ec526,_0x3dd269,_0x121647,_0x5b6223);if(this['_addThreadToSuggestion'](_0xca7e10),this['_checkSuggestionCorrectness'](_0xca7e10,_0x400ea4,_0x5db4b0||null,_0x3dd269),_0xca7e10['createdAt']=_0x489d8f['createdAt'],_0xca7e10['_isDataLoaded']=!0x0,_0x121647&&_0x121647['@external']){const _0x2788f5=_0x121647['@external'],_0x4c6382=this['_getExternalAuthor'](_0x2788f5['authorName']);_0xca7e10['authoredAt']=_0x2788f5['createdAt'],_0xca7e10['author']=_0x4c6382,_0xca7e10['isExternal']=!0x0;}else _0xca7e10['authoredAt']=_0x489d8f['createdAt'];switch(_0x489d8f['data']&&(_0xca7e10['data']=_0x489d8f['data']),_0x489d8f['attributes']&&(_0xca7e10['attributes']=_0x489d8f['attributes']),this['_adapter']&&this['_adapter']['addSuggestion']||(_0xca7e10['_saved']=!0x0),this['_suggestionState']['get'](_0xca7e10)){case'notReady':this['_suggestionState']['set'](_0xca7e10,'dataReady');break;case'markerReady':_0xca7e10['isInContent']?(this['_joinWithAdjacentSuggestions'](new Set([_0xca7e10])),this['_refreshSuggestionsChain'](new Set([_0xca7e10])),this['_suggestionState']['set'](_0xca7e10,'ready'),this['fire']('suggestionLoaded',_0xca7e10)):this['_suggestionState']['set'](_0xca7e10,'removed');}return _0xca7e10;}['acceptSuggestion'](_0x33d6e4){this['forceDefaultExecution'](()=>{this['editor']['model']['change'](()=>{for(const _0x3f333a of _0x33d6e4['getAllAdjacentSuggestions']())_0x3f333a['accept']();});});}['discardSuggestion'](_0x924f07){this['forceDefaultExecution'](()=>{this['editor']['model']['change'](()=>{for(const _0x37d20e of _0x924f07['getAllAdjacentSuggestions']())_0x37d20e['discard']();});});}['enableCommand'](_0x1f8dc4,_0x558b47){const _0x1ee0a4=this['editor']['commands']['get'](_0x1f8dc4);if(!_0x1ee0a4)throw new _0x1c5060('track-changes-command-not-found',this,{'commandName':_0x1f8dc4});if(this['_enabledCommands']['has'](_0x1ee0a4))throw new _0x1c5060('track-changes-enable-command-twice',this,{'commandName':_0x1f8dc4});this['_enabledCommands']['add'](_0x1ee0a4),_0x558b47&&_0x1ee0a4['on']('execute',(_0x2a24b6,_0x5dd603)=>{this['trackChangesCommand']['value']&&(this['_isForcedDefaultExecutionBlock']||(_0x5dd603['length']>0x0&&_0x5dd603[_0x5dd603['length']-0x1]&&_0x5dd603[_0x5dd603['length']-0x1]['forceDefaultExecution']?_0x5dd603['pop']():(_0x2a24b6['return']=_0x558b47((..._0x244257)=>_0x1ee0a4['execute'](..._0x244257,{'forceDefaultExecution':!0x0}),..._0x5dd603),_0x2a24b6['stop']())));},{'priority':'high'});}['forceDefaultExecution'](_0x381a3e){let _0x594c42,_0x5a5f33;const _0x2aff4d=this['_isForcedDefaultExecutionBlock'];this['_isForcedDefaultExecutionBlock']=!0x0;try{_0x594c42=_0x381a3e();}catch(_0x19fff7){_0x5a5f33=_0x19fff7;}return _0x2aff4d||(this['_isForcedDefaultExecutionBlock']=!0x1),_0x5a5f33&&_0x1c5060['rethrowUnexpectedError'](_0x5a5f33,this),_0x594c42;}['markInsertion'](_0x2ad060,_0x31ecbe=null,_0x5c814b={}){if(_0x2ad060['isCollapsed'])return null;const _0xca51e0=this['editor']['plugins']['get']('Users')['me'];this['_trackingSessionId']&&(_0x5c814b['trackingSessionId']=this['_trackingSessionId']);for(const {suggestion:_0x193ad9,meta:_0x3e1177}of this['_findSuggestions'](_0x2ad060,'insertion'))if(_0x3e1177['isOwn']){if(!_0x3e1177['isNextTo']){if(_0x3e1177['containsRangeInObject']){if(!this['_mergeNestedSuggestions']||!se(_0x193ad9,_0x5c814b))continue;return _0x193ad9;}if(se(_0x193ad9,_0x5c814b))return _0x193ad9;this['_breakSuggestionMarker'](_0x193ad9,_0x2ad060['start'],_0x2ad060['end']);break;}if(_0x31ecbe==_0x193ad9['subType']&&se(_0x193ad9,_0x5c814b)){const _0x1ca45e=_0x193ad9['getFirstRange']();return _0x1ca45e['start']['isEqual'](_0x2ad060['end'])?this['_setSuggestionRange'](_0x193ad9,this['_model']['createRange'](_0x2ad060['start'],_0x1ca45e['end'])):this['_setSuggestionRange'](_0x193ad9,this['_model']['createRange'](_0x1ca45e['start'],_0x2ad060['end'])),_0x193ad9;}}const _0x1d609a=_0x2f3bfc(),_0x2e270c=_0xca51e0['id'],_0x57bfb3=_0x31ecbe?'insertion:'+_0x31ecbe:'insertion',_0x53770f=this['_setSuggestionData']({'id':_0x1d609a,'type':_0x57bfb3,'createdAt':new Date(),'authorId':_0x2e270c,'attributes':_0x5c814b});return this['_addSuggestionMarker'](_0x57bfb3,_0x1d609a,_0x2e270c,_0x2ad060),_0x53770f;}['markMultiRangeInsertion'](_0x59ae6d,_0xcd3f7e='multi',_0x58827a={}){const _0x389758=this['editor']['plugins']['get']('Users')['me'],_0x3c95d9=this['_suggestionFactory']['getSuggestionCallback']('insertion',_0xcd3f7e,'join');this['_trackingSessionId']&&(_0x58827a['trackingSessionId']=this['_trackingSessionId']);for(const _0x42b27e of this['getSuggestions']())if(_0x42b27e['author']['id']==_0x389758['id']&&'insertion'==_0x42b27e['type']&&_0x42b27e['subType']==_0xcd3f7e&&se(_0x42b27e,_0x58827a)&&(_0x3c95d9(_0x42b27e['getRanges'](),_0x59ae6d)||_0x3c95d9(_0x59ae6d,_0x42b27e['getRanges']()))){for(const _0x5a167c of _0x59ae6d)_0x42b27e['addRange'](_0x5a167c);return _0x42b27e;}for(const {suggestion:_0x2e0b03,meta:_0x5aa943}of this['_findSuggestions'](_0x59ae6d,'insertion')){if(!_0x5aa943['isOwn'])continue;if(!this['_mergeNestedSuggestions']&&_0x5aa943['containsRangeInObject'])continue;if(!se(_0x2e0b03,_0x58827a))continue;let _0x58ff40=!0x0;for(const _0xed9951 of _0x2e0b03['getRanges']())for(const _0x269477 of _0x59ae6d)if(!_0xed9951['containsRange'](_0x269477)){_0x58ff40=!0x1;break;}if(_0x58ff40)return _0x2e0b03;}const _0x36241f=_0x2f3bfc(),_0x1cda69=_0x389758['id'],_0x2db6e4='insertion:'+_0xcd3f7e,_0xb93d08=this['_setSuggestionData']({'id':_0x36241f,'type':_0x2db6e4,'createdAt':new Date(),'authorId':_0x1cda69,'attributes':_0x58827a});for(const _0xd320a9 of _0x59ae6d)this['_addSuggestionMarker'](_0x2db6e4,_0x36241f,_0x1cda69,_0xd320a9,R['getMultiRangeId']());return _0xb93d08;}['markInlineFormat'](_0x365ca7,_0x2dfacb,_0x503c7f=null,_0x469f07={}){if(_0x503c7f=_0x503c7f||zt(_0x2dfacb),_0x365ca7['isCollapsed'])return null;if(this['_trackingSessionId']&&(_0x469f07['trackingSessionId']=this['_trackingSessionId']),'never'===this['_trackFormatChanges']){const _0xf8a1ae=this['_suggestionFactory']['getSuggestionCallback']('formatInline',_0x503c7f,'accept');return this['forceDefaultExecution'](()=>_0xf8a1ae([_0x365ca7],_0x2dfacb,_0x469f07)),null;}const _0x37fa39=this['editor']['plugins']['get']('Users')['me'],_0x262689=[];if('always'!==this['_trackFormatChanges']){for(const {suggestion:_0x2daf71,meta:_0xf83e2d}of this['_findSuggestions'](_0x365ca7,'insertion'))_0xf83e2d['isOwn']&&!_0xf83e2d['isInsideObject']&&_0x262689['push'](..._0x2daf71['getRanges']());}const _0x1769ab=function(_0x5a3180,_0x46cc40){const _0x4fedf1=[];for(const _0x65c73d of _0x46cc40){const _0x31a6eb=_0x5a3180['getIntersection'](_0x65c73d);_0x31a6eb&&_0x4fedf1['push'](_0x31a6eb);}return _0x4fedf1;}(_0x365ca7,_0x262689),_0x4579c3=function(_0x3e75bf,_0x45783a){const _0x4ebca8=[_0x3e75bf];for(const _0x394369 of _0x45783a){let _0x2d96db=0x0;for(;_0x2d96db<_0x4ebca8['length'];){const _0x4af8b7=_0x4ebca8[_0x2d96db]['getDifference'](_0x394369);_0x4ebca8['splice'](_0x2d96db,0x1,..._0x4af8b7),_0x2d96db+=_0x4af8b7['length'];}}return _0x4ebca8;}(_0x365ca7,_0x262689);_0x1769ab['length']&&this['_model']['change'](()=>{for(const _0x587529 of _0x1769ab){const _0x8cf458=this['_suggestionFactory']['getSuggestionCallback']('formatInline',_0x503c7f,'accept');this['forceDefaultExecution'](()=>_0x8cf458([_0x587529],_0x2dfacb,_0x469f07));}});for(const _0x798ef of _0x4579c3){let _0x19927f=null,_0x520253=_0x798ef['start'],_0x5e323a=_0x798ef['end'];for(const {suggestion:_0x45b18f,meta:_0x33044d}of this['_findSuggestions'](_0x798ef,'formatInline')){if(!_0x33044d['isOwn'])continue;if(_0x45b18f['subType']!=_0x503c7f)continue;if(!se(_0x45b18f,_0x469f07))continue;const _0xea3327=_0x45b18f['getFirstRange']();if(_0xea3327['containsRange'](_0x798ef,!0x0))return null;_0x520253=_0x520253['isBefore'](_0xea3327['start'])?_0x520253:_0xea3327['start'],_0x5e323a=_0x5e323a['isAfter'](_0xea3327['end'])?_0x5e323a:_0xea3327['end'],_0x19927f?_0xea3327['start']['isBefore'](_0x19927f['getFirstRange']()['start'])?(_0x19927f['removeMarkers'](),_0x19927f=_0x45b18f):_0x45b18f['removeMarkers']():_0x19927f=_0x45b18f;}const _0x1e892b=this['_model']['createRange'](_0x520253,_0x5e323a);if(_0x19927f)this['_setSuggestionRange'](_0x19927f,_0x1e892b);else{const _0x178eeb=_0x2f3bfc(),_0x27deff=_0x37fa39['id'];this['_setSuggestionData']({'id':_0x178eeb,'type':'formatInline:'+_0x503c7f,'data':_0x2dfacb,'createdAt':new Date(),'authorId':_0x27deff,'attributes':_0x469f07}),this['_addSuggestionMarker']('formatInline:'+_0x503c7f,_0x178eeb,_0x27deff,_0x1e892b);}}return null;}['markBlockFormat'](_0x179931,_0x3f1ec9,_0x5d9c57=[],_0x166c38=null,_0x59cc66={}){_0x3f1ec9['formatGroupId']||(_0x3f1ec9['formatGroupId']=_0x3f1ec9['commandName']),_0x3f1ec9['multipleBlocks']=_0x179931['is']('range'),_0x166c38=_0x166c38||zt(_0x3f1ec9);const _0x44eaab=_0x5d9c57['map'](_0x4d4517=>ee(_0x4d4517,this['_model'])),_0x357360=_0x179931['is']('range')?_0x179931:ee(_0x179931,this['_model']);if(this['_trackingSessionId']&&(_0x59cc66['trackingSessionId']=this['_trackingSessionId']),'never'===this['_trackFormatChanges']){const _0x44c0df=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x166c38,'accept');return this['forceDefaultExecution'](()=>_0x44c0df([_0x357360],_0x3f1ec9,_0x59cc66)),null;}_0x44eaab['push'](_0x357360);let _0x4db285=!0x0;for(const _0x514d4c of _0x44eaab)if(!this['_rangeIsInLocalUserInsertion'](_0x514d4c)){_0x4db285=!0x1;break;}if(_0x4db285&&'always'!==this['_trackFormatChanges']){const _0xcddce7=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x166c38,'accept');return this['forceDefaultExecution'](()=>_0xcddce7([_0x357360],_0x3f1ec9,_0x59cc66)),null;}let _0x21d214=null,_0x32c722=_0x357360['start'],_0x303b67=_0x357360['end'];for(const {suggestion:_0x4fc26c,meta:_0xe6ca85}of this['_findSuggestions'](_0x357360,'formatBlock')){if(!_0xe6ca85['isOwn'])continue;if(_0xe6ca85['isNextTo']||_0xe6ca85['containsRangeInObject']||_0xe6ca85['isInsideObject'])continue;if(_0x4fc26c['data']['formatGroupId']!=_0x3f1ec9['formatGroupId'])continue;if(!se(_0x4fc26c,_0x59cc66))continue;const _0x5aa3e7=_0x4fc26c['getFirstRange']();if(_0x4fc26c['subType']==_0x166c38){if(_0x5aa3e7['containsRange'](_0x357360,!0x0))return null;_0x32c722=_0x32c722['isBefore'](_0x5aa3e7['start'])?_0x32c722:_0x5aa3e7['start'],_0x303b67=_0x303b67['isAfter'](_0x5aa3e7['end'])?_0x303b67:_0x5aa3e7['end'],_0x21d214?_0x5aa3e7['start']['isBefore'](_0x21d214['getFirstRange']()['start'])?(_0x21d214['removeMarkers'](),_0x21d214=_0x4fc26c):_0x4fc26c['removeMarkers']():_0x21d214=_0x4fc26c;}else{const _0xe72d3b=_0x357360['getIntersection'](_0x5aa3e7);this['_cutOutSuggestionMarker'](_0x4fc26c,_0xe72d3b);}}const _0x16496a=this['editor']['plugins']['get']('Users')['me'],_0x530c09=_0x2f3bfc(),_0x55585e=_0x16496a['id'];if(_0x21d214)return this['_setSuggestionRange'](_0x21d214,this['_model']['createRange'](_0x32c722,_0x303b67)),_0x21d214;{const _0x530f50=this['_setSuggestionData']({'id':_0x530c09,'type':'formatBlock:'+_0x166c38,'data':_0x3f1ec9,'createdAt':new Date(),'authorId':_0x55585e,'attributes':_0x59cc66});return this['_addSuggestionMarker']('formatBlock:'+_0x166c38,_0x530c09,_0x55585e,this['_model']['createRange'](_0x32c722,_0x303b67)),_0x530f50;}}['markMultiRangeBlockFormat'](_0x36e5b3,_0x43838e,_0x29d02d=[],_0x4a2fe0=null,_0x47a0db={}){_0x43838e['formatGroupId']||(_0x43838e['formatGroupId']=_0x43838e['commandName']);const _0x2b96a9=_0x36e5b3[0x0];_0x43838e['multipleBlocks']=_0x2b96a9['is']('range'),_0x4a2fe0=_0x4a2fe0||zt(_0x43838e);const _0x1e8b56=_0x29d02d['map'](_0x5939ed=>ee(_0x5939ed,this['_model'])),_0x48cfcd=_0x2b96a9['is']('range')?_0x36e5b3:_0x36e5b3['map'](_0x179117=>ee(_0x179117,this['_model']));if(this['_trackingSessionId']&&(_0x47a0db['trackingSessionId']=this['_trackingSessionId']),'never'===this['_trackFormatChanges']){const _0x324709=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x4a2fe0,'accept');return this['forceDefaultExecution'](()=>_0x324709(_0x48cfcd,_0x43838e,_0x47a0db)),null;}_0x1e8b56['push'](..._0x48cfcd);let _0x7ccfec=!0x0;for(const _0xe52e62 of _0x1e8b56)if(!this['_rangeIsInLocalUserInsertion'](_0xe52e62)){_0x7ccfec=!0x1;break;}if(_0x7ccfec&&'always'!==this['_trackFormatChanges']){const _0x501b7c=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x4a2fe0,'accept');return this['forceDefaultExecution'](()=>_0x501b7c(_0x48cfcd,_0x43838e,_0x47a0db)),null;}const _0xadad86=this['editor']['plugins']['get']('Users')['me'];for(const _0x371207 of this['getSuggestions']()){const _0x27a8d9=_0x371207['data'];if(_0x371207['author']['id']!=_0xadad86['id'])continue;if('formatBlock'!=_0x371207['type']||_0x27a8d9['formatGroupId']!=_0x43838e['formatGroupId'])continue;if(!se(_0x371207,_0x47a0db))continue;const _0x314a63=_0x371207['subType']==_0x4a2fe0;for(let _0x5189eb=0x0;_0x5189eb<_0x48cfcd['length'];_0x5189eb++){const _0x22ca59=_0x48cfcd[_0x5189eb];for(const _0x5be682 of _0x371207['getMarkers']()){const _0x32bf11=_0x5be682['getRange']();if(_0x22ca59['isEqual'](_0x32bf11)){_0x314a63?(_0x48cfcd['splice'](_0x5189eb,0x1),_0x5189eb--):_0x371207['removeMarker'](_0x5be682['name']);break;}}}}if(0x0==_0x48cfcd['length'])return null;const _0x1b2d82=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x4a2fe0,'join');for(const _0x7ad1fb of this['getSuggestions']()){const _0x11a6c1=_0x7ad1fb['data'];if(_0x7ad1fb['author']['id']==_0xadad86['id']&&('formatBlock'==_0x7ad1fb['type']&&_0x11a6c1['formatGroupId']==_0x43838e['formatGroupId']&&_0x7ad1fb['subType']==_0x4a2fe0&&se(_0x7ad1fb,_0x47a0db)&&(_0x1b2d82(_0x7ad1fb['getRanges'](),_0x48cfcd)||_0x1b2d82(_0x48cfcd,_0x7ad1fb['getRanges']())))){for(const _0xf646a0 of _0x48cfcd)_0x7ad1fb['addRange'](_0xf646a0);return _0x7ad1fb;}}const _0x8a9055=_0x2f3bfc(),_0x441a2b=_0xadad86['id'],_0x4343e6='formatBlock:'+_0x4a2fe0,_0x86f8e6=this['_setSuggestionData']({'id':_0x8a9055,'type':_0x4343e6,'data':_0x43838e,'createdAt':new Date(),'authorId':_0x441a2b,'attributes':_0x47a0db});for(const _0xb3c044 of _0x48cfcd)this['_addSuggestionMarker'](_0x4343e6,_0x8a9055,_0x441a2b,_0xb3c044,R['getMultiRangeId']());return _0x86f8e6;}['markDeletion'](_0x1e08b6,_0x56c4ff=null,_0xdfd047={}){if(_0x1e08b6['isCollapsed'])return null;const _0x2d09c0=this['editor']['plugins']['get']('Users')['me'],_0x56b3b7=new _0x4b855c(_0x1e08b6['start'],_0x1e08b6['end']);this['_trackingSessionId']&&(_0xdfd047['trackingSessionId']=this['_trackingSessionId']);for(const {suggestion:_0x4fc091,meta:_0x3bba6c}of this['_findSuggestions'](_0x56b3b7,'insertion'))if(_0x3bba6c['isOwn']&&!_0x3bba6c['isNextTo']){if(_0x4fc091['isMultiRange']){const _0x1b29cd=_0x4fc091['getRanges']()['filter'](_0x5eb86a=>'$graveyard'!=_0x5eb86a['root']['rootName']);_0x1b29cd['every'](_0x4f7aa8=>_0x56b3b7['containsRange'](_0x4f7aa8,!0x0))&&_0x4fc091['discard']();if(_0x1b29cd['some'](_0x5ef57b=>_0x5ef57b['containsRange'](_0x56b3b7,!0x0))){const _0x4c7f0d=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x56c4ff,'accept');return this['forceDefaultExecution'](()=>_0x4c7f0d([_0x56b3b7],null,_0xdfd047)),null;}}else{const _0x5cc808=_0x56b3b7['getIntersection'](_0x4fc091['getFirstRange']());null!==_0x5cc808&&_0x4fc091['_onDiscard']([_0x5cc808],null,_0xdfd047);}}if(_0x56b3b7['detach'](),_0x56b3b7['isCollapsed']||'$graveyard'==_0x56b3b7['root']['rootName'])return null;let _0x6ffe26=null,_0x3a1b3d=_0x56b3b7['start'],_0x25aedd=_0x56b3b7['end'];const _0x4bfe41=this['_findSuggestions'](_0x56b3b7,'deletion');for(const {suggestion:_0x1b0931,meta:_0xf334fb}of _0x4bfe41){const _0x283b24=this['_model']['createRange'](_0x3a1b3d,_0x25aedd);if(_0xf334fb['isOwn']&&(this['_mergeNestedSuggestions']||!_0xf334fb['containsRangeInObject']&&!_0xf334fb['isInsideObject'])){if(_0x1b0931['isMultiRange']){if(!se(_0x1b0931,_0xdfd047))continue;let _0x34777b=!0x0;for(const _0x14f41a of _0x1b0931['getRanges']()){if(_0x14f41a['containsRange'](_0x283b24,!0x0))return _0x1b0931;_0x283b24['containsRange'](_0x14f41a)||(_0x34777b=!0x1);}_0x34777b&&_0x1b0931['discard']();}else{const _0x553e93=_0x1b0931['getFirstRange']();if(_0x553e93['containsRange'](_0x283b24,!0x0))return _0x1b0931;if(!se(_0x1b0931,_0xdfd047)){_0x283b24['containsRange'](_0x553e93)?_0x1b0931['removeMarkers']():_0x553e93['containsPosition'](_0x3a1b3d)?_0x3a1b3d=_0x553e93['end']:_0x553e93['containsPosition'](_0x25aedd)&&(_0x25aedd=_0x553e93['start']);continue;}_0x3a1b3d=_0x3a1b3d['isBefore'](_0x553e93['start'])?_0x3a1b3d:_0x553e93['start'],_0x25aedd=_0x25aedd['isAfter'](_0x553e93['end'])?_0x25aedd:_0x553e93['end'],_0xdfd047=Object['assign']({},_0x1b0931['attributes']),_0x6ffe26?_0x553e93['start']['isBefore'](_0x6ffe26['getFirstRange']()['start'])?(_0x6ffe26['removeMarkers'](),_0x6ffe26=_0x1b0931):_0x1b0931['removeMarkers']():_0x6ffe26=_0x1b0931;}}}if(_0x6ffe26)return this['_setSuggestionRange'](_0x6ffe26,this['_model']['createRange'](_0x3a1b3d,_0x25aedd)),_0x6ffe26;{const _0x29d5ae=_0x2f3bfc(),_0x59d301=this['_model']['createRange'](_0x3a1b3d,_0x25aedd),_0x36fc7c=_0x2d09c0['id'],_0x3e47a9=_0x56c4ff?'deletion:'+_0x56c4ff:'deletion',_0x286dfc=this['_setSuggestionData']({'id':_0x29d5ae,'type':_0x3e47a9,'createdAt':new Date(),'authorId':_0x36fc7c,'attributes':_0xdfd047});return this['_addSuggestionMarker'](_0x3e47a9,_0x29d5ae,_0x36fc7c,_0x59d301),_0x286dfc;}}['markMultiRangeDeletion'](_0x1b159d,_0x34e857='multi',_0x240585={}){const _0x23702a=this['editor']['plugins']['get']('Users')['me'],_0x371a54=_0x1b159d['map'](_0x1dc2da=>new _0x4b855c(_0x1dc2da['start'],_0x1dc2da['end'])),_0x455df3=new Set();this['_trackingSessionId']&&(_0x240585['trackingSessionId']=this['_trackingSessionId']);for(const {suggestion:_0x345f33,meta:_0x5f1016}of this['_findSuggestions'](_0x371a54,'insertion'))_0x5f1016['isOwn']&&!_0x5f1016['isNextTo']&&_0x455df3['add'](_0x345f33);for(const _0x270d1a of _0x455df3)if(_0x270d1a['isMultiRange']){const _0x44b63b=_0x270d1a['getRanges']();(!_0x270d1a['attributes']||!_0x270d1a['attributes']['skipNestingCheck'])&&(_0x44b63b['every'](_0x1b1d18=>_0x371a54['some'](_0x35010e=>_0x35010e['containsRange'](_0x1b1d18,!0x0)))&&_0x270d1a['discard']());if(_0x371a54['every'](_0xe070b8=>_0x44b63b['some'](_0x3f03d3=>_0x3f03d3['containsRange'](_0xe070b8,!0x0)))){const _0x52a142=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x34e857,'accept');return this['forceDefaultExecution'](()=>_0x52a142(_0x1b159d,null,_0x240585)),null;}}else{const _0x140d67=_0x270d1a['getFirstRange']();_0x371a54['some'](_0x62302a=>_0x62302a['containsRange'](_0x140d67,!0x0))&&_0x270d1a['discard']();if(_0x371a54['every'](_0x203e94=>_0x140d67['containsRange'](_0x203e94,!0x0))){const _0x442f12=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x34e857,'accept');return this['forceDefaultExecution'](()=>_0x442f12(_0x371a54,null,_0x240585)),null;}}const _0x25effd=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x34e857,'join');let _0x5adc15=null;for(const _0x4de404 of this['getSuggestions']())if(_0x4de404['author']['id']==_0x23702a['id']&&_0x4de404['isInContent']&&'deletion'==_0x4de404['type']&&_0x4de404['subType']==_0x34e857&&se(_0x4de404,_0x240585)&&(_0x25effd(_0x4de404['getRanges'](),_0x371a54)||_0x25effd(_0x371a54,_0x4de404['getRanges']()))){if(_0x5adc15){if(_0x4de404['commentThread']&&_0x4de404['commentThread']['length'])continue;for(const _0x92440 of _0x4de404['getRanges']())_0x5adc15['isIntersectingWithRange'](_0x92440)||_0x5adc15['addRange'](_0x92440);_0x4de404['removeMarkers']();}else{_0x5adc15=_0x4de404;for(const _0x7e96c of _0x371a54)_0x4de404['isIntersectingWithRange'](_0x7e96c)||_0x4de404['addRange'](_0x7e96c);}}if(_0x5adc15)return _0x5adc15;_0x455df3['clear']();for(const {suggestion:_0x1f62fa,meta:_0x4d5567}of this['_findSuggestions'](_0x371a54,'deletion'))_0x4d5567['isOwn']&&(this['_mergeNestedSuggestions']||!_0x4d5567['containsRangeInObject']&&!_0x4d5567['isInsideObject'])&&se(_0x1f62fa,_0x240585)&&_0x455df3['add'](_0x1f62fa);for(const _0xc7dadb of _0x455df3){const _0x2bfb89=_0xc7dadb['getRanges']();if(!_0x240585||!_0x240585['skipNestingCheck']){if(_0x371a54['every'](_0x4e0760=>_0x2bfb89['some'](_0x2e4b8f=>_0x2e4b8f['containsRange'](_0x4e0760,!0x0))))return _0xc7dadb;}(!_0xc7dadb['attributes']||!_0xc7dadb['attributes']['skipNestingCheck'])&&(_0x2bfb89['every'](_0x4666fa=>_0x371a54['some'](_0x45026d=>_0x45026d['containsRange'](_0x4666fa,!0x0)))&&_0xc7dadb['discard']());}const _0x8b95a8=_0x2f3bfc(),_0x1c3a6d=_0x23702a['id'],_0x3be839='deletion:'+_0x34e857,_0xe6140f=this['_setSuggestionData']({'id':_0x8b95a8,'type':_0x3be839,'createdAt':new Date(),'authorId':_0x1c3a6d,'attributes':_0x240585});for(const _0x3b680d of _0x371a54)_0x3b680d['detach'](),_0x3b680d['isCollapsed']||'$graveyard'==_0x3b680d['root']['rootName']||this['_addSuggestionMarker'](_0x3be839,_0x8b95a8,_0x1c3a6d,_0x3b680d,R['getMultiRangeId']());return _0xe6140f;}['markAttributeChange'](_0x4b6f95,_0x183eec,_0x52b509,_0x14b384,_0x3bf811){if(_0x4b6f95['isCollapsed'])return[];if('never'===this['_trackFormatChanges'])return[];const _0x2e2130=this['editor']['plugins']['get']('Users')['me']['id'],_0x5dde03=Array['from'](this['_suggestions']['values']())['filter'](_0x3185f6=>'attribute'==_0x3185f6['type']&&_0x3185f6['data']['key']==_0x183eec&&_0x3185f6['isIntersectingWithRange'](_0x4b6f95));if(this['_trackingSessionId']&&(_0x3bf811['trackingSessionId']=this['_trackingSessionId']),'default'===this['_trackFormatChanges']){const _0x1b0360=this['_findSuggestions'](_0x4b6f95,'insertion')['filter'](({meta:_0x3c0f02})=>_0x3c0f02['isOwn']&&!_0x3c0f02['isInsideObject']&&!_0x3c0f02['isNextTo'])['map'](({suggestion:_0x5bc800})=>_0x5bc800);_0x5dde03['unshift'](..._0x1b0360);}const _0x5d863b=new Map([[_0x4b6f95,_0x52b509]]);for(const _0x42b26f of _0x5dde03){const _0x4e1ad6='attribute'==_0x42b26f['type']?_0x42b26f['data']['oldValue']:void 0x0,_0x32451b=_0x42b26f['getFirstRange'](),_0x3c566a=Array['from'](_0x5d863b['keys']())['find'](_0xe1eea=>_0xe1eea['isIntersecting'](_0x32451b));if(!_0x3c566a)continue;const _0x2bd434=_0x3c566a['getDifference'](_0x32451b);this['_isBlockAttribute'](_0x183eec)&&'insertion'==_0x42b26f['type']&&0x0!=_0x2bd434['length']||(_0x5d863b['delete'](_0x3c566a),_0x2bd434['forEach'](_0x5677d8=>{_0x5d863b['set'](_0x5677d8,_0x52b509);}),'insertion'!=_0x42b26f['type']&&_0x4e1ad6!=_0x14b384&&_0x5d863b['set'](_0x3c566a['getIntersection'](_0x32451b),_0x4e1ad6));}const _0x58869c=[];for(const [_0x235b0a,_0x464f24]of _0x5d863b){const _0x58a473=_0x2f3bfc(),_0x20ed99={'key':_0x183eec,'oldValue':_0x464f24,'newValue':_0x14b384};_0x183eec['length']>0x25&&console['warn']('Creating\x20a\x20suggestion\x20for\x20attribute\x20with\x20too\x20long\x20attribute\x20key.\x20This\x20may\x20lead\x20to\x20errors.\x20Change\x20the\x20attribute\x20key\x20to\x20a\x20value\x20shorter\x20than\x2037\x20characters.',{'key':_0x183eec});const _0x4624d0=('attribute:'+(_0x183eec+'|'+zt({'newValue':_0x14b384})))['substring'](0x0,0x3c),_0x1c757a=this['_setSuggestionData']({'id':_0x58a473,'type':_0x4624d0,'data':_0x20ed99,'createdAt':new Date(),'authorId':_0x2e2130,'attributes':_0x3bf811});_0x58869c['push'](_0x1c757a),this['_addSuggestionMarker'](_0x4624d0,_0x58a473,_0x2e2130,_0x235b0a);}return _0x58869c;}['enableDefaultAttributesIntegration'](_0x2681a5){this['enableCommand'](_0x2681a5,(_0x26f5df,..._0x5cdd8a)=>{this['recordAttributeChanges'](()=>{_0x26f5df(..._0x5cdd8a);});});}['registerBlockAttribute'](_0x371699){this['_blockAttributeKeys']['add'](_0x371699);}['registerInlineAttribute'](_0xf99986){this['_inlineAttributeKeys']['add'](_0xf99986);}['startTrackingSession'](_0x3480f3){return this['_trackingSessionId']=void 0x0!==_0x3480f3?_0x3480f3:_0x2f3bfc(),this['_trackingSessionId'];}['_getAttributeKey'](_0x421109){return'attribute'==_0x421109['type']?re(_0x421109['subType']):null;}['_applyOperationsAsSuggestions'](_0x3e56f9){if(0x0==_0x3e56f9['length'])return;const _0x403e73=this['editor'],_0x1f1788=_0x403e73['plugins']['get'](_0x20dcac);let _0x1b76c0,_0x5b8b96=!0x0;for(const _0x546f10 in _0x3e56f9[0x0]){const _0x5471a1=_0x3e56f9[0x0][_0x546f10];if((_0x5471a1 instanceof _0x1ec24f||_0x5471a1 instanceof _0x3c2c3e)&&_0x5471a1['root']['is']('documentFragment')){_0x5b8b96=!0x1,_0x1b76c0=_0x5471a1['root'];break;}}_0x403e73['model']['change'](_0x5384c8=>{const _0x4d6c3f=new Set();for(let _0x33f127=0x0;_0x33f127<_0x3e56f9['length'];_0x33f127++){const _0x2a1bcf=_0x3e56f9[_0x33f127];if(_0x2a1bcf['baseVersion']=_0x5b8b96?_0x403e73['model']['document']['version']:null,_0x2a1bcf['isDocumentOperation']=_0x5b8b96,_0x1f1788['isMarkedRemoveOperation'](_0x2a1bcf)){const _0x439591=Zt(_0x2a1bcf['newRange'],_0x403e73['model']);if(_0x5b8b96)this['markDeletion'](_0x439591);else{const _0x3595db='suggestion:deletion:'+_0x2f3bfc()+':$aiSuggestion';_0x1b76c0['markers']['set'](_0x3595db,_0x439591);}}else switch(_0x2a1bcf['type']){case'rename':{const _0x1f0204=_0x2a1bcf['oldName'],_0xca8443=_0x2a1bcf['newName'];if(_0x1f0204==_0xca8443)break;_0x5384c8['batch']['addOperation'](_0x2a1bcf),_0x403e73['model']['applyOperation'](_0x2a1bcf);const _0x442114='$elementName',_0xf31472=_0x2a1bcf['position'],_0x4ec20f=_0x403e73['model']['createRange'](_0xf31472,_0x403e73['model']['createPositionAt'](_0xf31472['nodeAfter'],'end'));if(_0x5b8b96)this['markAttributeChange'](_0x4ec20f,_0x442114,_0x1f0204,_0xca8443,{'groupId':_0x2f3bfc()});else{const _0x54b0e9='suggestion:attribute:'+_0x442114+':'+_0x2f3bfc()+':$aiSuggestion';_0x1b76c0['markers']['set'](_0x54b0e9,_0x4ec20f);}break;}case'addAttribute':case'removeAttribute':case'changeAttribute':{const _0x252a6a=_0x2a1bcf['oldValue'],_0x55dbaf=_0x2a1bcf['newValue'];if(_0x252a6a==_0x55dbaf)break;_0x5384c8['batch']['addOperation'](_0x2a1bcf),_0x403e73['model']['applyOperation'](_0x2a1bcf);const _0x5c2137=_0x2a1bcf['key'];if(!this['_isRegisteredAttribute'](_0x5c2137))break;const _0x256867=Zt(_0x2a1bcf['range'],_0x403e73['model']);if(_0x5b8b96)this['markAttributeChange'](_0x256867,_0x5c2137,_0x252a6a,_0x55dbaf,{'groupId':_0x2f3bfc()});else{const _0x511b32='suggestion:attribute:'+_0x5c2137+':'+_0x2f3bfc()+':$aiSuggestion';_0x1b76c0['markers']['set'](_0x511b32,_0x256867);}break;}case'insert':{_0x5384c8['batch']['addOperation'](_0x2a1bcf),_0x403e73['model']['applyOperation'](_0x2a1bcf);const _0x30bde6=_0x3e56f9[_0x33f127+0x1]&&'move'==_0x3e56f9[_0x33f127+0x1]['type'];if(!_0x5b8b96&&_0x30bde6&&ae(_0x1b76c0,_0x2a1bcf),_0x30bde6)break;const _0x4f3ea9=_0x2a1bcf['position'],_0x21d6fc=_0x2a1bcf['howMany'],_0x3de647=Zt(_0x403e73['model']['createRange'](_0x4f3ea9,_0x4f3ea9['getShiftedBy'](_0x21d6fc)),_0x403e73['model']);if(_0x5b8b96)this['markInsertion'](_0x3de647);else{const _0x50fd1e='suggestion:insertion:'+_0x2f3bfc()+':$aiSuggestion';_0x1b76c0['markers']['set'](_0x50fd1e,_0x3de647);}break;}case'split':{_0x5384c8['batch']['addOperation'](_0x2a1bcf),_0x403e73['model']['applyOperation'](_0x2a1bcf);const _0x4418df=_0x2a1bcf['splitPosition'],_0x375ab7=_0x2a1bcf['moveTargetPosition'],_0x4892fb=_0x403e73['model']['createRange'](_0x4418df,_0x375ab7);if(_0x5b8b96)this['markInsertion'](_0x403e73['model']['createRange'](_0x4418df,_0x375ab7));else{const _0x3d2bb1='suggestion:insertion:'+_0x2f3bfc()+':$aiSuggestion';_0x1b76c0['markers']['set'](_0x3d2bb1,_0x4892fb);}break;}case'move':if(_0x5384c8['batch']['addOperation'](_0x2a1bcf),_0x403e73['model']['applyOperation'](_0x2a1bcf),!_0x5b8b96&&_0x3e56f9[_0x33f127-0x1]&&'insert'==_0x3e56f9[_0x33f127-0x1]['type']&&ae(_0x1b76c0,_0x2a1bcf),!_0x5b8b96){const _0x5a96a1=_0x2a1bcf['getMovedRangeStart'](),_0x47c9df=_0x2a1bcf['howMany'];for(let _0x5218b6=0x0;_0x5218b6<_0x47c9df;_0x5218b6++){const _0x9a98a5=_0x5a96a1['getShiftedBy'](_0x5218b6)['nodeAfter'];_0x4d6c3f['add'](_0x9a98a5);}}break;case'remove':if(_0x5b8b96)_0x5384c8['batch']['addOperation'](_0x2a1bcf),_0x403e73['model']['applyOperation'](_0x2a1bcf);else{const _0x3b51a4=_0x2a1bcf['sourcePosition'],_0x16caee=_0x2a1bcf['howMany'],_0x2cf75d=new _0x104b5a(_0x3b51a4,_0x16caee);_0x5384c8['batch']['addOperation'](_0x2cf75d),_0x403e73['model']['applyOperation'](_0x2cf75d);}}}for(const _0x109e62 of _0x4d6c3f){const _0x52e919=_0x403e73['model']['createRangeOn'](_0x109e62),_0x17062c='suggestion:formatBlock:$fakeWrap:'+_0x2f3bfc()+':$aiSuggestion';_0x1b76c0['markers']['set'](_0x17062c,Zt(_0x52e919,_0x403e73['model']));}});}['_setSuggestionRange'](_0x120d7c,_0x15c589){const _0x1809bb=_0x120d7c['getFirstMarker']();this['_model']['change'](_0x205964=>{_0x205964['updateMarker'](_0x1809bb,{'range':_0x15c589});});}['_addThreadToSuggestion'](_0x31bb55){const _0x16e983=_0x31bb55['id'],_0x455d85=this['editor']['config']['get']('collaboration.channelId');this['_commentsRepository']['hasCommentThread'](_0x16e983)||this['_commentsRepository']['addCommentThread']({'channelId':_0x455d85,'threadId':_0x16e983,'isResolvable':!0x1,'isSubmitted':!0x0});const _0x2a9c25=this['_commentsRepository']['getCommentThread'](_0x16e983);_0x2a9c25['unbind']('isRemovable'),_0x2a9c25['isRemovable']=!0x1,_0x31bb55['commentThread']=_0x2a9c25;}['_checkSuggestionCorrectness'](_0x41ab8c,_0x75f799,_0x5b5f0f,_0x3e6266){if(_0x41ab8c['type']!=_0x75f799||_0x41ab8c['subType']!=_0x5b5f0f||_0x41ab8c['creator']['id']!=_0x3e6266)throw this['editor']['enableReadOnlyMode']('track-changes-suggestion-data-mismatch'),new _0x1c5060('track-changes-suggestion-data-mismatch',this);}['_cutOutSuggestionMarker'](_0x4ab183,_0x590387){const _0x911288=_0x4ab183['getFirstRange']();if(_0x590387['isEqual'](_0x911288))_0x4ab183['removeMarkers']();else{if(_0x911288['containsRange'](_0x590387)){const _0xbadba1=this['_model']['createPositionAt'](_0x590387['start']['nodeBefore'],'end');this['_setSuggestionRange'](_0x4ab183,this['_model']['createRange'](_0x911288['start'],_0xbadba1));const _0x26d165=_0x2f3bfc(),_0x47be43=_0x4ab183['creator']['id'],_0x140178=_0x4ab183['type']+':'+_0x4ab183['subType'];this['_setSuggestionData']({'id':_0x26d165,'type':_0x140178,'createdAt':new Date(),'authorId':_0x47be43,'data':_0x4ab183['data'],'attributes':_0x4ab183['attributes']});const _0x3da6dd=this['_model']['createPositionAt'](_0x590387['end']['parent'],'after'),_0x4a180f=this['_model']['createRange'](_0x3da6dd,_0x911288['end']);this['_addSuggestionMarker'](_0x140178,_0x26d165,_0x47be43,_0x4a180f);}else{if(_0x911288['containsPosition'](_0x590387['start'])){const _0x3a4ff1=this['_model']['createPositionAt'](_0x590387['start']['nodeBefore'],'end');this['_setSuggestionRange'](_0x4ab183,this['_model']['createRange'](_0x911288['start'],_0x3a4ff1));}else{const _0x2c9166=this['_model']['createPositionAt'](_0x590387['end']['parent'],'after');this['_setSuggestionRange'](_0x4ab183,this['_model']['createRange'](_0x2c9166,_0x911288['end']));}}}}['_rangeIsInLocalUserInsertion'](_0x44d85f){for(const {suggestion:_0x3729a6,meta:_0x4e013d}of this['_findSuggestions'](_0x44d85f,'insertion')){if(!_0x4e013d['isOwn'])continue;const _0x2b9081=_0x3729a6['getRanges']();for(const _0x3311f4 of _0x2b9081)if(!_0x44d85f['getDifference'](_0x3311f4)['length'])return!0x0;}return!0x1;}['_getAuthorFromId'](_0x26a28e){return this['editor']['plugins']['get']('Users')['getUser'](_0x26a28e);}['_getExternalAuthor'](_0x197bfc){const _0x13a0ff=this['editor']['plugins']['get']('Users'),_0x3f9a15=_0x5b6d50('external:'+_0x197bfc),_0x1bd328=_0x13a0ff['getUser'](_0x3f9a15);return _0x1bd328||_0x13a0ff['addUser']({'id':_0x3f9a15,'name':_0x197bfc});}['_createSuggestion'](_0x1b00f1,_0x554038,_0x30229a,_0x303985,_0x2b011c,_0x4c6300){const _0x54ff0e=this['_getAuthorFromId'](_0x303985);if(!_0x54ff0e)throw new _0x1c5060('track-changes-user-not-found',this,{'authorId':_0x303985,'suggestionId':_0x30229a});const _0x55f59a=this['_suggestionFactory']['buildSuggestion'](_0x1b00f1,_0x554038,_0x30229a,_0x54ff0e,_0x2b011c,_0x1b894b=>{this['_updateSuggestionData'](_0x30229a,{'attributes':_0x1b894b});const _0x593a98=this['getSuggestion'](_0x30229a);this['_joinWithAdjacentSuggestions'](new Set([_0x593a98])),this['_refreshSuggestionsChain'](new Set([_0x593a98]));},_0x4c6300);return this['listenTo'](_0x55f59a,'accept',()=>{this['_updateSuggestionData'](_0x30229a,{'state':'accepted'});},{'priority':'high'}),this['listenTo'](_0x55f59a,'discard',()=>{this['_updateSuggestionData'](_0x30229a,{'state':'rejected'});},{'priority':'high'}),this['_suggestions']['set'](_0x30229a,_0x55f59a),this['_suggestionState']['set'](_0x55f59a,'notReady'),_0x55f59a;}['_splitMarkerName'](_0x26ee21){const _0x2c7252=_0x26ee21['split'](':');return{'group':_0x2c7252[0x0],'type':_0x2c7252[0x1],'subType':_0x2c7252['length']>=0x5?_0x2c7252[0x2]:null,'id':_0x2c7252['length']<0x5?_0x2c7252[0x2]:_0x2c7252[0x3],'authorId':_0x2c7252['length']<0x5?_0x2c7252[0x3]:_0x2c7252[0x4],'markerCount':0x6==_0x2c7252['length']?_0x2c7252[0x5]:null};}['_breakSuggestionMarker'](_0x676ba1,_0x183357,_0x5e232d){const _0x76b2ce=_0x676ba1['getFirstRange'](),_0x522d5b=_0x76b2ce['start'],_0x55d947=_0x76b2ce['end'];this['_setSuggestionRange'](_0x676ba1,this['_model']['createRange'](_0x522d5b,_0x183357));const _0x239457=_0x2f3bfc(),_0x18ef68=_0x676ba1['creator']['id'],_0x16ddc7=_0x676ba1['type']+(_0x676ba1['subType']?':'+_0x676ba1['subType']:'');this['_setSuggestionData']({'id':_0x239457,'type':_0x16ddc7,'createdAt':new Date(),'authorId':_0x18ef68,'originalSuggestionId':_0x676ba1['_originalSuggestionId']||_0x676ba1['id'],'attributes':_0x676ba1['attributes'],'data':_0x676ba1['data']});const _0x4644eb=this['_getAttributeKey'](_0x676ba1);('formatBlock'==_0x676ba1['type']||_0x4644eb&&this['_isBlockAttribute'](_0x4644eb))&&(_0x5e232d=this['_model']['createPositionBefore'](_0x5e232d['parent'])),this['_addSuggestionMarker'](_0x16ddc7,_0x239457,_0x18ef68,this['_model']['createRange'](_0x5e232d,_0x55d947));}['_findSuggestions'](_0x483d70,_0x38c060=null){const _0x2d226f=[],_0x25ff33=this['editor']['plugins']['get']('Users')['me'];Array['isArray'](_0x483d70)||(_0x483d70=[_0x483d70]);for(const _0xe6d3e9 of this['getSuggestions']()){if(!_0xe6d3e9['isInContent'])continue;if(_0x38c060&&_0xe6d3e9['type']!=_0x38c060)continue;let _0x5534eb=!0x1;for(const _0x16e237 of _0xe6d3e9['getRanges']()){for(const _0x2c9672 of _0x483d70){const _0x5825a6=_0x2c9672['start']['isEqual'](_0x16e237['end'])||_0x2c9672['end']['isEqual'](_0x16e237['start']);if(_0x5825a6||_0x2c9672['getIntersection'](_0x16e237)){const _0x172dcb=_0x2c9672['containsRange'](_0x16e237)&&qt(this['_model']['schema'],_0x16e237['start'],_0x2c9672),_0xac92d=_0x16e237['containsRange'](_0x2c9672)&&qt(this['_model']['schema'],_0x2c9672['start'],_0x16e237);_0x2d226f['push']({'suggestion':_0xe6d3e9,'meta':{'isOwn':_0x25ff33==_0xe6d3e9['author'],'isNextTo':_0x5825a6,'isInsideObject':_0x172dcb,'containsRangeInObject':_0xac92d}}),_0x5534eb=!0x0;break;}}if(_0x5534eb)break;}}return _0x2d226f;}['_addSuggestionMarker'](_0x51c6f4,_0x1a0b11,_0x1a4055,_0x45a14d,_0x3ceb2a){this['_model']['change'](_0x5dce38=>{let _0x2d12e9='suggestion:'+_0x51c6f4+':'+_0x1a0b11+':'+_0x1a4055;_0x3ceb2a&&(_0x2d12e9=_0x2d12e9+':'+_0x3ceb2a),_0x5dce38['addMarker'](_0x2d12e9,{'range':_0x45a14d,'usingOperation':!0x0,'affectsData':!0x0});});}['_removeSuggestion'](_0x2c2b26){const _0x2c6d19=_0x2c2b26['previous'],_0x55304f=_0x2c2b26['next'];_0x2c2b26['previous']=null,_0x2c2b26['next']=null,null!=_0x2c6d19&&_0x2c6d19['next']==_0x2c2b26&&(_0x2c6d19['next']=_0x55304f),null!=_0x55304f&&_0x55304f['previous']==_0x2c2b26&&(_0x55304f['previous']=_0x2c6d19),'ready'==this['_suggestionState']['get'](_0x2c2b26)&&(this['_suggestionState']['set'](_0x2c2b26,'removed'),this['fire']('suggestionUnloaded',_0x2c2b26,_0x2c6d19,_0x55304f));}['_setSuggestionData'](_0x590ff7){const _0x481c30=_0x590ff7['id'],_0x55f05d=this['addSuggestionData'](_0x590ff7);if(this['_adapter']&&this['_adapter']['addSuggestion']){const _0x3aa37a=this['editor']['plugins']['get']('PendingActions'),_0x3799e0=_0x55f05d['hasComments'],_0x31c677=_0x55f05d['subType']?_0x55f05d['type']+':'+_0x55f05d['subType']:_0x55f05d['type'],_0x24c5b4=this['editor']['locale'],_0x38c663=_0x3aa37a['add'](o(_0x24c5b4,'PENDING_ACTION_SUGGESTION')),_0x6cf854={'id':_0x481c30,'type':_0x31c677,'hasComments':_0x3799e0,'data':_0x590ff7['data']||null,'originalSuggestionId':_0x590ff7['originalSuggestionId']||null,'attributes':_0x55f05d['attributes']};this['_adapter']['addSuggestion'](_0x6cf854)['then'](_0x5f56e9=>{_0x55f05d['_saved']=!0x0,_0x3aa37a['remove'](_0x38c663),_0x5f56e9&&_0x5f56e9['createdAt']&&(this['_suggestions']['get'](_0x481c30)['createdAt']=_0x5f56e9['createdAt']);})['catch'](_0x565eee=>{throw _0x38a1da('error-saving-suggestion-data-suggestion-discarded'),this['editor']['model']['enqueueChange']({'isUndoable':!0x1},()=>{_0x55f05d['discard']();}),_0x55f05d['stopListening'](),this['_suggestions']['delete'](_0x55f05d['id']),this['_suggestionState']['delete'](_0x55f05d),_0x565eee;});}return _0x55f05d;}['_isBlockAttribute'](_0xa0a7b0){return this['_blockAttributeKeys']['has'](_0xa0a7b0);}['_isInlineAttribute'](_0x10209f){return this['_inlineAttributeKeys']['has'](_0x10209f);}['_updateSuggestionData'](_0x34fcbf,_0x8fec45){const _0x234667=this['editor']['plugins']['get']('PendingActions'),_0x11fc41=this['getSuggestion'](_0x34fcbf);if(this['_adapter']&&this['_adapter']['updateSuggestion']){if(_0x11fc41['_saved']){const _0x520c3d=_0x234667['add'](o(this['editor']['locale'],'PENDING_ACTION_SUGGESTION'));this['_adapter']['updateSuggestion'](_0x34fcbf,_0x8fec45)['then'](()=>{_0x234667['remove'](_0x520c3d);});}else _0x11fc41['on']('change:_saved',()=>{this['_updateSuggestionData'](_0x34fcbf,_0x8fec45);});}}['_getSuggestionData'](_0x4543d4){if(!this['_adapter']||!this['_adapter']['getSuggestion'])throw new _0x1c5060('track-changes-adapter-missing-getsuggestion',this);return this['_adapter']['getSuggestion'](_0x4543d4);}['_handleNewSuggestionMarker'](_0x4fc8e1){const {id:_0xafe527,type:_0x5a240f,subType:_0x526838,authorId:_0x48c76a}=this['_splitMarkerName'](_0x4fc8e1),_0x3e1494=this['_suggestions']['get'](_0xafe527)||this['_createSuggestion'](_0x5a240f,_0x526838,_0xafe527,_0x48c76a,{});switch(this['_checkSuggestionCorrectness'](_0x3e1494,_0x5a240f,_0x526838,_0x48c76a),this['_suggestionState']['get'](_0x3e1494)){case'notReady':this['_getSuggestionData'](_0xafe527)['then'](_0xf1813d=>{let _0x3765d7=Promise['resolve']();_0xf1813d['hasComments']&&(_0x3765d7=this['_commentsRepository']['fetchCommentThread']({'channelId':this['editor']['config']['get']('collaboration.channelId'),'threadId':_0xafe527})),_0x3765d7['then'](()=>{this['addSuggestionData'](_0xf1813d)['_saved']=!0x0;});}),this['_suggestionState']['set'](_0x3e1494,'markerReady');break;case'removed':this['_updateSuggestionData'](_0xafe527,{'state':'open'});case'dataReady':this['_suggestionState']['set'](_0x3e1494,'ready'),this['fire']('suggestionLoaded',_0x3e1494);break;case'ready':this['fire']('suggestionChanged',_0x3e1494);}return _0x3e1494['addMarkerName'](_0x4fc8e1),_0x3e1494;}['_refreshSuggestionsChain'](_0x12c7cc){const _0x2ab85d=Array['from'](_0x12c7cc),_0x14078a=_0x2ab85d['filter'](_0x22f365=>'attribute'==_0x22f365['type']);this['_refreshAttributeSuggestionsChain'](_0x14078a);const _0x144aca=_0x2ab85d['filter'](_0x3b7031=>!_0x3b7031['isMultiRange']&&'attribute'!=_0x3b7031['type']),_0xfe812d=this['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x4d529a=>!_0x4d529a['isMultiRange']&&'attribute'!=_0x4d529a['type']),_0x2e9cbf=_0xfe812d['filter'](_0x3d5039=>!_0x12c7cc['has'](_0x3d5039)),_0x486783=new Map(_0xfe812d['map'](_0x589f5b=>[_0x589f5b,this['_suggestionFactory']['getSuggestionCallback'](_0x589f5b['type'],_0x589f5b['subType'],'chain')])),_0x2c5744=new Map(_0xfe812d['map'](_0x5e782a=>[_0x5e782a,_0x5e782a['getFirstRange']()])),_0x23e3e7=new Set(),_0x2cf4be=new Set();for(let _0x51cb34=0x0;_0x51cb34<_0x144aca['length'];_0x51cb34++)_0x34e2f5(_0x144aca[_0x51cb34],_0x144aca,_0x51cb34+0x1);for(let _0xa93592=0x0;_0xa93592<_0x144aca['length'];_0xa93592++)_0x34e2f5(_0x144aca[_0xa93592],_0x2e9cbf,0x0);const _0x326434=new Set();for(let _0x53bae8=0x0;_0x53bae8<_0x144aca['length'];_0x53bae8++){const _0x4ecc94=_0x144aca[_0x53bae8];!_0x2cf4be['has'](_0x4ecc94)&&_0x4ecc94['previous']&&(_0x326434['add'](_0x4ecc94['previous']),_0x4ecc94['previous']['next']===_0x4ecc94&&(_0x4ecc94['previous']['next']=null),_0x4ecc94['previous']=null),!_0x23e3e7['has'](_0x4ecc94)&&_0x4ecc94['next']&&(_0x326434['add'](_0x4ecc94['next']),_0x4ecc94['next']['previous']===_0x4ecc94&&(_0x4ecc94['next']['previous']=null),_0x4ecc94['next']=null);}function _0x34e2f5(_0x51d2ec,_0x40b2d8,_0x5eacfe){for(let _0x45455a=_0x5eacfe;_0x45455a<_0x40b2d8['length'];_0x45455a++){const _0x6e232c=_0x2e53f4(_0x51d2ec,_0x40b2d8[_0x45455a]);_0x6e232c&&(_0x6e232c[0x0]['next']=_0x6e232c[0x1],_0x6e232c[0x1]['previous']=_0x6e232c[0x0],_0x23e3e7['add'](_0x6e232c[0x0]),_0x2cf4be['add'](_0x6e232c[0x1]));}}function _0x2e53f4(_0x363b04,_0x40b44d){if(_0x363b04['author']['id']!==_0x40b44d['author']['id'])return null;const _0x219b90=_0x486783['get'](_0x363b04)(_0x363b04,_0x40b44d,_0x2c5744['get'](_0x363b04),_0x2c5744['get'](_0x40b44d));if(!_0x219b90)return null;return _0x486783['get'](_0x40b44d)(_0x363b04,_0x40b44d,_0x2c5744['get'](_0x363b04),_0x2c5744['get'](_0x40b44d))?_0x219b90[0x1]['commentThread']&&_0x219b90[0x1]['commentThread']['length']?null:_0x219b90:null;}_0x326434['size']&&this['_refreshSuggestionsChain'](_0x326434);}['_refreshAttributeSuggestionsChain'](_0x2ff4d4){if(0x0==_0x2ff4d4['length'])return;const _0x5af2f3=this['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x52e622=>'attribute'==_0x52e622['type']&&_0x52e622['_isDataLoaded']),_0x4c4a51=[],_0x3d737f=new Map();for(const _0x3962da of _0x5af2f3){const _0x2a8f73=_0x5b6d50(_0x3962da['attributes']);_0x3d737f['has'](_0x2a8f73)||(_0x3d737f['set'](_0x2a8f73,_0x4c4a51['length']),_0x4c4a51['push']([]));const _0x902ee5=_0x3d737f['get'](_0x2a8f73);_0x4c4a51[_0x902ee5]['push'](_0x3962da);}!(function(){_0x4c4a51['sort']((_0x175a58,_0x19b7c4)=>{const _0x50567f=_0x175a58[0x0]['createdAt'],_0x3c32f4=_0x19b7c4[0x0]['createdAt'];return _0x50567f==_0x3c32f4?_0x175a58[0x0]['attributes']['groupId']<_0x19b7c4[0x0]['attributes']['groupId']?-0x1:0x1:_0x50567f<_0x3c32f4?-0x1:0x1;});for(const _0x5cd5ed of _0x4c4a51)_0x5cd5ed['sort']((_0xde448,_0x14c269)=>_0xde448['id']<_0x14c269['id']?-0x1:0x1);}());for(let _0x2e3378=0x0;_0x2e3378<_0x4c4a51['length'];_0x2e3378++){if(0x0==_0x4c4a51[_0x2e3378]['length'])continue;const _0x54b281=[];for(let _0x3678ce=_0x2e3378+0x1;_0x3678ce<_0x4c4a51['length'];_0x3678ce++)0x0!=_0x4c4a51[_0x3678ce]['length']&&_0x1c5b77(_0x4c4a51[_0x2e3378],_0x4c4a51[_0x3678ce])&&_0x54b281['push'](_0x3678ce);for(const _0x5ee467 of _0x54b281)_0x4c4a51[_0x2e3378]=_0x4c4a51[_0x2e3378]['concat'](_0x4c4a51[_0x5ee467]),_0x4c4a51[_0x5ee467]=[];}for(const _0x143260 of _0x4c4a51)for(let _0xc5edaa=0x0;_0xc5edaa<_0x143260['length'];_0xc5edaa++){const _0x26cd30=_0x143260[_0xc5edaa+0x1]||null;_0x143260[_0xc5edaa]['next']!==_0x26cd30&&(_0x143260[_0xc5edaa]['next']=_0x26cd30);}for(const _0x884268 of _0x4c4a51)for(let _0x52283b=0x0;_0x52283b<_0x884268['length'];_0x52283b++){const _0x5ba49a=_0x884268[_0x52283b-0x1]||null;_0x884268[_0x52283b]['previous']!==_0x5ba49a&&(_0x884268[_0x52283b]['previous']=_0x5ba49a);}function _0x1c5b77(_0x2d8107,_0x4c4c5c){if(_0x2d8107[0x0]['attributes']['groupId']!==_0x4c4c5c[0x0]['attributes']['groupId']&&_0x2d8107[0x0]['author']!==_0x4c4c5c[0x0]['author'])return!0x1;if(!function(_0x5b5fd2,_0x32a2c6){if(!_0x5b5fd2['hasComments']&&!_0x32a2c6['hasComments'])return!0x0;if(_0x5b5fd2['hasComments']&&_0x32a2c6['hasComments'])return!0x1;if(_0x5b5fd2['hasComments']&&_0x32a2c6['createdAt']<_0x5b5fd2['commentThread']['comments']['get'](0x0)['createdAt'])return!0x0;if(_0x32a2c6['hasComments']&&_0x5b5fd2['createdAt']<_0x32a2c6['commentThread']['comments']['get'](0x0)['createdAt'])return!0x0;return!0x1;}(_0x2d8107[0x0],_0x4c4c5c[0x0]))return!0x1;const _0x51ec56=Jt(_0x2d8107[0x0]['attributes'],['groupId','trackingSessionId']),_0x347ffc=Jt(_0x4c4c5c[0x0]['attributes'],['groupId','trackingSessionId']);if(!_0x389819(_0x51ec56,_0x347ffc))return!0x1;if(_0x2d8107[0x0]['attributes']['groupId']==_0x4c4c5c[0x0]['attributes']['groupId'])return!0x0;if(_0x2d8107[0x0]['attributes']['trackingSessionId']!==_0x4c4c5c[0x0]['attributes']['trackingSessionId'])return!0x1;return!!_0x2d8107['every'](_0xc71f42=>_0x4c4c5c['some'](_0x5c7a36=>_0xc71f42['getFirstRange']()['isEqual'](_0x5c7a36['getFirstRange']())))&&_0x4c4c5c['every'](_0x17e0a8=>_0x2d8107['some'](_0x11fe4c=>_0x17e0a8['getFirstRange']()['isEqual'](_0x11fe4c['getFirstRange']())));}}['_joinWithAdjacentSuggestions'](_0x12a5bd){const _0x42e1f5=Array['from'](_0x12a5bd),_0x2d73ec=this['getSuggestions']({'skipNotAttached':!0x0}),_0x108e43=_0x2d73ec['filter'](_0x5bf686=>!_0x12a5bd['has'](_0x5bf686)),_0x405d10=new Map(_0x42e1f5['map'](_0x365bac=>[_0x365bac,this['_suggestionFactory']['getSuggestionCallback'](_0x365bac['type'],_0x365bac['subType'],'join')])),_0x8139d8=new Map(_0x2d73ec['map'](_0x52a1a5=>[_0x52a1a5,_0x52a1a5['getRanges']()]));for(let _0xa0bb69=0x0;_0xa0bb69<_0x42e1f5['length'];_0xa0bb69++){if(_0x37c29e(this,_0x42e1f5[_0xa0bb69],_0x42e1f5,_0xa0bb69+0x1))return!0x0;}for(let _0x1bfe8d=0x0;_0x1bfe8d<_0x42e1f5['length'];_0x1bfe8d++){if(_0x37c29e(this,_0x42e1f5[_0x1bfe8d],_0x108e43,0x0))return!0x0;}return!0x1;function _0x37c29e(_0x56ee91,_0xbc2edf,_0x45c35a,_0x3ee781){for(let _0x35b630=_0x3ee781;_0x35b630<_0x45c35a['length'];_0x35b630++){const _0x53bf73=_0x45c35a[_0x35b630];if(_0x53bf73['type']!==_0xbc2edf['type']||_0x53bf73['author']['id']!==_0xbc2edf['author']['id']||_0x53bf73['subType']!==_0xbc2edf['subType'])continue;if(!ne(_0xbc2edf,_0x53bf73))continue;if('attribute'==_0xbc2edf['type']&&_0xbc2edf['data']['oldValue']!=_0x53bf73['data']['oldValue'])continue;if('attribute'==_0xbc2edf['type']&&_0x56ee91['_isBlockAttribute'](_0xbc2edf['data']['key']))continue;if('formatBlock'==_0xbc2edf['type']){const _0x51da29=_0x56ee91['editor']['model'],_0x3b01ec=_0xbc2edf['getContainedElement']();if(_0x3b01ec&&(_0x51da29['schema']['isObject'](_0x3b01ec)||_0x51da29['schema']['isLimit'](_0x3b01ec)))continue;}const _0x137b69=_0x405d10['get'](_0xbc2edf),_0x366ded=_0x8139d8['get'](_0xbc2edf),_0x32502f=_0x8139d8['get'](_0x53bf73),_0x49c04c=_0xbc2edf['commentThread']&&_0xbc2edf['commentThread']['length'],_0x5e6aa7=_0x53bf73['commentThread']&&_0x53bf73['commentThread']['length'];if(!_0x49c04c&&_0x137b69(_0x32502f,_0x366ded))return _0x56ee91['_joinSuggestions'](_0x53bf73,_0xbc2edf),_0x8139d8['delete'](_0xbc2edf),!0x0;if(!_0x5e6aa7&&_0x137b69(_0x366ded,_0x32502f))return _0x56ee91['_joinSuggestions'](_0xbc2edf,_0x53bf73),_0x8139d8['delete'](_0x53bf73),!0x0;}return!0x1;}}['_joinSuggestions'](_0xdb4e94,_0x4ae885){if(_0xdb4e94['isMultiRange']){for(const _0x1257f6 of _0x4ae885['getRanges']())_0xdb4e94['addRange'](_0x1257f6);}else{const _0x144307=_0x4ae885['getFirstRange']()['end'];this['_setSuggestionRange'](_0xdb4e94,this['_model']['createRange'](_0xdb4e94['getFirstRange']()['start'],_0x144307));}_0x4ae885['removeMarkers']();}['_getMarkerAnnouncementText'](_0x18639c,_0x3f31b5,_0x3df137){const _0x382c27=_0x18639c['startsWith']('format')||_0x18639c['startsWith']('attribute')?'FORMATTING':_0x18639c['toUpperCase']();return o(this['editor']['locale'],_0x3f31b5+'_'+_0x382c27+'_SUGGESTION_ANNOUNCEMENT',_0x3df137);}['_initAriaMarkerChangeAnnouncements'](){const _0x17c705=this['editor'];if(!_0x17c705['ui'])return;const {ariaLiveAnnouncer:_0x458b99}=_0x17c705['ui'];_0x32f207(this['_model'],({left:_0x2a8d74,entered:_0x3a0d00})=>{for(const _0x35496 of _0x2a8d74){const {group:_0x409338,type:_0x3a3e12}=this['_splitMarkerName'](_0x35496['name']);if('suggestion'===_0x409338){_0x458b99['announce'](this['_getMarkerAnnouncementText'](_0x3a3e12,'LEAVE'));break;}}for(const _0x4f6b7c of _0x3a0d00){const {group:_0x54a866,type:_0x474f3a}=this['_splitMarkerName'](_0x4f6b7c['name']);if('suggestion'===_0x54a866){_0x458b99['announce'](this['_getMarkerAnnouncementText'](_0x474f3a,'ENTER',_0x31da68(_0x1dc23a)));break;}}});}['_processAttributeChanges'](_0x19ba50){if(this['_recordAttributeSuggestions'])return!0x1;const _0x2bdb16=this['editor'],_0x2d38ac=_0x2bdb16['model']['document']['differ']['getChanges']();if(0x0==_0x2d38ac['length'])return!0x1;const _0x45d67b=[],_0x459c18=_0x2d38ac['filter'](_0x245736=>'attribute'==_0x245736['type']),_0x4a4452=_0x2d38ac['filter'](_0x4cfad7=>'insert'==_0x4cfad7['type']&&'$text'!=_0x4cfad7['name']),_0x292e0f=_0x2d38ac['filter'](_0x96112b=>'remove'==_0x96112b['type']&&'$text'!=_0x96112b['name']);for(const _0x4edcda of _0x459c18)_0x45d67b['push']({'key':_0x4edcda['attributeKey'],'newValue':_0x4edcda['attributeNewValue'],'oldValue':_0x4edcda['attributeOldValue'],'range':te(_0x4edcda['range'],_0x2bdb16['model'])});for(const _0x4dfe9 of _0x4a4452){const _0x6e16de=_0x292e0f['find'](_0xdaa07=>_0xdaa07['position']['isEqual'](_0x4dfe9['position']));_0x6e16de&&_0x45d67b['push']({'key':m,'newValue':_0x4dfe9['name'],'oldValue':_0x6e16de['name'],'range':_0x2bdb16['model']['createRangeOn'](_0x4dfe9['position']['nodeAfter'])});}return 0x0!=_0x45d67b['length']&&this['_reduceExistingSuggestions'](_0x19ba50,_0x45d67b);}['_processAttributeSuggestions'](_0x4662e3){let _0x32281b=!0x1;const _0x3aa6a4=this['editor']['model']['document']['differ']['getChangedMarkers']()['filter'](_0x24bf92=>_0x24bf92['data']['newRange']&&_0x24bf92['name']['startsWith']('suggestion:attribute:'));for(const _0x3fd357 of _0x3aa6a4){const {subType:_0x29ad5d,id:_0x4b724f}=this['_splitMarkerName'](_0x3fd357['name']),_0x20a9a1=_0x29ad5d['split']('|')[0x0];for(const _0x5e7e2e of this['getSuggestions']({'skipNotAttached':!0x0}))_0x5e7e2e['id']!=_0x4b724f&&'attribute'==_0x5e7e2e['type']&&_0x5e7e2e['data']&&_0x5e7e2e['data']['key']==_0x20a9a1&&_0x5e7e2e['getFirstRange']()['isIntersecting'](_0x3fd357['data']['newRange'])&&(this['_reduceSuggestionAttributeRange'](_0x5e7e2e,_0x3fd357['data']['newRange'],_0x4662e3),_0x32281b=!0x0);}return _0x32281b;}['recordAttributeChanges'](_0x2b6c22){this['_recordAttributeSuggestions']=!0x0,_0x2b6c22();}['_isRegisteredAttribute'](_0x183e52){const _0x3dd011=this['_isBlockAttribute'](_0x183e52),_0x302d3c=this['_isInlineAttribute'](_0x183e52);return _0x3dd011||_0x302d3c;}['_reduceExistingSuggestions'](_0x40a0b9,_0x5c0089){if(0x0==_0x5c0089['length'])return!0x1;let _0x5707e9=!0x1;for(const _0x49dceb of _0x5c0089){const _0x1b1b75=this['_findSuggestions'](_0x49dceb['range'],'attribute')['filter'](_0x1cc9b3=>!_0x1cc9b3['meta']['isNextTo'])['map'](_0x1aec30=>_0x1aec30['suggestion']),_0x313646=_0x5b6d50({'newValue':_0x49dceb['newValue']});_0x1b1b75['filter'](_0x397320=>{const [_0x2ac690,_0x1f2780]=_0x397320['subType']['split']('|');return _0x2ac690==_0x49dceb['key']&&_0x1f2780!=_0x313646;})['forEach'](_0x3ac889=>{this['_reduceSuggestionAttributeRange'](_0x3ac889,_0x49dceb['range'],_0x40a0b9),_0x5707e9=!0x0;});}return _0x5707e9;}['_reduceSuggestionAttributeRange'](_0x32c57a,_0x48006a,_0x3717d5){const _0x3e9bc6=_0x32c57a['getFirstRange']()['getDifference'](_0x48006a);0x0!==_0x3e9bc6['length']?0x1!==_0x3e9bc6['length']?this['_breakSuggestionMarker'](_0x32c57a,_0x48006a['start'],_0x48006a['end']):this['_setSuggestionRange'](_0x32c57a,_0x3e9bc6[0x0]):_0x3717d5['removeMarker'](_0x32c57a['getFirstMarker']());}}class Kt{['_editor'];['_model'];['_customCallbacks'];['_defaultCallbacks'];constructor(_0x491b1c){this['_editor']=_0x491b1c,this['_model']=_0x491b1c['model'],this['_customCallbacks']=new Map(),this['_defaultCallbacks']=new Map(),this['_registerDefaultCallbacks']();}['buildSuggestion'](_0x2c07a4,_0x24f9df,_0x34ee1a,_0x4fae01,_0x72837e,_0x56a881,_0x3f3383){return new R(this['_model'],{'type':_0x2c07a4,'subType':_0x24f9df,'id':_0x34ee1a,'originalSuggestionId':_0x3f3383,'author':_0x4fae01,'creator':_0x4fae01,'attributes':_0x72837e,'onAttributesChange':_0x56a881,'onAccept':(..._0x45519b)=>this['getSuggestionCallback'](_0x2c07a4,_0x24f9df,'accept')(..._0x45519b),'onDiscard':(..._0x11a249)=>this['getSuggestionCallback'](_0x2c07a4,_0x24f9df,'discard')(..._0x11a249)});}['registerCustomCallback'](_0x15c549,_0x545964,_0x43c9b4,_0x262d30){const _0x2a8853=_0x15c549+':'+_0x545964+':'+_0x43c9b4;this['_customCallbacks']['set'](_0x2a8853,_0x262d30);}['getSuggestionCallback'](_0x153038,_0xadfdee,_0x1e55c4){const _0x7f991b=_0x153038+':'+_0xadfdee+':'+_0x1e55c4;return this['_customCallbacks']['get'](_0x7f991b)||this['_defaultCallbacks']['get'](_0x153038+':'+_0x1e55c4);}['_registerDefaultCallbacks'](){const _0x349401=()=>!0x1,_0x457b2c=_0x3e4629=>{_0x3e4629['sort']((_0x17ac7c,_0x30e597)=>_0x17ac7c['start']['isBefore'](_0x30e597['start'])?0x1:-0x1),this['_model']['change'](_0x426103=>{for(const _0x56798e of _0x3e4629){let _0x5e165c;_0x5e165c=_0x56798e['end']['isAtEnd']&&_0x56798e['end']['parent']==_0x56798e['start']['nodeAfter']?_0x426103['createSelection'](_0x56798e['start']['nodeAfter'],'on'):_0x426103['createSelection'](_0x56798e),this['_model']['deleteContent'](_0x5e165c,{'forceDefaultExecution':!0x0,'doNotAutoparagraph':!0x0,'doNotFixSelection':!0x0});}});},_0x40143d=(_0x347be6,_0x52bcbf)=>{_0x52bcbf&&this['_model']['change'](_0x42874f=>{const {commandName:_0x549fdd,commandParams:_0x1903ab=[]}=_0x52bcbf,_0x1f4124=_0x347be6['map'](_0x3300b9=>(Ht(_0x3300b9)&&(_0x3300b9=this['_model']['createRange'](_0x3300b9['end'])),_0x3300b9))['filter'](_0x53e986=>'$graveyard'!==_0x53e986['root']['rootName']);if(_0x1f4124['length']<0x1)return;const _0x33a4f9=Array['from'](this['_model']['document']['selection']['getRanges']())['map'](_0x22fcd0=>_0x4b855c['fromRange'](_0x22fcd0));_0x42874f['setSelection'](_0x1f4124);for(const _0x399c9c of this['_editor']['commands']['commands']())_0x399c9c['refresh']();_0x1903ab['push']({'forceDefaultExecution':!0x0}),this['_editor']['execute'](_0x549fdd,..._0x1903ab);const _0x4e7712=_0x33a4f9['filter'](_0x48ea3b=>'$graveyard'!=_0x48ea3b['root']['rootName']);_0x4e7712['length']>0x0&&_0x42874f['setSelection'](_0x4e7712);for(const _0x280ec6 of _0x33a4f9)_0x280ec6['detach']();});},_0x58416d=(_0x5ba8be,_0x6f53fb)=>0x1==_0x5ba8be['length']&&0x1==_0x6f53fb['length']&&_0x5ba8be[0x0]['end']['isEqual'](_0x6f53fb[0x0]['start']),_0x2520ec=(_0xb19ca3,_0x110a4f,_0x523af9,_0x22cd0f)=>ie(_0xb19ca3,_0x110a4f,_0x523af9,_0x22cd0f)?[_0xb19ca3,_0x110a4f]:ie(_0x110a4f,_0xb19ca3,_0x22cd0f,_0x523af9)?[_0x110a4f,_0xb19ca3]:null;this['_defaultCallbacks']['set']('insertion:accept',_0x349401),this['_defaultCallbacks']['set']('insertion:discard',_0x457b2c),this['_defaultCallbacks']['set']('insertion:join',_0x58416d),this['_defaultCallbacks']['set']('insertion:chain',_0x2520ec),this['_defaultCallbacks']['set']('deletion:accept',_0x457b2c),this['_defaultCallbacks']['set']('deletion:discard',_0x349401),this['_defaultCallbacks']['set']('deletion:join',_0x58416d),this['_defaultCallbacks']['set']('deletion:chain',_0x2520ec),this['_defaultCallbacks']['set']('formatInline:accept',_0x40143d),this['_defaultCallbacks']['set']('formatInline:discard',_0x349401),this['_defaultCallbacks']['set']('formatInline:join',_0x58416d),this['_defaultCallbacks']['set']('formatInline:chain',_0x349401),this['_defaultCallbacks']['set']('formatBlock:accept',_0x40143d),this['_defaultCallbacks']['set']('formatBlock:discard',_0x349401),this['_defaultCallbacks']['set']('formatBlock:join',_0x58416d),this['_defaultCallbacks']['set']('formatBlock:chain',_0x349401),this['_defaultCallbacks']['set']('attribute:accept',_0x349401),this['_defaultCallbacks']['set']('attribute:discard',(_0x455a86,_0x65116c)=>{if(!_0x65116c)return;const _0x2df54a=this['_editor']['plugins']['get'](d);this['_model']['change'](_0x2c3413=>{if(_0x65116c['key']==m)for(const _0x96e1da of _0x455a86){const _0x2ce561=_0x96e1da['start']['nodeAfter'],_0x38664d=_0x65116c['oldValue'];_0x2c3413['rename'](_0x2ce561,_0x38664d);}else{if(_0x2df54a['_isBlockAttribute'](_0x65116c['key'])){for(const _0x5ed74b of _0x455a86)void 0x0!==_0x65116c['oldValue']?_0x2c3413['setAttribute'](_0x65116c['key'],_0x65116c['oldValue'],_0x5ed74b['start']['nodeAfter']):_0x2c3413['removeAttribute'](_0x65116c['key'],_0x5ed74b['start']['nodeAfter']);}else{for(const _0x2ac4c9 of _0x455a86)_0x65116c['oldValue']?_0x2c3413['setAttribute'](_0x65116c['key'],_0x65116c['oldValue'],_0x2ac4c9):_0x2c3413['removeAttribute'](_0x65116c['key'],_0x2ac4c9);}}});}),this['_defaultCallbacks']['set']('attribute:join',_0x58416d);}}function qt(_0x5eb349,_0x4d4b48,_0x3a6a87){for(const _0x17fc36 of _0x4d4b48['parent']['getAncestors']({'includeSelf':!0x0,'parentFirst':!0x0})){if(_0x17fc36['root']==_0x17fc36)return!0x1;if(!_0x3a6a87['containsItem'](_0x17fc36))return!0x1;if(_0x5eb349['isObject'](_0x17fc36)||_0x5eb349['isLimit'](_0x17fc36))return!0x0;}return!0x1;}function Ht(_0x41ca9d){return _0x41ca9d['end']['parent']==_0x41ca9d['start']['nodeAfter']&&_0x41ca9d['end']['isAtStart'];}function Wt(_0x5779cc,_0x58a4c8,_0x499cf2,_0xf6dfab){const _0x51ebf6=_0x2ef51c=>!_0x2ef51c['item']['is']('$textProxy')&&!_0xf6dfab['isObject'](_0x2ef51c['item']),_0x2d84df=_0x5779cc['start']['getLastMatchingPosition'](_0x51ebf6),_0x4a77e1=_0x5779cc['end']['getLastMatchingPosition'](_0x51ebf6,{'direction':'backward'});return(!_0x5779cc['start']['isEqual'](_0x2d84df)||!_0x5779cc['end']['isEqual'](_0x4a77e1))&&(_0x2d84df['isBefore'](_0x4a77e1)?_0x499cf2['updateMarker'](_0x58a4c8,{'range':_0x499cf2['createRange'](_0x2d84df,_0x4a77e1)}):_0x499cf2['removeMarker'](_0x58a4c8),!0x0);}function zt(_0x42d707){return _0x5b6d50(_0x42d707);}function Qt(_0x51eef4){const _0x510ee0=_0x51eef4['start']['nodeAfter'];return _0x510ee0&&_0x510ee0['is']('element');}function Xt(_0x1a1930){return Ht(_0x1a1930)||function(_0x31cf09){return _0x31cf09['start']['parent']==_0x31cf09['end']['nodeBefore']&&_0x31cf09['start']['isAtEnd'];}(_0x1a1930);}function Yt(_0x414945,_0x155f23){try{const _0x1bb5a8=_0x414945['getRange']();for(const _0x375133 of _0x155f23)if(_0x414945!==_0x375133&&_0x1bb5a8&&_0x1bb5a8['isIntersecting'](_0x375133['getRange']()))return!0x0;return!0x1;}catch{return!0x1;}}function Zt(_0x46a4cc,_0x23cf41){const _0xa2ec80=_0x46a4cc['end']['nodeBefore'];if(_0xa2ec80&&_0xa2ec80['is']('element')&&_0x23cf41['schema']['isBlock'](_0xa2ec80)&&!_0x23cf41['schema']['isObject'](_0xa2ec80)){const _0x3e9ddc=_0x23cf41['createPositionAt'](_0xa2ec80,'end');return _0x23cf41['createRange'](_0x46a4cc['start'],_0x3e9ddc);}return _0x46a4cc;}function te(_0xc85e23,_0x27066d){return null==_0xc85e23['end']['nodeBefore']&&_0xc85e23['end']['parent']==_0xc85e23['start']['nodeAfter']?ee(_0xc85e23['start']['nodeAfter'],_0x27066d):_0xc85e23;}function ee(_0x590400,_0x3c0497){const _0x40f00e=_0x3c0497['schema']['isObject'](_0x590400)||_0x3c0497['schema']['isSelectable'](_0x590400);return _0x3c0497['createRange'](_0x3c0497['createPositionAt'](_0x590400,'before'),_0x40f00e?_0x3c0497['createPositionAfter'](_0x590400):_0x3c0497['createPositionAt'](_0x590400,'end'));}function ie(_0x13f3b2,_0xdb1a8f,_0x5b7d2f,_0x158ee9){return!!ne(_0x13f3b2,_0xdb1a8f)&&_0x5b7d2f['end']['isEqual'](_0x158ee9['start']);}function ne(_0x2f83d4,_0x5aaf90){if(!_0x2f83d4['_isDataLoaded']||!_0x5aaf90['_isDataLoaded'])return!0x1;const _0x2c7f0f=new Set(Object['keys'](_0x2f83d4['attributes'])),_0xe8650e=new Set(Object['keys'](_0x5aaf90['attributes']));if(_0x2c7f0f['delete']('groupId'),_0xe8650e['delete']('groupId'),0x0==_0x2c7f0f['size']&&0x0==_0xe8650e['size'])return!0x0;if(_0x2c7f0f['size']!=_0xe8650e['size'])return!0x1;const _0x176055={..._0x2f83d4['attributes']},_0x453a25={..._0x5aaf90['attributes']};return delete _0x176055['groupId'],delete _0x453a25['groupId'],JSON['stringify'](_0x176055)==JSON['stringify'](_0x453a25);}function se(_0x47cfe8,_0x3b6561){const _0x326957=oe(_0x47cfe8['attributes']),_0x29a19e=oe(_0x3b6561);if(!_0x47cfe8['_isDataLoaded'])return!0x1;for(const _0x1310b6 of Object['keys'](_0x29a19e))if(!_0x389819(_0x326957[_0x1310b6],_0x29a19e[_0x1310b6]))return!0x1;return!0x0;}function oe(_0x222731){const _0xa16f6a=Object['assign']({},_0x222731);return delete _0xa16f6a['skipNestingCheck'],delete _0xa16f6a['tablePasteChainId'],_0xa16f6a;}function re(_0x33d8bd){return _0x33d8bd['split']('|')[0x0];}function ae(_0x5e28e2,_0x5891c9){for(const [_0xc6cd9,_0x5b0b95]of _0x5e28e2['markers']){const _0x1d474d=_0x3c2c3e['_createFromRanges'](_0x5b0b95['getTransformedByOperation'](_0x5891c9));_0x5e28e2['markers']['set'](_0xc6cd9,_0x1d474d);}}class ve extends/* #__PURE__ -- @preserve */
_0x133706(){['model'];['view'];['commentThreadController'];['_editor'];['_acceptCommand'];['_discardCommand'];['_pendingAction'];constructor(_0x3d3789,_0x514442,_0x37119a,_0x11fd6f){super(),this['model']=_0x514442,this['view']=_0x37119a,this['commentThreadController']=_0x11fd6f,this['_editor']=_0x3d3789,this['_acceptCommand']=_0x3d3789['commands']['get']('acceptSuggestion'),this['_discardCommand']=_0x3d3789['commands']['get']('discardSuggestion'),this['view']['bind']('isEnabled')['to'](this['_acceptCommand'],this['_discardCommand'],(_0x4da3da,_0x50bace)=>_0x4da3da||_0x50bace),this['view']['bind']('canAccept')['to'](this['_acceptCommand'],'isEnabled',_0x3c0919=>_0x3c0919&&this['_editor']['model']['canEditAt'](_0x514442['getRanges']())),this['view']['bind']('canDiscard')['to'](this['_discardCommand'],'isEnabled',_0x535d3c=>_0x535d3c&&this['_editor']['model']['canEditAt'](_0x514442['getRanges']())),this['_pendingAction']=null,_0x37119a['isDirty']&&this['_setPendingAction'](),this['listenTo'](_0x37119a,'acceptSuggestion',()=>this['acceptSuggestion']()),this['listenTo'](_0x37119a,'discardSuggestion',()=>this['discardSuggestion']()),this['listenTo'](_0x37119a,'change:isDirty',()=>{_0x37119a['isDirty']?this['_setPendingAction']():this['_removePendingAction']();});}['acceptSuggestion'](){this['_acceptCommand']['execute'](this['model']['id']);}['discardSuggestion'](){this['_discardCommand']['execute'](this['model']['id']);}['destroy'](){this['view']['unbind']('isEnabled'),this['view']['unbind']('canAccept'),this['view']['unbind']('canDiscard'),this['stopListening'](),this['commentThreadController']['destroy'](),this['_pendingAction']&&this['_removePendingAction']();}['_setPendingAction'](){const _0x37e295=o(this['_editor']['locale'],'PENDING_ACTION_SUGGESTION');this['_pendingAction']=this['_editor']['plugins']['get']('PendingActions')['add'](_0x37e295);}['_removePendingAction'](){null!==this['_pendingAction']&&this['_editor']['plugins']['get']('PendingActions')['remove'](this['_pendingAction']),this['_pendingAction']=null;}}class ii extends _0xaae3cc{['commentsListView'];['commentThreadInputView'];['ariaDescriptionView'];['focusables'];['focusTracker'];['keystrokes'];['focusCycler'];['_model'];['_localUser'];['_config'];constructor(_0xc597ec,_0x4471fd,_0x62e526,_0x2649a7){super(_0xc597ec),this['commentsListView']=null,this['commentThreadInputView']=null,this['ariaDescriptionView']=new _0x41d892(_0xc597ec,o(_0xc597ec,'SUGGESTION_THREAD_DESCRIPTION')),this['set']('isActive',!0x1),this['set']('authoredAt',_0x4471fd['authoredAt']),this['bind']('authoredAt')['to'](_0x4471fd),this['set']('descriptionParts',[]),this['set']('isDirty',!0x1),this['set']('isEnabled',!0x1),this['set']('canAccept',!0x1),this['set']('canDiscard',!0x1),this['bind']('ariaLabel')['to'](this,'length',_0x4471fd,'authoredAt',this,'descriptionParts',(_0x21a600,_0x1af03e,_0x54f0ac)=>{const _0x457a20=_0x54f0ac['map'](_0x287522=>ls(_0x287522['content']))['join']('.\x20')+'.';return o(this['locale'],'SUGGESTION_THREAD_ARIA_LABEL',[_0x21a600-0x1,_0x4471fd['author']['name'],_0x1af03e?_0x2649a7['formatDateTime'](_0x1af03e):'',new DOMParser()['parseFromString'](_0x457a20,'text/html')['body']['textContent']]);}),this['focusables']=new _0x304110(),this['focusTracker']=new _0xfc8302(),this['keystrokes']=new _0x30fddb(),this['focusCycler']=new _0x155550({'focusables':this['focusables'],'focusTracker':this['focusTracker'],'keystrokeHandler':this['keystrokes'],'keystrokeHandlerOptions':{'filter':_0x2f6795=>_0x2f6795['target']!==this['element']},'actions':{'focusPrevious':'shift+tab','focusNext':'tab'}}),this['_model']=_0x4471fd,this['_localUser']=_0x62e526,this['_config']=_0x2649a7,_0x2649a7['disableComments']?this['set']('length',0x1):this['_createCommentViews']();}['render'](){super['render'](),_0x19bae6(this,this['focusables']);}['focus'](){this['element']['focus']();}['destroy'](){this['commentsListView']&&this['commentsListView']['destroy'](),this['commentThreadInputView']&&this['commentThreadInputView']['destroy'](),super['destroy']();}['_createCommentViews'](){const {CommentsListView:_0x248953}=this['_config'];this['commentsListView']=new _0x248953(this['locale'],this['_model']['commentThread'],Object['assign']({'CommentView':this['_config']['CommentView']},this['_config'])),this['commentsListView']['delegate']('removeComment')['to'](this),this['commentsListView']['delegate']('updateComment')['to'](this),this['commentsListView']['bind']('isActive')['to'](this),this['set']('length',this['commentsListView']['length']+0x1),this['bind']('length')['to'](this['commentsListView'],'length',_0x3e2706=>_0x3e2706+0x1),this['commentThreadInputView']=this['_createCommentThreadInputView'](),this['on']('removeComment',()=>this['focus']()),this['bind']('isDirty')['to'](this['commentsListView'],'hasDirtyComment',this['commentThreadInputView']['commentInputView'],'value',(_0x136b44,_0xdbdf49)=>_0x136b44||!!_0xdbdf49);}['_createCommentThreadInputView'](){const {CommentThreadInputView:_0x1725e9}=this['_config'],_0x3070c5=new _0x1725e9(this['locale'],this['_localUser'],this['_config']['editorConfig']),_0x422ebe=_0x3070c5['commentInputView'];return _0x3070c5['bind']('showInput')['to'](this,'isActive',this['_model']['commentThread'],'isReadOnly',_0x422ebe,'value',(_0x151e88,_0x476421,_0x455e87)=>!!_0x455e87||_0x151e88&&!_0x476421),_0x422ebe['on']('submit',(_0x28f7d4,_0x2fa131)=>{this['fire']('addComment',_0x2fa131),_0x422ebe['editor']['setData']('');}),_0x422ebe['on']('cancel',()=>this['focus']()),_0x422ebe['bind']('disabledSubmit')['to'](this['_model']['commentThread'],'isReadOnly'),_0x3070c5;}}class xe extends ii{['suggestionView'];['_descriptionElement'];constructor(_0x18e8c2,_0x4f3fb5,_0x5a51c6,_0x53d173){super(_0x18e8c2,_0x4f3fb5,_0x5a51c6,_0x53d173),this['set']('type',''),this['bind']('type')['to'](this,'descriptionParts',_0x317c5a=>_0x317c5a&&_0x317c5a[0x0]?_0x317c5a[0x0]['type']:''),this['bind']('description')['to'](this,'descriptionParts',this,'isActive',(_0x307f4c,_0x178113)=>{let _0x5721b6='';for(const _0x448849 of _0x307f4c)_0x5721b6+='<p>'+ls(_0x448849['content'],_0x448849['color'])+'</p>';return _0x178113?_0x5721b6:_0x4e31bd(_0x5721b6,{'limit':0x8c});}),this['_descriptionElement']=null,this['suggestionView']=new _0x53d173['SuggestionView'](_0x18e8c2,_0x4f3fb5,{'formatDateTime':_0x53d173['formatDateTime']}),this['suggestionView']['bind']('description')['to'](this),this['suggestionView']['delegate']('acceptSuggestion','discardSuggestion')['to'](this),this['suggestionView']['acceptButton']['bind']('isEnabled')['to'](this,'canAccept'),this['suggestionView']['discardButton']['bind']('isEnabled')['to'](this,'canDiscard'),this['focusables']['add'](this['suggestionView']),this['commentsListView']&&this['focusables']['add'](this['commentsListView']),this['commentThreadInputView']&&this['focusables']['add'](this['commentThreadInputView']),this['setTemplate'](this['getTemplate']());}['getTemplate'](){const _0x4a2a60=this['bindTemplate'],_0x1c3082=[this['suggestionView']];return this['commentsListView']&&_0x1c3082['push'](this['commentsListView']),this['commentThreadInputView']&&_0x1c3082['push'](this['commentThreadInputView']),_0x1c3082['push'](this['ariaDescriptionView']),{'tag':'div','attributes':{'class':['ck','ck-rounded-corners','ck-suggestion-wrapper',_0x4a2a60['if']('isActive','ck-suggestion-wrapper--active'),_0x4a2a60['to']('type',_0x4fae11=>'ck-suggestion-'+_0x4fae11),this['_config']['disableComments']&&'ck-suggestion--disabled-comments'],'data-suggestion-id':this['_model']['id'],'data-thread-id':this['_model']['commentThread']['id'],'data-author-id':this['_model']['author']['id'],'tabindex':0x0,'role':'listitem','aria-label':_0x4a2a60['to']('ariaLabel'),'aria-describedby':this['ariaDescriptionView']['id']},'children':_0x1c3082};}['render'](){super['render'](),this['commentsListView']&&(this['commentsListView']['delegate']('editorReady')['to'](this),this['commentsListView']['delegate']('editorDestroyed')['to'](this)),this['commentThreadInputView']&&(this['commentThreadInputView']['delegate']('editorReady')['to'](this),this['commentThreadInputView']['delegate']('editorDestroyed')['to'](this));}}class Ae extends _0xaae3cc{['userView'];['acceptButton'];['discardButton'];['focusables'];['focusTracker'];['keystrokes'];['focusCycler'];['_model'];['_config'];constructor(_0x13e26b,_0x3b4811,_0x3005ff){super(_0x13e26b),this['_model']=_0x3b4811,this['_config']=_0x3005ff,this['set']('description',''),this['bind']('authoredAt')['to'](_0x3b4811),this['acceptButton']=this['_createButton'](o(_0x13e26b,'Accept\x20suggestion'),_0x2a3d51,'ck-suggestion--accept','acceptSuggestion','sw'),this['discardButton']=this['_createButton'](o(_0x13e26b,'Discard\x20suggestion'),_0x241d06,'ck-suggestion--discard','discardSuggestion','sw'),this['userView']=new _0x883051(_0x13e26b,_0x3b4811['author'],this['getUserViewNotificationText']()),this['userView']['extendTemplate']({'attributes':{'class':['ck-suggestion__user','ck-annotation__user'],'aria-hidden':!0x0}}),this['focusables']=new _0x304110([this['acceptButton'],this['discardButton']]),this['focusTracker']=new _0xfc8302(),this['keystrokes']=new _0x30fddb(),this['focusCycler']=new _0x155550({'focusables':this['focusables'],'focusTracker':this['focusTracker'],'keystrokeHandler':this['keystrokes'],'actions':{'focusPrevious':'shift+tab','focusNext':'tab'},'keystrokeHandlerOptions':{'filter':_0x29b049=>_0x29b049['target']!==this['element']}}),this['setTemplate'](this['getTemplate']());}['render'](){super['render']();const _0x17780c=this['element']['querySelector']('.ck-annotation__content-wrapper');_0x17780c['innerHTML']=this['description'],this['on']('change:description',(_0x49ca75,_0x43d418,_0x1ccb4a)=>{_0x17780c['innerHTML']=_0x1ccb4a;}),this['_setupKeyboardNavigation']();}['getTemplate'](){const _0x3ffe32=this['bindTemplate'],_0x311425=[{'tag':'div','attributes':{'class':['ck-suggestion__info','ck-annotation__info']},'children':[{'tag':'span','children':[{'text':this['userView']['name']}],'attributes':{'class':['ck-suggestion__info-name','ck-annotation__info-name'],'data-cke-tooltip-text':this['userView']['name']}},{'tag':'time','attributes':{'datetime':_0x3ffe32['to']('authoredAt'),'class':['ck-comment__info-time','ck-annotation__info-time']},'children':[{'text':_0x3ffe32['to']('authoredAt',_0x1366cb=>this['_config']['formatDateTime'](_0x1366cb))}]}]},{'tag':'div','attributes':{'class':['ck-suggestion__actions','ck-annotation__actions']},'children':[this['acceptButton'],this['discardButton']]},{'tag':'div','attributes':{'class':['ck-annotation__content-wrapper']}}];return this['_model']['isExternal']&&_0x311425['push']({'tag':'div','attributes':{'class':['ck-comment__external']},'children':[{'text':this['getExternalSuggestionNote']()}]}),{'tag':'div','attributes':{'class':['ck-suggestion','ck-annotation'],'tabindex':-0x1},'children':[this['userView'],{'tag':'div','attributes':{'class':['ck-suggestion__main','ck-annotation__main'],'role':'presentation'},'children':_0x311425}]};}['focus'](){this['element']['focus']();}['getUserViewNotificationText'](){return this['_model']['isExternal']?'importWord'===this['_model']['attributes']['@external']['source']?o(this['locale'],'EXTERNAL_IMPORT_WORD_AVATAR',this['_model']['creator']['name']):o(this['locale'],'EXTERNAL_AVATAR',this['_model']['creator']['name']):null;}['getExternalSuggestionNote'](){return'importWord'===this['_model']['attributes']['@external']['source']?o(this['locale'],'EXTERNAL_IMPORT_WORD_SUGGESTION'):o(this['locale'],'EXTERNAL_SUGGESTION');}['_createButton'](_0x58edb2,_0x3c2b10,_0x55048c,_0x4f7825,_0x349bcb){const _0xe1d5b3=new _0x219ef3(this['locale']);return _0xe1d5b3['set']({'label':_0x58edb2,'icon':_0x3c2b10,'tooltip':!0x0,'tooltipPosition':_0x349bcb}),_0xe1d5b3['extendTemplate']({'attributes':{'class':_0x55048c}}),_0xe1d5b3['on']('execute',()=>{this['fire'](_0x4f7825,this['_model']['id']);}),_0xe1d5b3;}['_setupKeyboardNavigation'](){const _0x2110d0=this['element'];this['keystrokes']['listenTo'](_0x2110d0);for(const _0x489a9e of this['focusables'])this['focusTracker']['add'](_0x489a9e['element']),this['keystrokes']['listenTo'](_0x489a9e['element']);this['keystrokes']['set']('enter',(_0x418f90,_0x22cc88)=>{_0x2110d0===_0x418f90['target']&&(this['focusCycler']['focusFirst'](),_0x22cc88());}),this['keystrokes']['set']('esc',(_0x2493d2,_0x8f4b1f)=>{_0x2110d0!==_0x2493d2['target']&&(this['focus'](),_0x8f4b1f());});}}class u extends _0x150e1e{['licenseKey'];['_licenseKeyCheckInterval'];['_suggestionToController'];['_viewToController'];['_annotationViews'];['_handleControllerBuffer'];['_disableComments'];static get['requires'](){return[d,_0x49c4c1,'CommentsRepository','Annotations','EditorAnnotations'];}static get['pluginName'](){return'TrackChangesUI';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}constructor(_0x2bc60d){super(_0x2bc60d),this['_suggestionToController']=new Map(),this['_viewToController']=new Map(),this['_annotationViews']=new Map(),this['_handleControllerBuffer']=new Map();const _0x2e5c8e=this['editor']['config'];_0x2e5c8e['define']('trackChanges.SuggestionThreadView',xe),_0x2e5c8e['define']('trackChanges.SuggestionView',Ae),_0x2e5c8e['define']('trackChanges.disableComments',!0x1),this['_disableComments']=_0x2e5c8e['get']('trackChanges.disableComments');}['_handleSuggestionControllerDelayed'](_0x6676c9,_0x1736d5){0x0===this['_handleControllerBuffer']['size']&&setTimeout(()=>{for(const [_0x4b675d,_0x9c8182]of this['_handleControllerBuffer']){const _0x118a68=this['_suggestionToController']['has'](_0x4b675d);_0x118a68||_0x9c8182?_0x118a68&&_0x9c8182&&this['_destroyController'](_0x4b675d):this['_initializeController'](_0x4b675d);}this['_handleControllerBuffer']['clear'](),this['editor']['plugins']['get']('EditorAnnotations')['refreshSelectedViews'](),this['_refreshActiveMarkers']();},0xa),this['_handleControllerBuffer']['set'](_0x6676c9,_0x1736d5);}['init'](){const _0xd31302=this['editor'],_0x3591a1=_0xd31302['plugins']['get']('TrackChangesEditing'),_0xd79dca=_0xd31302['plugins']['get']('Annotations'),_0x33e84b=_0xd31302['plugins']['get']('EditorAnnotations'),_0x47b607=_0xd31302['plugins']['get']('CommentsRepository');this['_addUIComponentsToFactory'](),_0x33e84b['addSourceCollector'](()=>{const _0x456bd0=[];for(const [_0x220546,_0x7ff91a]of Array['from'](this['_suggestionToController'])){const _0x2c2017=_0x220546['getAllAdjacentSuggestions'](),_0x3b71bb=[];for(const _0x2d872b of _0x2c2017){if(!_0x2d872b['isInContent'])continue;if(_0x2d872b['isMultiRange']){_0x3b71bb['push'](..._0x2d872b['getRanges']());continue;}const _0x331c93=_0x2d872b['getFirstRange']();if(_0x3b71bb['length']>0x0){const _0x1af91d=_0x3b71bb[0x0]['getJoined'](_0x331c93);if(_0x1af91d){_0x3b71bb[0x0]=_0x1af91d;continue;}}_0x3b71bb['push'](_0x331c93);}_0x456bd0['push']([_0x7ff91a['view'],_0x3b71bb]);}return _0x456bd0;}),this['listenTo'](_0x3591a1,'suggestionLoaded',(_0x27d389,_0x56f43a)=>{this['listenTo'](_0x56f43a,'change:previous',(_0x194cab,_0xf6c591,_0x4b9381,_0x209f9c)=>{_0x56f43a['isInContent']&&(null==_0x4b9381?(this['_updateController'](_0x209f9c['head']),this['_handleSuggestionControllerDelayed'](_0x56f43a,!0x1)):(this['_updateController'](_0x4b9381['head']),null==_0x209f9c&&this['_handleSuggestionControllerDelayed'](_0x56f43a,!0x0)));}),null!==_0x56f43a['previous']?this['_updateController'](_0x56f43a['head']):this['_handleSuggestionControllerDelayed'](_0x56f43a,!0x1);}),this['listenTo'](_0x3591a1,'suggestionUnloaded',(_0x208de9,_0x25af63,_0x2ad712)=>{this['stopListening'](_0x25af63,'change:previous'),this['_handleControllerBuffer']['delete'](_0x25af63),this['_suggestionToController']['has'](_0x25af63)&&this['_destroyController'](_0x25af63),_0x2ad712&&this['_updateController'](_0x2ad712['head']);}),this['listenTo'](_0x3591a1,'suggestionChanged',(_0x29f48c,_0x217d30)=>{this['_updateController'](_0x217d30);}),this['listenTo'](_0xd79dca,'change:activeAnnotations',()=>{this['_refreshActiveMarkers']();}),this['listenTo'](_0x47b607,'addComment',(_0x335ac2,{threadId:_0x137971,isFromAdapter:_0x9a941f})=>{if(_0x9a941f||!_0x3591a1['hasSuggestion'](_0x137971))return;const _0x558e63=_0x3591a1['getSuggestion'](_0x137971);this['_suggestionToController']['get'](_0x558e63)['view']['commentsListView']['focus'](-0x1);},{'priority':'lowest'}),this['licenseKey']=this['editor']['config']['get']('licenseKey');const _0x39997b=this['editor'];this['_licenseKeyCheckInterval']=setInterval(()=>{let _0x304c29;for(const _0x24f0e8 in _0x39997b){const _0x5a3c13=_0x24f0e8,_0x589b1f=_0x39997b[_0x5a3c13];if('trackChangesLicenseKeyValid'==_0x589b1f||'trackChangesLicenseKeyInvalid'==_0x589b1f||'trackChangesLicenseKeyExpired'==_0x589b1f||'trackChangesLicenseKeyDomainLimit'==_0x589b1f||'trackChangesLicenseKeyNotAllowed'==_0x589b1f||'trackChangesLicenseKeyEvaluationLimit'==_0x589b1f||'trackChangesLicenseKeyTrialLimit'==_0x589b1f||'trackChangesLicenseKeyUsageLimit'==_0x589b1f){delete _0x39997b[_0x5a3c13],_0x304c29=_0x589b1f,clearInterval(this['_licenseKeyCheckInterval']),this['_licenseKeyCheckInterval']=void 0x0;break;}}'trackChangesLicenseKeyInvalid'==_0x304c29&&_0x39997b['_showLicenseError']('invalid'),'trackChangesLicenseKeyExpired'==_0x304c29&&_0x39997b['_showLicenseError']('expired'),'trackChangesLicenseKeyDomainLimit'==_0x304c29&&_0x39997b['_showLicenseError']('domainLimit'),'trackChangesLicenseKeyNotAllowed'==_0x304c29&&_0x39997b['_showLicenseError']('featureNotAllowed','TrackChanges'),'trackChangesLicenseKeyEvaluationLimit'==_0x304c29&&_0x39997b['_showLicenseError']('evaluationLimit'),'trackChangesLicenseKeyTrialLimit'==_0x304c29&&_0x39997b['_showLicenseError']('trialLimit'),'trackChangesLicenseKeyUsageLimit'==_0x304c29&&_0x39997b['_showLicenseError']('usageLimit');},0x3e8);}['getAnnotationForSuggestion'](_0xd0ea38){const _0x20af83=this['_suggestionToController']['get'](_0xd0ea38);if(!_0x20af83)return null;return this['editor']['plugins']['get']('Annotations')['getByInnerView'](_0x20af83['view'])||null;}['getSuggestionForAnnotation'](_0x4e965a){const _0x1ce756=this['_viewToController']['get'](_0x4e965a['innerView']);return _0x1ce756?_0x1ce756['model']:null;}['_refreshActiveMarkers'](){const _0x153416=this['editor']['plugins']['get']('Annotations'),_0x33c202=this['editor']['plugins']['get']('TrackChangesEditing'),_0x1f0c68=Array['from'](_0x153416['activeAnnotations'],_0x3812b2=>_0x3812b2['innerView'])['filter'](_0x3344da=>this['_viewToController']['has'](_0x3344da)),_0x37513e=[];for(const _0x29c117 of _0x1f0c68){const _0x28b2b6=this['_viewToController']['get'](_0x29c117)['model']['getAllAdjacentSuggestions']();_0x37513e['push'](..._0x28b2b6['reduce']((_0x5adae5,_0x22f44e)=>[..._0x5adae5,..._0x22f44e['getMarkerNames']()],[]));}_0x33c202['activeMarkers']=_0x37513e;}['_addUIComponentsToFactory'](){const _0x4cd7fe=this['editor'],_0x1ffde9=_0x4cd7fe['locale'],_0x49bcea=o(_0x1ffde9,'Track\x20changes'),_0x44b0df=new _0x5b9dda([{'type':'switchbutton','model':new _0x4157ff({'withText':!0x0,'isToggleable':!0x0,'label':_0x49bcea,'commandName':'trackChanges','role':'menuitemcheckbox'})},{'type':'separator'},{'type':'button','model':new _0x4157ff({'withText':!0x0,'label':o(_0x1ffde9,'Accept\x20all\x20suggestions'),'commandName':'acceptAllSuggestions','role':'menuitem'})},{'type':'button','model':new _0x4157ff({'withText':!0x0,'label':o(_0x1ffde9,'Accept\x20all\x20selected\x20suggestions'),'commandName':'acceptSelectedSuggestions','role':'menuitem'})},{'type':'button','model':new _0x4157ff({'withText':!0x0,'label':o(_0x1ffde9,'Discard\x20all\x20suggestions'),'commandName':'discardAllSuggestions','role':'menuitem'})},{'type':'button','model':new _0x4157ff({'withText':!0x0,'label':o(_0x1ffde9,'Discard\x20all\x20selected\x20suggestions'),'commandName':'discardSelectedSuggestions','role':'menuitem'})}]);_0x4cd7fe['plugins']['has']('TrackChangesPreview')&&_0x44b0df['addMany']([{'type':'separator'},{'type':'button','model':new _0x4157ff({'withText':!0x0,'label':o(_0x1ffde9,'Preview\x20final\x20content'),'commandName':'previewFinalContent','role':'menuitem'})}]);for(const _0x4742b1 of _0x44b0df)if(Ee(_0x4742b1)){const _0x46a83a=_0x4cd7fe['commands']['get'](_0x4742b1['model']['commandName']);_0x4742b1['model']['bind']('isOn','isEnabled')['to'](_0x46a83a,'value','isEnabled');}_0x4cd7fe['ui']['componentFactory']['add']('trackChanges',_0x2c3a74=>this['_createToolbarButton'](_0x2c3a74,_0x44b0df,_0x49bcea)),_0x4cd7fe['ui']['componentFactory']['add']('menuBar:trackChanges',_0x42422e=>this['_createMenuBarMenu'](_0x42422e,_0x44b0df,_0x49bcea));}['_createToolbarButton'](_0x5594f6,_0x266ff4,_0x8f7893){const _0x361e7e=_0x207dba(_0x5594f6,_0x2a196d),_0xff6cf2=this['editor']['commands']['get']('trackChanges');_0x361e7e['buttonView']['set']({'tooltip':_0x8f7893,'label':_0x8f7893,'icon':_0x6b0c67}),_0x361e7e['buttonView']['bind']('isOn')['to'](_0xff6cf2,'value'),_0x361e7e['buttonView']['on']('execute',()=>{_0xff6cf2['execute'](),this['editor']['editing']['view']['focus']();}),_0x2a552b(_0x361e7e,_0x266ff4,{'role':'menu'});const _0x50243a=[];for(const _0x197aba of _0x266ff4)Ee(_0x197aba)&&_0x50243a['push'](this['editor']['commands']['get'](_0x197aba['model']['commandName']));const _0x299ef3=_0x361e7e['buttonView'];return _0x299ef3['actionView']['unbind']('isEnabled'),_0x299ef3['arrowView']['unbind']('isEnabled'),_0x299ef3['actionView']['bind']('isEnabled')['to'](_0xff6cf2,'isEnabled'),_0x299ef3['arrowView']['bind']('isEnabled')['toMany'](_0x50243a,'isEnabled',(..._0x217c7b)=>_0x217c7b['some'](_0x428f48=>_0x428f48)),_0x361e7e['on']('execute',_0x35c76d=>{this['editor']['execute'](_0x35c76d['source']['commandName']),this['editor']['editing']['view']['focus']();}),_0x361e7e;}['_createMenuBarMenu'](_0x3ea2ab,_0x105186,_0x1da32c){const _0x5e31f4=new _0x326e1f(_0x3ea2ab),_0x1ed3cd=this['editor']['commands']['get']('trackChanges');_0x5e31f4['buttonView']['set']({'label':_0x1da32c,'icon':_0x6b0c67});const _0x300d10=new _0x39e73e(_0x3ea2ab);for(const _0x27358a of _0x105186){if('separator'==_0x27358a['type']){_0x300d10['items']['add'](new _0xdc7e27(_0x3ea2ab));continue;}const _0x51064c=new _0x48fd2b(_0x3ea2ab,_0x5e31f4),_0x1abaa4=new _0x10a6f6(_0x3ea2ab),_0x164e98=_0x27358a['model'];_0x1abaa4['bind'](...Object['keys'](_0x164e98))['to'](_0x164e98),_0x1abaa4['delegate']('execute')['to'](_0x5e31f4),_0x1abaa4['on']('execute',()=>{this['editor']['execute'](_0x164e98['commandName']),this['editor']['editing']['view']['focus']();}),_0x51064c['children']['add'](_0x1abaa4),_0x300d10['items']['add'](_0x51064c);}return _0x5e31f4['bind']('isEnabled')['to'](_0x1ed3cd,'isEnabled'),_0x5e31f4['panelView']['children']['add'](_0x300d10),_0x5e31f4;}['_initializeController'](_0x56f10f){const _0x505e1c=this['editor'],_0x5bc321=_0x505e1c['config'],_0x369019=_0x505e1c['plugins']['get']('Annotations'),_0x36e1b8=_0x505e1c['plugins']['get']('CommentsRepository'),_0x3d0bdf=_0x505e1c['plugins']['get']('EditorAnnotations'),_0x3fa302=_0x505e1c['plugins']['get'](_0x49c4c1)['me'],_0xe20635=_0x5bc321['get']('trackChanges')['SuggestionThreadView'],_0x5a6408=_0x5bc321['get']('trackChanges')['SuggestionView'],{CommentsListView:_0x3e15c7,CommentThreadInputView:_0x294125}=_0x505e1c['plugins']['get']('CommentsUI');let _0xd5cc4b,_0x56f519,_0x18715a;this['_annotationViews']['has'](_0x56f10f['id'])?(_0x56f519=this['_annotationViews']['get'](_0x56f10f['id']),_0xd5cc4b=_0x56f519['mainView']):(_0xd5cc4b=new _0xe20635(_0x505e1c['locale'],_0x56f10f,_0x3fa302,{'disableComments':this['_disableComments'],'editorConfig':{..._0x5bc321['get']('comments.editorConfig'),'licenseKey':_0x5bc321['get']('licenseKey')},'maxCommentsWhenCollapsed':_0x5bc321['get']('comments.maxCommentsWhenCollapsed'),'maxThreadTotalWeight':_0x5bc321['get']('comments.maxThreadTotalWeight'),'maxCommentCharsWhenCollapsed':_0x5bc321['get']('comments.maxCommentCharsWhenCollapsed'),'formatDateTime':_0x51d8fc(_0x5bc321['get']('locale'),_0x505e1c['locale']),'CommentView':_0x5bc321['get']('comments')['CommentView'],'CommentsListView':_0x3e15c7,'CommentThreadInputView':_0x294125,'SuggestionView':_0x5a6408}),_0xd5cc4b['suggestionView']['acceptButton']['on']('execute',()=>{_0x505e1c['editing']['view']['focus']();}),_0xd5cc4b['suggestionView']['discardButton']['on']('execute',()=>{_0x505e1c['editing']['view']['focus']();}),_0x56f519=_0x369019['createAnnotationView'](this['editor']['locale'],_0xd5cc4b),_0x56f519['bind']('isDirty')['to'](_0xd5cc4b,'isDirty'),_0x56f519['bind']('length')['to'](_0xd5cc4b),_0x56f519['bind']('type')['to'](_0xd5cc4b,'type',_0x5193c8=>'suggestion-'+_0x5193c8),_0xd5cc4b['on']('escape',()=>{_0x18715a['fire']('escape');}),this['_annotationViews']['set'](_0x56f10f['id'],_0x56f519));const _0x177a3b=_0x36e1b8['createCommentThreadController'](_0x56f10f['commentThread'],_0xd5cc4b),_0x3773d5=new ve(_0x505e1c,_0x56f10f,_0xd5cc4b,_0x177a3b),_0x5eab4a=_0x56f10f['getAllAdjacentSuggestions']()['filter'](_0x2748d0=>_0x2748d0['isInContent']);_0xd5cc4b['descriptionParts']=_0x505e1c['plugins']['get']('TrackChangesEditing')['descriptionFactory']['getDescriptions'](_0x5eab4a),this['_suggestionToController']['set'](_0x56f10f,_0x3773d5),this['_viewToController']['set'](_0xd5cc4b,_0x3773d5);const _0x1974a6=()=>{const _0x531d66=[],_0x126894=_0x56f10f['getAllAdjacentSuggestions']()['filter'](_0xcbcdb2=>_0xcbcdb2['isInContent']);for(const _0x2fc754 of _0x126894)_0x531d66['push'](..._0x2fc754['getMarkers']());return _0x5ce32e(_0x505e1c['editing'],_0x531d66);};_0x18715a=_0x369019['createAnnotation']({'view':_0x56f519,'target':_0x1974a6,'type':()=>'suggestion-'+_0x3773d5['view']['type'],'isVisible':!!_0x1974a6()}),_0x36e1b8['_bindAnnotationToEditors'](_0xd5cc4b,_0x18715a),_0x369019['add'](_0x18715a),_0x3d0bdf['registerAnnotation'](_0x18715a);}['_destroyController'](_0x21b639){const _0xa25ff1=this['editor']['plugins']['get']('CommentsRepository'),_0x4a9904=this['editor']['plugins']['get']('Annotations'),_0x28a0a2=this['_suggestionToController']['get'](_0x21b639),_0x5bbc7a=_0x28a0a2['view'],_0x5044da=_0x4a9904['getByInnerView'](_0x5bbc7a);_0xa25ff1['_unbindEditors'](_0x5bbc7a),_0x5044da&&_0x4a9904['remove'](_0x5044da),this['_suggestionToController']['delete'](_0x21b639),this['_viewToController']['delete'](_0x5bbc7a),_0x28a0a2['destroy']();}['_updateController'](_0x331dee){if(!_0x331dee['isInContent']||!this['_suggestionToController']['has'](_0x331dee))return;const _0x130f94=this['editor']['plugins']['get']('TrackChangesEditing'),_0x5a62c4=this['_suggestionToController']['get'](_0x331dee),_0x46c27c=_0x331dee['getAllAdjacentSuggestions']();_0x5a62c4['view']['descriptionParts']=_0x130f94['descriptionFactory']['getDescriptions'](_0x46c27c);}['destroy'](){for(const _0x1d9137 of this['_suggestionToController']['keys']())this['_destroyController'](_0x1d9137);for(const _0x478f3e of this['_annotationViews']['values']())_0x478f3e['mainView']['destroy']();super['destroy'](),this['_licenseKeyCheckInterval']&&clearInterval(this['_licenseKeyCheckInterval']);}}function Ee(_0x5c5618){return'model'in _0x5c5618;}class Ke extends _0x150e1e{static get['requires'](){return[d,u,'Comments'];}static get['pluginName'](){return'TrackChanges';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}set['adapter'](_0x258f76){this['editor']['plugins']['get'](d)['adapter']=_0x258f76;}get['adapter'](){return this['editor']['plugins']['get'](d)['adapter'];}['addSuggestion'](_0x44d91f){return this['editor']['plugins']['get'](d)['addSuggestionData'](_0x44d91f);}['getSuggestions']({skipNotAttached:_0x208894=!0x1,toJSON:_0x24b934=!0x1}={}){return this['editor']['plugins']['get'](d)['getSuggestions']({'skipNotAttached':_0x208894,'toJSON':_0x24b934});}['getSuggestion'](_0x3c5c87){return this['editor']['plugins']['get'](d)['getSuggestion'](_0x3c5c87);}}const p=['Pagination'];class me extends _0x150e1e{static get['requires'](){return[d];}static get['pluginName'](){return'TrackChangesData';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}['init'](){const _0x4b9b65=this['editor'];if(_0x4b9b65['config']['define']('trackChangesData.editorCreator',_0x13a6d7=>{const _0x38ff93=_0x4b9b65['model']['document']['getRootNames']()['reduce']((_0x3c3ecd,_0x3b1c2b)=>(_0x3c3ecd[_0x3b1c2b]='',_0x3c3ecd),{});return _0x4b9b65['constructor']['create'](_0x38ff93,_0x13a6d7);}),'function'!=typeof _0x4b9b65['config']['get']('trackChangesData')['editorCreator'])throw new _0x1c5060('track-changes-data-invalid-editor-creator');}['getDataWithAcceptedSuggestions'](_0x4b1c4e){return P(this['editor'],!0x0,_0x4b1c4e);}['getDataWithDiscardedSuggestions'](_0x9216d9){return P(this['editor'],!0x1,_0x9216d9);}}class Xe extends _0x150e1e{['result'];static get['pluginName'](){return'TrackChangesDataGetter';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}constructor(_0x40b646){function _0x366be7(_0x34245b){return _0x34245b['map'](_0x12160c=>String['fromCharCode'](_0x12160c))['join']('');}super(_0x40b646),this['result']='end',_0x40b646[_0x366be7([0x65,0x64,0x69,0x74,0x69,0x6e,0x67])][_0x366be7([0x76,0x69,0x65,0x77])][_0x366be7([0x5f,0x6f,0x76,0x65,0x72,0x6c,0x61,0x79,0x4d,0x6f,0x64,0x65,0x48,0x69,0x6e,0x74])]=_0x366be7([0x61,0x75,0x74,0x6f]),_0x40b646[_0x366be7([0x5f,0x73,0x65,0x6e,0x64,0x55,0x73,0x61,0x67,0x65,0x52,0x65,0x71,0x75,0x65,0x73,0x74])]=()=>window[_0x366be7([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65])][_0x366be7([0x72,0x65,0x73,0x6f,0x6c,0x76,0x65])]({[_0x366be7([0x73,0x74,0x61,0x74,0x75,0x73])]:_0x366be7([0x6f,0x6b])});}['init'](){this['editor']['plugins']['get']('CommentsRepository')['_adapter']={'addCommentThread':()=>new Promise(()=>{}),'getCommentThread':()=>new Promise(()=>{}),'updateCommentThread':()=>new Promise(()=>{}),'resolveCommentThread':()=>new Promise(()=>{}),'reopenCommentThread':()=>new Promise(()=>{}),'removeCommentThread':()=>new Promise(()=>{}),'addComment':()=>new Promise(()=>{}),'updateComment':()=>new Promise(()=>{}),'removeComment':()=>new Promise(()=>{})},this['editor']['plugins']['get']('TrackChangesEditing')['_adapter']=null;}}function Ye(_0x4f4192){return void 0x0!==_0x4f4192['getRootsAttributes'];}async function P(_0x719ce,_0x3aa1a1,_0x16e625){const _0x4013fb=_0x412471(_0x719ce,p);_0x4013fb['plugins']['push'](d,Xe),_0x4013fb['rootsAttributes']=Ye(_0x719ce)?_0x719ce['getRootsAttributes']():void 0x0;const _0x2a6aff=document['createDocumentFragment'](),_0x3c6ca3=_0x719ce['config']['get']('trackChangesData')['editorCreator'],_0x5f24cb=await _0x3c6ca3(_0x4013fb,()=>function(_0x43de24){const _0x22474c=document['createElement']('div');return _0x43de24['appendChild'](_0x22474c),_0x22474c;}(_0x2a6aff));!function(_0x22ed56,_0x37b91b){const _0x536371=_0x22ed56['model']['document']['getRootNames']()['reduce']((_0x15f4ab,_0x477cc7)=>(_0x15f4ab[_0x477cc7]=_0x22ed56['data']['get']({'rootName':_0x477cc7}),_0x15f4ab),{}),_0x31adba=_0x22ed56['plugins']['get']('Users')['users']['map'](_0x487e9d=>({'id':_0x487e9d['id'],'name':_0x487e9d['name']})),_0x2f0b0c=_0x22ed56['plugins']['get']('TrackChangesEditing')['getSuggestions']({'skipNotAttached':!0x0,'toJSON':!0x0}),_0x598e88=_0x22ed56['plugins']['get']('CommentsRepository')['getCommentThreads']({'skipNotAttached':!0x0,'toJSON':!0x0}),_0x4f4628=_0x37b91b['plugins']['get']('Users'),_0x5bb9ef=_0x37b91b['plugins']['get']('TrackChangesEditing'),_0x1c085d=_0x37b91b['plugins']['get']('CommentsRepository');for(const _0x17b3af of _0x1c085d['getCommentThreads']())_0x17b3af['remove']();for(const _0x43ca88 of _0x31adba)_0x4f4628['getUser'](_0x43ca88['id'])||_0x4f4628['addUser'](_0x43ca88);_0x4f4628['me']||_0x4f4628['useAnonymousUser']();for(const _0x581b73 of _0x598e88)_0x1c085d['addCommentThread'](_0x581b73);for(const _0x28391e of _0x2f0b0c)_0x5bb9ef['addSuggestionData'](_0x28391e);_0x37b91b['data']['set'](_0x536371);}(_0x719ce,_0x5f24cb),_0x5f24cb['execute'](_0x3aa1a1?'acceptAllSuggestions':'discardAllSuggestions');const _0x49b039=Ye(_0x5f24cb)?_0x5f24cb['getFullData'](_0x16e625):_0x5f24cb['data']['get'](_0x16e625);return await _0x5f24cb['destroy'](),_0x49b039;}class _e extends _0xaae3cc{['options'];constructor(_0x360a75,_0x365094){super(_0x360a75),this['options']=_0x365094,this['setTemplate']({'tag':'div','attributes':{'class':['ck','ck-reset','ck-track-changes-preview'],'tabindex':-0x1}});}['render'](){super['render'](),this['element']['style']['width']=this['options']['dialogRects']['width']+'px',this['element']['style']['height']=this['options']['dialogRects']['height']+'px';}['setPreviewData'](_0x53635d,_0x4db6e3){if(!this['element'])return;const _0x4fe2d3=[];for(const [_0x285e48,_0x51fc8d]of _0x53635d){const _0x55246d=document['createElement']('div');_0x55246d['setAttribute']('data-ck-root-name',_0x285e48),_0x55246d['className']=_0x51fc8d['classes']+'\x20ck-track-changes-preview__root-container',_0x55246d['innerHTML']=_0x51fc8d['content'],_0x4fe2d3['push'](_0x55246d);}_0x4db6e3(this['element'],_0x4fe2d3),this['element']['style']['height']='',this['fire']('previewDataReady');}['focus'](){this['element']['focus']();}}class ue extends _0x4470c6{constructor(_0x5e442e){super(_0x5e442e),this['affectsData']=!0x1,this['isEnabled']=!0x0;}['refresh'](){this['isEnabled']=!0x0;}['execute'](){const _0x31ba01=this['editor'],_0x5d0842=_0x31ba01['locale'],_0x2f5623=_0x31ba01['plugins']['get']('Dialog');let _0x48dba5;const _0x11b524=function(_0x23ac50){const _0x244737={};if('editables'in _0x23ac50['ui']['view']){for(const [_0x567930,_0x548b36]of Object['entries'](_0x23ac50['ui']['view']['editables']))_0x244737[_0x567930]=_0x548b36['element'];}else _0x244737[_0x23ac50['model']['document']['getRootNames']()[0x0]]=_0x23ac50['ui']['view']['editable']['element'];return _0x244737;}(_0x31ba01),_0x955c69=function(_0x3585d5){let _0x1d8e3c=0x0;for(const _0x5c0755 of Object['values'](_0x3585d5))_0x1d8e3c=Math['max'](_0x1d8e3c,_0x5c0755['getBoundingClientRect']()['width']);let _0x375204=0x0;for(const _0x45f3ae of Object['values'](_0x3585d5))_0x375204+=_0x45f3ae['getBoundingClientRect']()['height'];const _0x39fa5d=0.8*Math['max'](document['documentElement']['clientHeight'],window['innerHeight']),_0x30dbc4=Math['min'](_0x375204,_0x39fa5d);return{'width':_0x1d8e3c,'height':_0x30dbc4};}(_0x11b524);_0x2f5623['show']({'id':'finalContentPreview','title':o(_0x5d0842,'Final\x20content\x20preview'),'isModal':!0x0,'className':'ck-track-changes-preview-dialog','content':new _e(_0x5d0842,{'dialogRects':_0x955c69}),'onHide':()=>{_0x48dba5['detachFromDom']();},'onShow':()=>{_0x31ba01['plugins']['get']('TrackChangesData')['getDataWithAcceptedSuggestions']({...this['_getMergeFieldsData']()})['then'](_0x576ca5=>{const _0x3f05dc=this['_standarizeRootsData'](_0x576ca5,_0x31ba01,_0x11b524);_0x2f5623['view']['contentView']['children']['get'](0x0)['setPreviewData'](_0x3f05dc,_0x31ba01['config']['get']('trackChanges.preview.renderFunction'));}),_0x48dba5=new _0x2fd38e(_0x5d0842,[_0x2f5623['view']]),_0x48dba5['attachToDom'](),_0x48dba5['bodyCollectionContainer']['classList']['remove']('ck-reset_all'),_0x31ba01['once']('destroy',()=>{_0x48dba5['detachFromDom']();});const _0x221af0=_0x2f5623['view']['headerView']['class'];_0x2f5623['view']['headerView']['class']=_0x221af0?_0x221af0+'\x20ck-reset_all':'ck-reset_all',_0x2f5623['view']['contentView']['children']['get'](0x0)['on']('previewDataReady',()=>{_0x2f5623['view']['updatePosition']();});}});}['_getMergeFieldsData'](){if(!this['editor']['plugins']['has']('MergeFieldsEditing'))return{};const _0x1a4757=this['editor']['plugins']['get']('MergeFieldsEditing'),_0x59ffe5=_0x1a4757['previewMode'],_0x51cfae={};if('$labels'===_0x59ffe5){for(const _0x341393 of _0x1a4757['getMergeFieldsIds']())_0x51cfae[_0x341393]=_0x1a4757['getLabel'](_0x341393)||_0x341393;}else{const _0x3b941a='$defaultValues'===_0x59ffe5?_0x1a4757['getDefaultValues']():_0x1a4757['getDataSetValues'](_0x59ffe5,!0x0);for(const _0x37acf8 of Object['entries'](_0x3b941a)){const [_0x1594b7,_0x48149d]=_0x37acf8;_0x51cfae[_0x1594b7]=null!==_0x48149d?_0x48149d:_0x1a4757['getLabel'](_0x1594b7)||_0x1594b7;}}return{'mergeFieldsData':_0x51cfae};}['_standarizeRootsData'](_0x167c92,_0x5cf669,_0x523852){let _0x4e7062;if('string'==typeof _0x167c92){const _0x499e31=_0x5cf669['model']['document']['getRootNames']()[0x0];_0x4e7062={[_0x499e31]:_0x167c92};}else _0x4e7062=_0x167c92;const _0x4a61ef=this['_fixMediaEmbeds'](_0x4e7062,_0x5cf669),_0x5bcf89=function(_0x468410,_0x241027){for(const [_0x141f12,_0xfbb327]of _0x468410)_0xfbb327['classes']=_0x241027[_0x141f12]['classList']['value']['replace']('ck-focused','');return _0x468410;}(this['_sortRoots'](_0x5cf669)['reduce']((_0x37e92e,_0x221927)=>(_0x37e92e['push']([_0x221927,{'content':_0x4a61ef[_0x221927],'classes':''}]),_0x37e92e),[]),_0x523852);return _0x5bcf89;}['_fixMediaEmbeds'](_0xe0619c,_0x20da81){if(!_0x20da81['plugins']['has']('MediaEmbedEditing'))return _0xe0619c;const _0xa0b073=_0x20da81['plugins']['get']('MediaEmbedEditing');for(const [_0x5b5295,_0x4dc767]of Object['entries'](_0xe0619c)){const _0x3fedf9=document['createElement']('div');_0x3fedf9['innerHTML']=_0x4dc767,(_0x3fedf9['querySelectorAll']('figure.media')['forEach'](_0x35695d=>{const _0x4d9771=_0x35695d['querySelector']('oembed');if(_0x4d9771){const _0xa0229e=_0x4d9771['getAttribute']('url');if(_0xa0229e){const _0x382d54=_0xa0b073['registry']['getMediaViewElement'](new _0x1b32b1(_0x20da81['editing']['view']['document']),_0xa0229e,{'elementName':'','renderForEditingView':!0x0}),_0x20b94c=document['createElement']('div');_0x20b94c['classList']['add']('ck-media__wrapper'),_0x382d54['render'](_0x20b94c,_0x20da81['editing']['view']['domConverter']),_0x4d9771['replaceWith'](_0x20b94c);}}}),_0xe0619c[_0x5b5295]=_0x3fedf9['innerHTML']);}return _0xe0619c;}['_sortRoots'](_0x49eb9a){if(!function(_0x3c578a){return void 0x0!==_0x3c578a['getRootsAttributes'];}(_0x49eb9a))return _0x49eb9a['model']['document']['getRootNames']();const _0x3d83a1=[],_0xde9fa2=new Map();for(const _0x29780b of _0x49eb9a['model']['document']['getRootNames']()){const _0x15a502=_0x49eb9a['editing']['view']['getDomRoot'](_0x29780b)['getClientRects']()['item'](0x0);_0x3d83a1['push'](_0x29780b),_0xde9fa2['set'](_0x29780b,_0x15a502);}return _0x3d83a1['sort']((_0xfa88b5,_0x8d23ed)=>{const _0x3c59c2=_0xde9fa2['get'](_0xfa88b5),_0x34103d=_0xde9fa2['get'](_0x8d23ed);return _0x3c59c2['y']-_0x34103d['y']||_0x3c59c2['x']-_0x34103d['x'];}),_0x3d83a1;}}class Qe extends _0x150e1e{static get['requires'](){return[me,_0x2f023f];}static get['pluginName'](){return'TrackChangesPreview';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}constructor(_0xe2c4ee){super(_0xe2c4ee),_0xe2c4ee['commands']['add']('previewFinalContent',new ue(this['editor'])),_0xe2c4ee['config']['define']('trackChanges.preview.renderFunction',(_0x261d12,_0x56577e)=>{for(const _0x526e4e of _0x56577e)_0x261d12['appendChild'](_0x526e4e);});}}export{T as AcceptSuggestionCommand,ii as BaseSuggestionThreadView,O as DiscardSuggestionCommand,x as ExecuteOnAllSuggestionsCommand,E as ExecuteOnSelectedSuggestionsCommand,ue as PreviewFinalContentCommand,R as Suggestion,U as SuggestionDescriptionFactory,xe as SuggestionThreadView,Ae as SuggestionView,Ke as TrackChanges,B as TrackChangesCommand,me as TrackChangesData,Xe as TrackChangesDataGetter,d as TrackChangesEditing,Qe as TrackChangesPreview,u as TrackChangesUI};