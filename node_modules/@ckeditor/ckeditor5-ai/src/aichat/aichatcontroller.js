/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x2c4a56=_0x2432;(function(_0x368909,_0xf1c8f1){const _0x44197c=_0x2432,_0x25bca5=_0x368909();while(!![]){try{const _0x2bec96=-parseInt(_0x44197c(0x26b))/0x1+parseInt(_0x44197c(0x2b4))/0x2*(parseInt(_0x44197c(0x2a2))/0x3)+-parseInt(_0x44197c(0x28c))/0x4*(parseInt(_0x44197c(0x25d))/0x5)+-parseInt(_0x44197c(0x228))/0x6*(parseInt(_0x44197c(0x226))/0x7)+-parseInt(_0x44197c(0x203))/0x8*(parseInt(_0x44197c(0x219))/0x9)+-parseInt(_0x44197c(0x23d))/0xa+-parseInt(_0x44197c(0x27e))/0xb*(-parseInt(_0x44197c(0x227))/0xc);if(_0x2bec96===_0xf1c8f1)break;else _0x25bca5['push'](_0x25bca5['shift']());}catch(_0x3a4ee2){_0x25bca5['push'](_0x25bca5['shift']());}}}(_0x5d6c,0x4daef));import{ContextPlugin as _0x21d8ed,Editor as _0x27a92a}from'ckeditor5/src/core.js';import{CKEditorError as _0x13f2ac,logError as _0xbcf11b,scrollViewportToShowTarget as _0x59c6ad,uid as _0x38bd85}from'ckeditor5/src/utils.js';import{AIConnector as _0x2d2c2e}from'../aicore/aiconnector.js';import{AITabs as _0x44b1ea}from'../aitabs/aitabs.js';import{AIChatConversation as _0x2f446f}from'./model/aichatconversation.js';import{getTranslation as _0x1523b1}from'../aicore/utils/common-translations.js';import{AI_VISUAL_SELECTION_MARKER_NAME as _0x3a377a}from'../aicore/aiediting.js';import{AIChatModels as _0x291dd3}from'./model/aichatmodels.js';import{getEditorFromContext as _0x40cd09}from'../aicore/utils/geteditorfromcontext.js';import{DocumentCompare as _0x4fad48,DATA_ID_MODEL_ATTRIBUTE as _0x144524}from'@ckeditor/ckeditor5-collaboration-core';import{getOperationsFromReply as _0x44190b}from'../aicore/utils/getoperationsfromreply.js';import{expandSelectionWithContext as _0xee9603,getMinimalSelection as _0x31f8ce,getSuggestionPartsFromReply as _0x2b2350}from'../aicore/utils/getsuggestionpartsfromreply.js';import{ModelRange as _0x5bf0a5,_DetachOperation as _0xf7d8c}from'ckeditor5/src/engine.js';import{findOne as _0x37f9bf,getAttribute as _0x366774,serialize as _0x1007e6,Document as _0x3d00cc,findByAttribute as _0xa2728e}from'../aicore/utils/htmlparser.js';import{IconAI as _0x5e93f1}from'@ckeditor/ckeditor5-icons';import{AISuggestionContainerView as _0x5e61a5}from'../aicore/ui/suggestioncontainer/aisuggestioncontainerview.js';function _0x2432(_0x3bbebe,_0x46e960){const _0x5d6c83=_0x5d6c();return _0x2432=function(_0x243239,_0x3ae7fd){_0x243239=_0x243239-0x1b0;let _0x424ab3=_0x5d6c83[_0x243239];return _0x424ab3;},_0x2432(_0x3bbebe,_0x46e960);}import{AIBalloon as _0x48b72c}from'../aiballoon/aiballoon.js';export class AIChatController extends _0x21d8ed{[_0x2c4a56(0x1ce)];[_0x2c4a56(0x1f2)];[_0x2c4a56(0x2b3)];[_0x2c4a56(0x295)];[_0x2c4a56(0x205)]=new Map();[_0x2c4a56(0x207)]=null;[_0x2c4a56(0x25e)]=!0x1;static get[_0x2c4a56(0x244)](){return[_0x2d2c2e,_0x48b72c,_0x4fad48];}static get[_0x2c4a56(0x1bc)](){const _0x31ec0d=_0x2c4a56;return _0x31ec0d(0x2d2);}static get[_0x2c4a56(0x2ec)](){return!0x0;}static get[_0x2c4a56(0x2d9)](){return!0x0;}[_0x2c4a56(0x1e5)](){const _0x412031=_0x2c4a56;this[_0x412031(0x1f2)]=this[_0x412031(0x2fa)][_0x412031(0x2e3)][_0x412031(0x1b3)](_0x412031(0x26c)),this[_0x412031(0x2b3)]=this[_0x412031(0x2fa)][_0x412031(0x2e3)][_0x412031(0x1b3)](_0x412031(0x1c4)),this[_0x412031(0x1ce)]=this[_0x412031(0x2fa)][_0x412031(0x2e3)][_0x412031(0x1b3)](_0x412031(0x300)),this[_0x412031(0x295)]=new _0x291dd3({'connector':this[_0x412031(0x1f2)],'displayedModels':this[_0x412031(0x2fa)][_0x412031(0x2c3)][_0x412031(0x1b3)](_0x412031(0x2a0)),'defaultModelId':this[_0x412031(0x2fa)][_0x412031(0x2c3)][_0x412031(0x1b3)](_0x412031(0x1fa))});const _0x3bb6e0=this[_0x412031(0x2fa)][_0x412031(0x2e3)][_0x412031(0x1b3)](_0x412031(0x242));this[_0x412031(0x21e)](this[_0x412031(0x2b3)],_0x412031(0x1e9),()=>{const _0x41acfb=_0x412031;this[_0x41acfb(0x2f2)]();}),this[_0x412031(0x21e)](this[_0x412031(0x2b3)],_0x412031(0x301),(_0x5ca84f,_0x2e9506)=>{const _0x179279=_0x412031;this[_0x179279(0x212)]({'userMessage':_0x2e9506});}),this[_0x412031(0x21e)](_0x3bb6e0,_0x412031(0x277),(_0x24df47,_0x4c9818)=>{const _0x1d5167=_0x412031;this[_0x1d5167(0x257)](_0x4c9818);}),this[_0x412031(0x21e)](this[_0x412031(0x2b3)],_0x412031(0x25c),()=>{const _0x2c36f5=_0x412031;_0x3bb6e0[_0x2c36f5(0x2ac)]();}),this[_0x412031(0x21e)](this[_0x412031(0x2b3)],_0x412031(0x239),async()=>{const _0x371696=_0x412031;await this[_0x371696(0x1c9)](),await this[_0x371696(0x1e2)]();}),this[_0x412031(0x21e)](this[_0x412031(0x2b3)],_0x412031(0x2e9),()=>{const _0x2bff2f=_0x412031;this[_0x2bff2f(0x267)]?.[_0x2bff2f(0x304)](_0x1523b1(this[_0x2bff2f(0x2fa)][_0x2bff2f(0x284)],_0x2bff2f(0x2f8)));}),this[_0x412031(0x21e)](this[_0x412031(0x2b3)],_0x412031(0x2b1),(_0x4c5014,_0x2b52fb)=>{const _0x391932=_0x412031;this[_0x391932(0x267)]?.[_0x391932(0x2de)](Array[_0x391932(0x1ea)](_0x2b52fb));}),this[_0x412031(0x21e)](this[_0x412031(0x2b3)],_0x412031(0x225),(_0x5a4696,_0x1df7ee)=>{const _0x546783=_0x412031;this[_0x546783(0x267)]?.[_0x546783(0x225)](_0x1df7ee);}),this[_0x412031(0x21e)](this[_0x412031(0x2b3)],_0x412031(0x232),(_0x155d98,_0x387bf0)=>{const _0xba6fe5=_0x412031;this[_0xba6fe5(0x267)]?.[_0xba6fe5(0x232)](_0x387bf0[_0xba6fe5(0x1e0)],_0x387bf0[_0xba6fe5(0x303)]);}),this[_0x412031(0x21e)](this[_0x412031(0x2b3)],_0x412031(0x246),(_0x42549d,_0x599a6f)=>{const _0x11f621=_0x412031;this[_0x11f621(0x24b)](_0x599a6f);}),this[_0x412031(0x21e)](this[_0x412031(0x2b3)],_0x412031(0x1c7),(_0x35db47,_0x2257f6)=>{const _0x131c53=_0x412031;this[_0x131c53(0x267)]?.[_0x131c53(0x1c7)](_0x2257f6[_0x131c53(0x298)],_0x2257f6[_0x131c53(0x29c)],_0x2257f6[_0x131c53(0x1c0)]);}),this[_0x412031(0x21e)](this[_0x412031(0x2b3)],_0x412031(0x1d3),()=>{const _0x430e30=_0x412031;this[_0x430e30(0x2b5)]();}),this[_0x412031(0x21e)](this[_0x412031(0x2b3)],_0x412031(0x27b),()=>{const _0x18e06a=_0x412031;this[_0x18e06a(0x2a9)]();}),this[_0x412031(0x21e)](this[_0x412031(0x2b3)],_0x412031(0x2f1),(_0x22db90,_0x7c2f74)=>{const _0x231ab1=_0x412031;this[_0x231ab1(0x267)]?.[_0x231ab1(0x1d6)](_0x7c2f74);}),this[_0x412031(0x21e)](this[_0x412031(0x2b3)],_0x412031(0x305),(_0x5aa41f,{replyId:_0x2abb08})=>{const _0x4d058a=_0x412031;console[_0x4d058a(0x23b)](_0x4d058a(0x204),_0x2abb08);}),this[_0x412031(0x21e)](this[_0x412031(0x2b3)],_0x412031(0x2c4),(_0x4eab41,{replyId:_0x1f3bc2})=>{const _0x4ded23=_0x412031;console[_0x4ded23(0x23b)](_0x4ded23(0x27f),_0x1f3bc2);}),this[_0x412031(0x21e)](this[_0x412031(0x2b3)],_0x412031(0x241),(_0x537ba8,_0xa8af17)=>{const _0x4e3b3a=_0x412031;this[_0x4e3b3a(0x2fa)][_0x4e3b3a(0x2e3)][_0x4e3b3a(0x1b3)](_0x48b72c)[_0x4e3b3a(0x2e5)](),this[_0x4e3b3a(0x280)](_0xa8af17);}),this[_0x412031(0x21e)](this[_0x412031(0x2b3)],_0x412031(0x2d3),(_0x1bb8c6,{replyId:_0x3d8cf4,partIndex:_0x4007e1})=>{const _0x584b40=_0x412031;this[_0x584b40(0x25e)]=this[_0x584b40(0x2b3)][_0x584b40(0x1ec)],this[_0x584b40(0x278)](_0x3d8cf4,_0x4007e1);}),this[_0x412031(0x21e)](this[_0x412031(0x2b3)],_0x412031(0x2ed),(_0x54ad76,{replyId:_0xfd2e78,partIndex:_0x2a7013})=>{const _0x268dfa=_0x412031,_0x2628e5=this[_0x268dfa(0x1fb)](_0xfd2e78,_0x2a7013);_0x2628e5&&_0x268dfa(0x290)!=_0x2628e5[_0x268dfa(0x2ad)][_0x268dfa(0x2cf)][_0x268dfa(0x2d4)]&&this[_0x268dfa(0x1ce)][_0x268dfa(0x2dc)]([_0x2628e5[_0x268dfa(0x2ad)]],_0x268dfa(0x23a));}),this[_0x412031(0x21e)](this[_0x412031(0x2b3)],_0x412031(0x283),()=>{const _0x52e978=_0x412031;this[_0x52e978(0x1ce)][_0x52e978(0x306)](_0x52e978(0x23a));}),this[_0x412031(0x21e)](this[_0x412031(0x2b3)],_0x412031(0x221),(_0x14c549,_0x3f462a)=>{const _0x1f1368=_0x412031;this[_0x1f1368(0x2fa)][_0x1f1368(0x2e3)][_0x1f1368(0x1b3)](_0x48b72c)[_0x1f1368(0x2e5)](),this[_0x1f1368(0x1b9)](_0x3f462a);}),this[_0x412031(0x21e)](this[_0x412031(0x2b3)],_0x412031(0x297),async(_0x4fbd38,_0x3369f1)=>{const _0x312c24=_0x412031,{reply:_0x1d49bb}=this[_0x312c24(0x206)](_0x3369f1[_0x312c24(0x2d0)]),_0x589337=_0x40cd09(this[_0x312c24(0x2fa)]),_0x43a9dd=_0x2b2350({'editor':_0x589337,'changeGroups':_0x1d49bb[_0x312c24(0x2df)],'documentContextContent':_0x1d49bb[_0x312c24(0x25a)],'showDiff':_0x3369f1[_0x312c24(0x1ec)]});await this[_0x312c24(0x2b3)][_0x312c24(0x1c1)]({'id':_0x1d49bb['id'],'parts':_0x43a9dd,'renderingStrategy':_0x312c24(0x288)});}),this[_0x412031(0x21e)](this[_0x412031(0x2b3)],_0x412031(0x224),(_0x452063,{replyId:_0x1fa3b8,partIndex:_0x2a276c})=>{const _0x328d8f=_0x412031;this[_0x328d8f(0x207)]?.[_0x328d8f(0x2d0)]==_0x1fa3b8&&this[_0x328d8f(0x207)]?.[_0x328d8f(0x208)]==_0x2a276c&&this[_0x328d8f(0x2fa)][_0x328d8f(0x2e3)][_0x328d8f(0x1b3)](_0x48b72c)[_0x328d8f(0x2e5)]();const {reply:_0x4503d3}=this[_0x328d8f(0x206)](_0x1fa3b8);_0x4503d3[_0x328d8f(0x27a)](_0x2a276c,_0x328d8f(0x287)),this[_0x328d8f(0x1ce)][_0x328d8f(0x306)](_0x328d8f(0x23a));});}async[_0x2c4a56(0x234)](){const _0x584531=_0x2c4a56;this[_0x584531(0x2fa)]instanceof _0x27a92a?this[_0x584531(0x265)](this[_0x584531(0x2fa)]):this[_0x584531(0x21e)](this[_0x584531(0x2fa)][_0x584531(0x2ee)],_0x584531(0x255),(_0x349cd1,_0x1a8e7d)=>{const _0x287529=_0x584531;_0x1a8e7d['on'](_0x287529(0x24a),()=>{const _0x13e355=_0x287529;this[_0x13e355(0x265)](_0x1a8e7d);});}),await this[_0x584531(0x2f2)]();}[_0x2c4a56(0x280)](_0x17faf9){const _0xd488ee=_0x2c4a56,_0x48952b=_0x40cd09(this[_0xd488ee(0x2fa)]);if(!_0x48952b[_0xd488ee(0x2e3)][_0xd488ee(0x26f)](_0xd488ee(0x2aa)))return;const _0x2de736=this[_0xd488ee(0x2fa)][_0xd488ee(0x2e3)][_0xd488ee(0x1b3)](_0xd488ee(0x26d)),{reply:_0x1221f1,interaction:_0x5d420d}=this[_0xd488ee(0x206)](_0x17faf9[_0xd488ee(0x2d0)]),_0x2c9bae=this[_0xd488ee(0x1fb)](_0x17faf9[_0xd488ee(0x2d0)],_0x17faf9[_0xd488ee(0x208)]),_0x325bc2=void 0x0!==_0x17faf9[_0xd488ee(0x208)]?[_0x1221f1[_0xd488ee(0x2df)][_0x17faf9[_0xd488ee(0x208)]]]:_0x1221f1[_0xd488ee(0x2df)][_0xd488ee(0x1f3)](_0x1b705b=>_0xd488ee(0x1bb)==_0x1b705b[_0xd488ee(0x26a)]),_0x49ffa1=_0x325bc2[_0xd488ee(0x23e)](_0x4b1cc0=>_0x1221f1[_0xd488ee(0x2df)][_0xd488ee(0x1e3)](_0x4b1cc0));if(!_0x2c9bae||_0xd488ee(0x290)==_0x2c9bae[_0xd488ee(0x2ad)][_0xd488ee(0x2cf)][_0xd488ee(0x2d4)])return void _0x49ffa1[_0xd488ee(0x264)](_0x25f9f7=>_0x1221f1[_0xd488ee(0x27a)](_0x25f9f7,_0xd488ee(0x229)));_0x49ffa1[_0xd488ee(0x264)](_0x99de46=>_0x1221f1[_0xd488ee(0x27a)](_0x99de46,_0xd488ee(0x275)));const _0x340900=_0x44190b({'editor':_0x48952b,'reply':_0x1221f1,'interaction':_0x5d420d,'groups':_0x325bc2,'transform':!0x0,'documentCompare':_0x2de736,'documentCompareOptions':{'anchor':_0xd488ee(0x1e7),'markDeletions':!0x0}});let _0x519e0d;_0x2c9bae&&this[_0xd488ee(0x22a)](_0x2c9bae[_0xd488ee(0x2ad)]),_0x48952b[_0xd488ee(0x1f5)][_0xd488ee(0x29e)](_0x381829=>{const _0x18c6fc=_0xd488ee;_0x519e0d=_0x381829[_0x18c6fc(0x22e)],_0x48952b[_0x18c6fc(0x2e3)][_0x18c6fc(0x1b3)](_0x18c6fc(0x2aa))[_0x18c6fc(0x254)](_0x340900),this[_0x18c6fc(0x1ce)][_0x18c6fc(0x306)](_0x18c6fc(0x23a));}),this[_0xd488ee(0x205)][_0xd488ee(0x279)](_0x519e0d,{'interactionId':_0x5d420d['id'],'replyId':_0x1221f1['id'],'indexes':_0x49ffa1[_0xd488ee(0x23c)]()}),this[_0xd488ee(0x276)](_0x1221f1);}[_0x2c4a56(0x1b9)](_0x283218){const _0x4d2ace=_0x2c4a56,_0x198fae=_0x40cd09(this[_0x4d2ace(0x2fa)]),_0x41b8a3=this[_0x4d2ace(0x2fa)][_0x4d2ace(0x2e3)][_0x4d2ace(0x1b3)](_0x4fad48),{reply:_0x29334b,interaction:_0x5c53a7}=this[_0x4d2ace(0x206)](_0x283218[_0x4d2ace(0x2d0)]),_0x306661=this[_0x4d2ace(0x1fb)](_0x283218[_0x4d2ace(0x2d0)],_0x283218[_0x4d2ace(0x208)]),_0xc51f0a=void 0x0!==_0x283218[_0x4d2ace(0x208)]?[_0x29334b[_0x4d2ace(0x2df)][_0x283218[_0x4d2ace(0x208)]]]:_0x29334b[_0x4d2ace(0x2df)][_0x4d2ace(0x1f3)](_0x481fd0=>_0x4d2ace(0x1bb)==_0x481fd0[_0x4d2ace(0x26a)]),_0x41649c=_0xc51f0a[_0x4d2ace(0x23e)](_0x19e4e5=>_0x29334b[_0x4d2ace(0x2df)][_0x4d2ace(0x1e3)](_0x19e4e5));if(!_0x306661||_0x4d2ace(0x290)==_0x306661[_0x4d2ace(0x2ad)][_0x4d2ace(0x2cf)][_0x4d2ace(0x2d4)])return void _0x41649c[_0x4d2ace(0x264)](_0x5dea67=>_0x29334b[_0x4d2ace(0x27a)](_0x5dea67,_0x4d2ace(0x229)));_0x41649c[_0x4d2ace(0x264)](_0x1977b5=>_0x29334b[_0x4d2ace(0x27a)](_0x1977b5,_0x4d2ace(0x275)));const _0x42b283=_0x44190b({'editor':_0x198fae,'reply':_0x29334b,'interaction':_0x5c53a7,'groups':_0xc51f0a,'transform':!0x0,'documentCompare':_0x41b8a3,'documentCompareOptions':{'anchor':_0x4d2ace(0x1e7),'markDeletions':!0x1}});let _0x13f20a;_0x306661&&this[_0x4d2ace(0x22a)](_0x306661[_0x4d2ace(0x2ad)]),_0x198fae[_0x4d2ace(0x1f5)][_0x4d2ace(0x29e)](_0x5f149c=>{const _0x1c0400=_0x4d2ace;_0x13f20a=_0x5f149c[_0x1c0400(0x22e)];for(const _0x3e34ca of _0x42b283)_0x3e34ca[_0x1c0400(0x202)]=_0x198fae[_0x1c0400(0x1f5)][_0x1c0400(0x2a3)][_0x1c0400(0x2e6)],_0x5f149c[_0x1c0400(0x22e)][_0x1c0400(0x299)](_0x3e34ca),_0x198fae[_0x1c0400(0x1f5)][_0x1c0400(0x286)](_0x3e34ca);}),this[_0x4d2ace(0x205)][_0x4d2ace(0x279)](_0x13f20a,{'interactionId':_0x5c53a7['id'],'replyId':_0x29334b['id'],'indexes':_0x41649c[_0x4d2ace(0x23c)]()}),this[_0x4d2ace(0x276)](_0x29334b);}[_0x2c4a56(0x278)](_0x3cb7a5,_0xbfb1be){const _0x1526a6=_0x2c4a56,_0x1c9cfd=_0x40cd09(this[_0x1526a6(0x2fa)]),_0x302654=this[_0x1526a6(0x1fb)](_0x3cb7a5,_0xbfb1be),_0x2e5239=this[_0x1526a6(0x2fa)][_0x1526a6(0x2e3)][_0x1526a6(0x1b3)](_0x48b72c);if(!_0x302654)return void _0x2e5239[_0x1526a6(0x2e5)]();const {range:_0x3507d4,currentIndex:_0x2c248a,previousIndex:_0x45747e,nextIndex:_0x497460}=_0x302654;if(_0x1526a6(0x290)==_0x3507d4[_0x1526a6(0x2cf)][_0x1526a6(0x2d4)]){const {reply:_0x36c463}=this[_0x1526a6(0x206)](_0x3cb7a5);return _0x36c463[_0x1526a6(0x27a)](_0x2c248a,_0x1526a6(0x229)),void _0x2e5239[_0x1526a6(0x2e5)]();}if(this[_0x1526a6(0x207)]?.[_0x1526a6(0x2d0)]==_0x3cb7a5&&this[_0x1526a6(0x207)]?.[_0x1526a6(0x208)]==_0x2c248a)return;this[_0x1526a6(0x207)]={'replyId':_0x3cb7a5,'partIndex':_0x2c248a};const _0xc16f5e=new _0x5e61a5(_0x1c9cfd[_0x1526a6(0x284)],{'showDiff':this[_0x1526a6(0x25e)],'areActionsDisabled':!0x1,'miniToolbarConfig':{'showChanges':_0x1526a6(0x248)},'hideHeader':!0x0}),{reply:_0x5ba0de}=this[_0x1526a6(0x206)](_0x3cb7a5),_0x4b0efa=_0x2b2350({'editor':_0x1c9cfd,'changeGroups':[_0x5ba0de[_0x1526a6(0x2df)][_0x2c248a]],'documentContextContent':_0x5ba0de[_0x1526a6(0x25a)],'showDiff':this[_0x1526a6(0x25e)]});_0xc16f5e[_0x1526a6(0x231)]({'parts':_0x4b0efa,'renderingStrategy':_0x1526a6(0x288)});const _0x1d5d5f=_0x2c248a!==_0x45747e;this[_0x1526a6(0x22a)](_0x3507d4,!0x0),_0x2e5239[_0x1526a6(0x2d6)]({'index':_0x2c248a,'title':_0x1523b1(this[_0x1526a6(0x2fa)][_0x1526a6(0x284)],_0x1526a6(0x292),(_0x2c248a+0x1)[_0x1526a6(0x2dd)]()),'icon':_0x5e93f1,'mainView':_0xc16f5e,'showRotator':_0x1d5d5f,'showApplyButton':!0x0,'showSuggestButton':!0x0,'ranges':[_0x3507d4]}),this[_0x1526a6(0x2b3)][_0x1526a6(0x1f8)](_0x3cb7a5,_0x2c248a),this[_0x1526a6(0x21e)](_0xc16f5e,_0x1526a6(0x297),(_0x17e29e,{showDiff:_0x2ed248})=>{const _0x14cdf2=_0x1526a6;this[_0x14cdf2(0x25e)]=_0x2ed248;const {reply:_0x42afa2}=this[_0x14cdf2(0x206)](_0x3cb7a5),_0x4355b0=_0x2b2350({'editor':_0x1c9cfd,'changeGroups':[_0x42afa2[_0x14cdf2(0x2df)][_0x2c248a]],'documentContextContent':_0x42afa2[_0x14cdf2(0x25a)],'showDiff':_0x2ed248});_0xc16f5e[_0x14cdf2(0x231)]({'parts':_0x4355b0,'renderingStrategy':_0x14cdf2(0x288)});}),this[_0x1526a6(0x21e)](_0x2e5239,_0x1526a6(0x221),()=>{const _0x1ea9d8=_0x1526a6;this[_0x1ea9d8(0x1b9)]({'replyId':_0x3cb7a5,'partIndex':_0x2c248a}),_0x1d5d5f?this[_0x1ea9d8(0x278)](_0x3cb7a5,_0x497460):_0x2e5239[_0x1ea9d8(0x2e5)]();}),this[_0x1526a6(0x21e)](_0x2e5239,_0x1526a6(0x241),()=>{const _0x1f1158=_0x1526a6;this[_0x1f1158(0x280)]({'replyId':_0x3cb7a5,'partIndex':_0x2c248a}),_0x1d5d5f?this[_0x1f1158(0x278)](_0x3cb7a5,_0x497460):_0x2e5239[_0x1f1158(0x2e5)]();}),_0x1d5d5f&&(this[_0x1526a6(0x21e)](_0x2e5239,_0x1526a6(0x2bc),()=>{const _0x35f78b=_0x1526a6;this[_0x35f78b(0x278)](_0x3cb7a5,_0x497460);}),this[_0x1526a6(0x21e)](_0x2e5239,_0x1526a6(0x2ba),()=>{const _0x236a33=_0x1526a6;this[_0x236a33(0x278)](_0x3cb7a5,_0x45747e);})),this[_0x1526a6(0x21e)](_0x2e5239,_0x1526a6(0x247),()=>{const _0x34fe3b=_0x1526a6;this[_0x34fe3b(0x2c1)](_0x2e5239),this[_0x34fe3b(0x2c1)](_0xc16f5e),this[_0x34fe3b(0x207)]=null;});}[_0x2c4a56(0x1fb)](_0x2c9baa,_0x573c24){const _0x3b964f=_0x2c4a56,_0x34f13d=_0x40cd09(this[_0x3b964f(0x2fa)]),{reply:_0x14c031,interaction:_0x51408a}=this[_0x3b964f(0x206)](_0x2c9baa),_0x34997e=_0x14c031[_0x3b964f(0x2df)][_0x3b964f(0x1f3)](_0xd21e85=>_0x3b964f(0x1bb)==_0xd21e85[_0x3b964f(0x26a)]),_0x10b880=_0x34997e[_0x3b964f(0x23e)](_0x139a30=>_0x14c031[_0x3b964f(0x2df)][_0x3b964f(0x1e3)](_0x139a30));void 0x0===_0x573c24&&(_0x573c24=_0x10b880[0x0]);const _0x567ce0=_0x10b880[_0x3b964f(0x1e3)](_0x573c24);if(-0x1==_0x567ce0)return null;const _0x113c59=0x0==_0x567ce0?_0x10b880[_0x10b880[_0x3b964f(0x1f0)]-0x1]:_0x10b880[_0x567ce0-0x1],_0xf72e3c=_0x567ce0==_0x10b880[_0x3b964f(0x1f0)]-0x1?_0x10b880[0x0]:_0x10b880[_0x567ce0+0x1],_0x58e215=_0x34997e[_0x567ce0],_0x1c8f2c=new _0x3d00cc([]),_0xb98c17=new _0x3d00cc([]);for(const _0x544504 of _0x58e215[_0x3b964f(0x1b4)])if(_0x3b964f(0x2b2)!=_0x544504[_0x3b964f(0x2b9)]&&_0xb98c17[_0x3b964f(0x235)][_0x3b964f(0x22f)](_0x544504[_0x3b964f(0x1cd)][_0x3b964f(0x20c)](!0x0)),_0x3b964f(0x27c)!=_0x544504[_0x3b964f(0x2b9)]){const _0x49bdf6=_0x37f9bf(_0x4a244d=>_0x366774(_0x4a244d,_0x3b964f(0x2f3))==_0x544504['id'],_0x14c031[_0x3b964f(0x25a)],!0x0);_0x1c8f2c[_0x3b964f(0x235)][_0x3b964f(0x22f)](_0x49bdf6[_0x3b964f(0x20c)](!0x0));}if(0x0==_0x1c8f2c[_0x3b964f(0x235)][_0x3b964f(0x1f0)]){if(_0x58e215[_0x3b964f(0x1b4)][0x0][_0x3b964f(0x2ff)]){const _0x241e01=_0xa2728e(_0x3b964f(0x2f3),_0x58e215[_0x3b964f(0x1b4)][0x0][_0x3b964f(0x2ff)],_0x14c031[_0x3b964f(0x25a)]);_0x1c8f2c[_0x3b964f(0x235)][_0x3b964f(0x294)](_0x241e01[_0x3b964f(0x20c)](!0x0)),_0xb98c17[_0x3b964f(0x235)][_0x3b964f(0x294)](_0x241e01[_0x3b964f(0x20c)](!0x0)),_0x241e01[_0x3b964f(0x2fb)]&&(_0x1c8f2c[_0x3b964f(0x235)][_0x3b964f(0x22f)](_0x241e01[_0x3b964f(0x2fb)][_0x3b964f(0x20c)](!0x0)),_0xb98c17[_0x3b964f(0x235)][_0x3b964f(0x22f)](_0x241e01[_0x3b964f(0x2fb)][_0x3b964f(0x20c)](!0x0)));}else{const _0x5ab2a2=_0x14c031[_0x3b964f(0x25a)][_0x3b964f(0x235)][0x0];if(!_0x5ab2a2)return null;_0x1c8f2c[_0x3b964f(0x235)][_0x3b964f(0x22f)](_0x5ab2a2[_0x3b964f(0x20c)](!0x0)),_0xb98c17[_0x3b964f(0x235)][_0x3b964f(0x22f)](_0x5ab2a2[_0x3b964f(0x20c)](!0x0));}}const _0x50b363=_0x51408a[_0x3b964f(0x2bd)](),_0x3f5e2a=_0x34f13d[_0x3b964f(0x217)][_0x3b964f(0x2cd)](_0x50b363[_0x3b964f(0x1b8)]),_0x8d4862=_0x1007e6(_0x1c8f2c),_0x5da925=_0x34f13d[_0x3b964f(0x217)][_0x3b964f(0x2cd)](_0x8d4862),_0x153af4=_0x34f13d[_0x3b964f(0x217)][_0x3b964f(0x2cd)](_0x8d4862),_0x52a5f2=_0x34f13d[_0x3b964f(0x1f5)][_0x3b964f(0x1ca)](_0x5da925,0x0),_0x9b2790=_0x1007e6(_0xb98c17),_0x2a4414={'anchor':_0x52a5f2,'markDeletions':!0x1},_0x963b2f=_0x34f13d[_0x3b964f(0x2e3)][_0x3b964f(0x1b3)](_0x4fad48)[_0x3b964f(0x2e1)](_0x8d4862,_0x9b2790,_0x2a4414)[_0x3b964f(0x1fc)]();if(!_0x963b2f[_0x3b964f(0x1f0)])return null;_0x34f13d[_0x3b964f(0x1f5)][_0x3b964f(0x29e)](_0x515d7d=>{const _0x38e6bb=_0x3b964f;for(const _0x49ed5a of _0x963b2f)if(_0x38e6bb(0x2c7)==_0x49ed5a[_0x38e6bb(0x2b9)]){const _0x3e66d1=_0x49ed5a[_0x38e6bb(0x249)],_0x2d83a9=_0x49ed5a[_0x38e6bb(0x245)],_0x5f1495=new _0xf7d8c(_0x3e66d1,_0x2d83a9);_0x515d7d[_0x38e6bb(0x22e)][_0x38e6bb(0x299)](_0x5f1495),_0x34f13d[_0x38e6bb(0x1f5)][_0x38e6bb(0x286)](_0x5f1495);}else _0x38e6bb(0x2b0)!==_0x49ed5a[_0x38e6bb(0x2b9)]&&(_0x49ed5a[_0x38e6bb(0x202)]=null,_0x49ed5a[_0x38e6bb(0x1d4)]=!0x1,_0x515d7d[_0x38e6bb(0x22e)][_0x38e6bb(0x299)](_0x49ed5a),_0x34f13d[_0x38e6bb(0x1f5)][_0x38e6bb(0x286)](_0x49ed5a));});const _0xfd6ffa=_0x31f8ce(_0x34f13d,_0x963b2f,_0x5da925);_0xee9603(_0x34f13d[_0x3b964f(0x1f5)],_0xfd6ffa);const _0x3eee37=_0xfd6ffa[_0x3b964f(0x291)]()[_0x3b964f(0x237)][_0x3b964f(0x1bd)][_0x3b964f(0x23c)](),_0x176a52=_0xfd6ffa[_0x3b964f(0x291)]()[_0x3b964f(0x282)][_0x3b964f(0x1bd)][_0x3b964f(0x23c)](),_0x3ddd8d=[];let _0x4e72e9=_0x5da925,_0x18a0c7=_0x153af4;for(let _0x163192=0x0;_0x163192<_0x176a52[_0x3b964f(0x1f0)];_0x163192++){const _0x2af8b3=_0x4e72e9[_0x3b964f(0x269)]-_0x176a52[_0x163192];_0x3ddd8d[_0x163192]=_0x18a0c7[_0x3b964f(0x269)]-_0x2af8b3,_0x4e72e9=_0x4e72e9[_0x3b964f(0x2f5)](_0x176a52[_0x163192]),_0x18a0c7=_0x18a0c7[_0x3b964f(0x2f5)](_0x3ddd8d[_0x163192]);}const _0x2df56c=_0x34f13d[_0x3b964f(0x1f5)][_0x3b964f(0x2ea)](_0x34f13d[_0x3b964f(0x1f5)][_0x3b964f(0x210)](_0x153af4,_0x3eee37),_0x34f13d[_0x3b964f(0x1f5)][_0x3b964f(0x210)](_0x153af4,_0x3ddd8d)),_0x2e7c9c=_0x153af4[_0x3b964f(0x1ed)](0x0)[_0x3b964f(0x28d)](_0x144524),_0xe853e8=Array[_0x3b964f(0x1ea)](_0x3f5e2a[_0x3b964f(0x1ef)]())[_0x3b964f(0x1b5)](_0x1a9fb4=>_0x1a9fb4[_0x3b964f(0x28d)](_0x144524)==_0x2e7c9c)[_0x3b964f(0x2a8)](),_0x491fe2=_0x2df56c[_0x3b964f(0x237)][_0x3b964f(0x1bd)][_0x3b964f(0x23c)](),_0x9fd9e8=_0x2df56c[_0x3b964f(0x282)][_0x3b964f(0x1bd)][_0x3b964f(0x23c)]();_0x491fe2[0x0]=_0xe853e8[0x0]+_0x491fe2[0x0],_0x9fd9e8[0x0]=_0xe853e8[0x0]+_0x9fd9e8[0x0];let _0x462e24=_0x34f13d[_0x3b964f(0x1f5)][_0x3b964f(0x2ea)](_0x34f13d[_0x3b964f(0x1f5)][_0x3b964f(0x210)](_0x34f13d[_0x3b964f(0x1f5)][_0x3b964f(0x2a3)][_0x3b964f(0x2bf)](),_0x491fe2),_0x34f13d[_0x3b964f(0x1f5)][_0x3b964f(0x210)](_0x34f13d[_0x3b964f(0x1f5)][_0x3b964f(0x2a3)][_0x3b964f(0x2bf)](),_0x9fd9e8));const _0x568d22=_0x34f13d[_0x3b964f(0x1f5)][_0x3b964f(0x2a3)][_0x3b964f(0x2c9)][_0x3b964f(0x1fc)](_0x50b363[_0x3b964f(0x2e6)]);for(const _0x416790 of _0x568d22)_0x462e24=_0x5bf0a5[_0x3b964f(0x1d2)](_0x462e24[_0x3b964f(0x2b7)](_0x416790));return{'range':_0x462e24,'previousIndex':_0x113c59,'nextIndex':_0xf72e3c,'currentIndex':_0x573c24};}[_0x2c4a56(0x265)](_0x394039){const _0x42a918=_0x2c4a56;if(!_0x394039[_0x42a918(0x2e3)][_0x42a918(0x26f)](_0x42a918(0x1dc)))return;const _0x170d7d=_0x394039[_0x42a918(0x1b1)][_0x42a918(0x1b3)](_0x42a918(0x2eb)),_0x1c9387=_0x394039[_0x42a918(0x1b1)][_0x42a918(0x1b3)](_0x42a918(0x25b));this[_0x42a918(0x21e)](_0x170d7d,_0x42a918(0x1cc),(_0x31aa69,_0x6789d5,_0x382254)=>{const _0x366479=_0x42a918,_0x1d5b99=this[_0x366479(0x205)][_0x366479(0x1b3)](_0x6789d5);if(!_0x1d5b99)return;const _0xd3c447=this[_0x366479(0x267)][_0x366479(0x2fd)](_0x1d5b99[_0x366479(0x1f9)])[_0x366479(0x2b6)](_0x1d5b99[_0x366479(0x2d0)]);_0x1d5b99[_0x366479(0x2be)][_0x366479(0x264)](_0x477bee=>_0xd3c447[_0x366479(0x27a)](_0x477bee,_0x366479(0x1bb))),this[_0x366479(0x205)][_0x366479(0x1e4)](_0x6789d5),this[_0x366479(0x205)][_0x366479(0x279)](_0x382254,_0x1d5b99);}),this[_0x42a918(0x21e)](_0x1c9387,_0x42a918(0x1cc),(_0x22e83c,_0x42a5c1,_0x2a12aa)=>{const _0x32d4a2=_0x42a918,_0x595244=this[_0x32d4a2(0x205)][_0x32d4a2(0x1b3)](_0x42a5c1);if(!_0x595244)return;const _0x52ae83=this[_0x32d4a2(0x267)][_0x32d4a2(0x2fd)](_0x595244[_0x32d4a2(0x1f9)])[_0x32d4a2(0x2b6)](_0x595244[_0x32d4a2(0x2d0)]);_0x595244[_0x32d4a2(0x2be)][_0x32d4a2(0x264)](_0x3607b8=>_0x52ae83[_0x32d4a2(0x27a)](_0x3607b8,_0x32d4a2(0x275))),this[_0x32d4a2(0x205)][_0x32d4a2(0x1e4)](_0x42a5c1),this[_0x32d4a2(0x205)][_0x32d4a2(0x279)](_0x2a12aa,_0x595244);});}async[_0x2c4a56(0x218)](_0x53c82e){const _0x33de7d=_0x2c4a56;this[_0x33de7d(0x2fa)][_0x33de7d(0x2e3)][_0x33de7d(0x1b3)](_0x48b72c)[_0x33de7d(0x2e5)](),this[_0x33de7d(0x2b3)][_0x33de7d(0x243)](_0x33de7d(0x288)),this[_0x33de7d(0x2b3)][_0x33de7d(0x2ae)](!0x0),await this[_0x33de7d(0x1c9)]();try{const _0xe727b6=this[_0x33de7d(0x2fa)][_0x33de7d(0x2e3)][_0x33de7d(0x1b3)](_0x44b1ea);this[_0x33de7d(0x27d)]('\x20'),_0xe727b6[_0x33de7d(0x2c2)][_0x33de7d(0x268)](_0x33de7d(0x214)),await this[_0x33de7d(0x2f2)](_0x53c82e);const {sessionId:_0x243da1}=this[_0x33de7d(0x1ce)][_0x33de7d(0x259)]();await this[_0x33de7d(0x267)][_0x33de7d(0x209)](_0x53c82e,_0x243da1),this[_0x33de7d(0x267)][_0x33de7d(0x23f)]()&&this[_0x33de7d(0x267)][_0x33de7d(0x304)](_0x1523b1(this[_0x33de7d(0x2fa)][_0x33de7d(0x284)],_0x33de7d(0x2f8)));}catch(_0x3836e4){console[_0x33de7d(0x2f9)](_0x33de7d(0x2ca),_0x3836e4);}finally{this[_0x33de7d(0x2b3)][_0x33de7d(0x243)](_0x33de7d(0x1d9)),this[_0x33de7d(0x2b3)][_0x33de7d(0x2ae)](!0x1);}}[_0x2c4a56(0x2f4)](_0x27c728){const _0x27d88b=_0x2c4a56;this[_0x27d88b(0x267)]['id']===_0x27c728&&this[_0x27d88b(0x2f2)]();}async[_0x2c4a56(0x1b0)](){const _0xd68cb9=_0x2c4a56,_0x38f9af=this[_0xd68cb9(0x1ce)][_0xd68cb9(0x2b8)]();this[_0xd68cb9(0x267)]?.[_0xd68cb9(0x22c)](_0x38f9af),this[_0xd68cb9(0x267)]?.[_0xd68cb9(0x304)](_0x1523b1(this[_0xd68cb9(0x2fa)][_0xd68cb9(0x284)],_0xd68cb9(0x2f8)));}[_0x2c4a56(0x1df)](){const _0x46002d=_0x2c4a56;this[_0x46002d(0x267)]?.[_0x46002d(0x1ee)]();}[_0x2c4a56(0x2fc)](){const _0x5f3656=_0x2c4a56;this[_0x5f3656(0x2b3)][_0x5f3656(0x2fc)]();}async[_0x2c4a56(0x1e9)](){const _0x2ae599=_0x2c4a56;await this[_0x2ae599(0x2f2)]();}async[_0x2c4a56(0x20e)]({message:_0x39785f,quickActionData:_0x1b09c8}){const _0x273ac4=_0x2c4a56;await this[_0x273ac4(0x212)]({'userMessage':_0x39785f,'quickActionData':_0x1b09c8});}[_0x2c4a56(0x20a)](){const _0x1042ff=_0x2c4a56,_0x52f641=this[_0x1042ff(0x2fa)][_0x1042ff(0x2c3)][_0x1042ff(0x1b3)](_0x1042ff(0x296));if(!_0x52f641)throw new _0x13f2ac(_0x1042ff(0x211),this);return _0x52f641;}async[_0x2c4a56(0x2f2)](_0xc8e3ff){const _0x39cb70=_0x2c4a56;try{this[_0x39cb70(0x2b3)][_0x39cb70(0x21b)](),await this[_0x39cb70(0x236)](_0xc8e3ff);}catch(_0x28bf19){_0xbcf11b(_0x39cb70(0x24f),_0x28bf19),this[_0x39cb70(0x267)]=void 0x0,this[_0x39cb70(0x2b3)][_0x39cb70(0x2c8)]();}}async[_0x2c4a56(0x236)](_0xf483ae){const _0x10b41c=_0x2c4a56,_0x814a4a=this[_0x10b41c(0x2fa)][_0x10b41c(0x2e3)][_0x10b41c(0x1b3)](_0x48b72c);let _0x2e5d4a;_0x814a4a[_0x10b41c(0x2d5)]&&_0x814a4a[_0x10b41c(0x2e5)](),_0xf483ae||!this[_0x10b41c(0x267)]?_0x2e5d4a=this[_0x10b41c(0x2fa)][_0x10b41c(0x2c3)][_0x10b41c(0x1b3)](_0x10b41c(0x1fa)):this[_0x10b41c(0x2b3)][_0x10b41c(0x2cb)]&&(_0x2e5d4a=this[_0x10b41c(0x267)][_0x10b41c(0x2f7)]['id']),await this[_0x10b41c(0x1c9)]();const _0x12e6a0=this[_0x10b41c(0x20a)](),_0x6198ac=_0xf483ae||_0x38bd85();this[_0x10b41c(0x267)]=new _0x2f446f({'connector':this[_0x10b41c(0x1f2)],'chatModels':this[_0x10b41c(0x295)],'selectedModelId':_0x2e5d4a,'conversationId':_0x6198ac,'group':_0x12e6a0,'getEditor':()=>_0x40cd09(this[_0x10b41c(0x2fa)])}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x1dd),(_0x384115,_0x3399da)=>{const _0x7e1548=_0x10b41c;this[_0x7e1548(0x2b3)][_0x7e1548(0x274)](_0x3399da),this[_0x7e1548(0x2b3)][_0x7e1548(0x250)](),this[_0x7e1548(0x2b3)][_0x7e1548(0x25f)](),this[_0x7e1548(0x2b3)][_0x7e1548(0x261)](),_0xf483ae||(this[_0x7e1548(0x2b3)][_0x7e1548(0x2f6)](),this[_0x7e1548(0x267)]?.[_0x7e1548(0x304)](_0x1523b1(this[_0x7e1548(0x2fa)][_0x7e1548(0x284)],_0x7e1548(0x2f8))));}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x2ab),(_0x321a5d,_0x48f06e)=>{const _0x26107e=_0x10b41c;this[_0x26107e(0x2b3)][_0x26107e(0x24c)](_0x48f06e[_0x26107e(0x220)]);}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x2c6),(_0x59d1be,_0x2b6480)=>{const _0x220ef8=_0x10b41c;this[_0x220ef8(0x2b3)][_0x220ef8(0x1f7)](_0x2b6480);}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x272),()=>{const _0x291bb7=_0x10b41c;this[_0x291bb7(0x2b3)][_0x291bb7(0x1c2)]({'isWebSearchEnabled':!0x0,'isReasoningEnabled':!0x1});}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x240),()=>{const _0x2dc194=_0x10b41c;this[_0x2dc194(0x2b3)][_0x2dc194(0x1c2)]({'isWebSearchEnabled':!0x1,'isReasoningEnabled':!0x0});}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x271),(_0x37948d,_0x4a4402)=>{const _0x4fca44=_0x10b41c;this[_0x4fca44(0x2b3)][_0x4fca44(0x21f)](_0x4a4402,{'isWebSearchEnabled':!0x0,'isReasoningEnabled':!0x1});}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x1be),(_0x255ad8,_0x26630d)=>{const _0x8aa71=_0x10b41c;this[_0x8aa71(0x2b3)][_0x8aa71(0x21f)](_0x26630d,{'isWebSearchEnabled':!0x1,'isReasoningEnabled':!0x0});}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x238),()=>{const _0x9165b3=_0x10b41c;this[_0x9165b3(0x2b3)][_0x9165b3(0x1de)]();}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x2d8),async()=>{const _0x477bb8=_0x10b41c;await this[_0x477bb8(0x2b3)][_0x477bb8(0x302)]();}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x1f1),(_0x18ab4f,_0xe7dce5)=>{const _0x4bcdc1=_0x10b41c;this[_0x4bcdc1(0x2b3)][_0x4bcdc1(0x1cb)](_0xe7dce5['id']);}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x201),(_0xc45bf1,_0x2e09a4,_0x9922a2)=>{const _0x316c64=_0x10b41c;this[_0x316c64(0x27d)](_0x2e09a4,_0x9922a2);}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x1e6),(_0x598ee5,_0x7daf68)=>{const _0x2d83ac=_0x10b41c;_0x2d83ac(0x263)===_0x7daf68[_0x2d83ac(0x2b9)]?this[_0x2d83ac(0x2b3)][_0x2d83ac(0x20b)](_0x7daf68):this[_0x2d83ac(0x2b3)][_0x2d83ac(0x1c5)](_0x7daf68);}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x20f),async(_0x1fd8c9,_0x44243a,_0x3fd7f1)=>{const _0x4faedd=_0x10b41c;await this[_0x4faedd(0x28b)]({'reply':_0x44243a,'changeGroups':_0x3fd7f1});}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x233),(_0x5462e7,{reply:_0x2cf2d8,index:_0x4bff0c,state:_0x446f30})=>{const _0x4ea1b9=_0x10b41c;this[_0x4ea1b9(0x2b3)][_0x4ea1b9(0x289)]({'id':_0x2cf2d8['id'],'index':_0x4bff0c,'state':_0x446f30});}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x2e0),(_0x512ebd,_0x51784d)=>{const _0x1984a3=_0x10b41c;if(this[_0x1984a3(0x2b3)][_0x1984a3(0x2ce)](_0x51784d[_0x1984a3(0x262)],_0x51784d[_0x1984a3(0x2f0)]),_0x1984a3(0x273)===_0x51784d[_0x1984a3(0x262)][_0x1984a3(0x2b9)]){const _0x4096ff=[..._0x40cd09(this[_0x1984a3(0x2fa)])[_0x1984a3(0x1f5)][_0x1984a3(0x2a3)][_0x1984a3(0x273)][_0x1984a3(0x1d1)]()];this[_0x1984a3(0x1ce)][_0x1984a3(0x2dc)](_0x4096ff,_0x1984a3(0x21d)+this[_0x1984a3(0x267)]?.['id']);}}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x266),(_0x35abbe,_0x2c6643)=>{const _0x35df4b=_0x10b41c;this[_0x35df4b(0x2b3)][_0x35df4b(0x246)](_0x2c6643[_0x35df4b(0x281)]),_0x35df4b(0x1c6)==_0x2c6643[_0x35df4b(0x281)]&&this[_0x35df4b(0x1df)](),_0x35df4b(0x273)===_0x2c6643[_0x35df4b(0x2b9)]&&this[_0x35df4b(0x1ce)][_0x35df4b(0x306)](_0x35df4b(0x21d)+this[_0x35df4b(0x267)]?.['id']);}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x308),(_0x134942,_0x463dee)=>{const _0x1df380=_0x10b41c;this[_0x1df380(0x2b3)][_0x1df380(0x260)](_0x463dee[_0x1df380(0x262)][_0x1df380(0x281)],_0x463dee[_0x1df380(0x2f0)]);}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x28a),(_0x595b7f,_0x4aabb9)=>{const _0x40882f=_0x10b41c;this[_0x40882f(0x2b3)][_0x40882f(0x2e2)](_0x4aabb9[_0x40882f(0x1f6)]);}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x1fd),(_0xcf881f,_0x20af4d)=>{const _0x1a9908=_0x10b41c;this[_0x1a9908(0x2b3)][_0x1a9908(0x1eb)](_0x20af4d[_0x1a9908(0x2cc)]);}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x1f4),(_0x23341b,_0x4075bf)=>{const _0x1b1eee=_0x10b41c;this[_0x1b1eee(0x2b3)][_0x1b1eee(0x256)](_0x4075bf[_0x1b1eee(0x298)],_0x4075bf[_0x1b1eee(0x1e0)],_0x4075bf[_0x1b1eee(0x2c5)],_0x4075bf[_0x1b1eee(0x1c0)]);}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x1c8),(_0x339239,_0x3cc2b3)=>{const _0x18aa06=_0x10b41c;this[_0x18aa06(0x2b3)][_0x18aa06(0x1bf)](_0x3cc2b3[_0x18aa06(0x298)],_0x3cc2b3[_0x18aa06(0x2a5)],_0x3cc2b3[_0x18aa06(0x2a4)]);}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x223),(_0x30cfec,_0x5a9d51)=>{const _0x5a3812=_0x10b41c;this[_0x5a3812(0x2b3)][_0x5a3812(0x20d)](_0x5a9d51);}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x285),(_0x2ccba9,_0xe449ff)=>{const _0x3a754d=_0x10b41c;this[_0x3a754d(0x2b3)][_0x3a754d(0x1d8)](_0xe449ff[_0x3a754d(0x2f7)],_0xe449ff[_0x3a754d(0x216)]);}),this[_0x10b41c(0x267)]['on'](_0x10b41c(0x2f9),(_0x1a9f30,{error:_0x5cbc06,interactionId:_0x5d40de,fileName:_0x47acdc,url:_0xd56a21,sourceId:_0x48ef32,sourceLabel:_0x391208})=>{const _0x48e496=_0x10b41c,_0x3d15a4=_0x5d40de?_0x5d40de+':'+_0x38bd85():_0x38bd85();_0x5cbc06[_0x48e496(0x29a)][_0x48e496(0x252)](_0x48e496(0x29f))?this[_0x48e496(0x2b3)][_0x48e496(0x1d0)]({'staticMessage':_0x1523b1(this[_0x48e496(0x2fa)][_0x48e496(0x284)],_0x48e496(0x1d5)),'id':_0x3d15a4}):_0x5cbc06[_0x48e496(0x29a)][_0x48e496(0x252)](_0x48e496(0x2e7))||_0x5cbc06[_0x48e496(0x29a)][_0x48e496(0x252)](_0x48e496(0x24f))?(this[_0x48e496(0x2b3)][_0x48e496(0x1cf)]({'errorMessage':_0x1523b1(this[_0x48e496(0x2fa)][_0x48e496(0x284)],_0x48e496(0x2d7)),'id':_0x3d15a4}),this[_0x48e496(0x2e4)](_0x5cbc06)):_0x5cbc06[_0x48e496(0x29a)][_0x48e496(0x252)](_0x48e496(0x258))?this[_0x48e496(0x2b3)][_0x48e496(0x1cf)]({'errorMessage':_0x1523b1(this[_0x48e496(0x2fa)][_0x48e496(0x284)],_0x48e496(0x28e),_0x47acdc),'id':_0x3d15a4}):_0x5cbc06[_0x48e496(0x29a)][_0x48e496(0x252)](_0x48e496(0x1db))?this[_0x48e496(0x2b3)][_0x48e496(0x1cf)]({'errorMessage':_0x1523b1(this[_0x48e496(0x2fa)][_0x48e496(0x284)],_0x48e496(0x2fe),_0xd56a21),'id':_0x3d15a4}):_0x5cbc06[_0x48e496(0x29a)][_0x48e496(0x252)](_0x48e496(0x307))?this[_0x48e496(0x2b3)][_0x48e496(0x1cf)]({'errorMessage':_0x1523b1(this[_0x48e496(0x2fa)][_0x48e496(0x284)],_0x48e496(0x24d)),'id':_0x3d15a4}):_0x5cbc06[_0x48e496(0x29a)][_0x48e496(0x252)](_0x48e496(0x2a1))?this[_0x48e496(0x2b3)][_0x48e496(0x1cf)]({'errorMessage':_0x1523b1(this[_0x48e496(0x2fa)][_0x48e496(0x284)],_0x48e496(0x253)),'id':_0x3d15a4}):_0x5cbc06[_0x48e496(0x29a)][_0x48e496(0x252)](_0x48e496(0x26e))?(_0x48ef32&&this[_0x48e496(0x2b3)][_0x48e496(0x2bb)](_0x48ef32),this[_0x48e496(0x2b3)][_0x48e496(0x1cf)]({'errorMessage':_0x1523b1(this[_0x48e496(0x2fa)][_0x48e496(0x284)],_0x48e496(0x2ef),_0x391208||_0x48e496(0x1e0)),'id':_0x3d15a4}),this[_0x48e496(0x2e4)](_0x5cbc06)):_0x5cbc06[_0x48e496(0x29a)][_0x48e496(0x252)](_0x48e496(0x24e))?(this[_0x48e496(0x2b3)][_0x48e496(0x1cf)]({'errorMessage':_0x1523b1(this[_0x48e496(0x2fa)][_0x48e496(0x284)],_0x48e496(0x2db)),'id':_0x3d15a4}),this[_0x48e496(0x2e4)](_0x5cbc06)):(this[_0x48e496(0x2b3)][_0x48e496(0x1cf)]({'errorMessage':_0x1523b1(this[_0x48e496(0x2fa)][_0x48e496(0x284)],_0x48e496(0x1fe)),'id':_0x3d15a4}),this[_0x48e496(0x2e4)](_0x5cbc06));}),await this[_0x10b41c(0x267)][_0x10b41c(0x1e5)](this[_0x10b41c(0x2fa)][_0x10b41c(0x2c3)][_0x10b41c(0x1b3)](_0x10b41c(0x1b7))),_0xf483ae||await this[_0x10b41c(0x267)][_0x10b41c(0x237)]();}async[_0x2c4a56(0x212)]({userMessage:_0x420648,quickActionData:_0x7ec0d}){const _0xe3a38c=_0x2c4a56;if(!this[_0xe3a38c(0x267)])throw new _0x13f2ac(_0xe3a38c(0x28f));this[_0xe3a38c(0x267)][_0xe3a38c(0x21c)]()&&await this[_0xe3a38c(0x267)][_0xe3a38c(0x22b)](this[_0xe3a38c(0x1ce)][_0xe3a38c(0x259)]()),this[_0xe3a38c(0x267)]['id']&&this[_0xe3a38c(0x267)][_0xe3a38c(0x293)]&&await this[_0xe3a38c(0x267)][_0xe3a38c(0x22d)]({'userMessage':_0x420648,'quickActionData':_0x7ec0d}),this[_0xe3a38c(0x2d1)]();}[_0x2c4a56(0x2d1)](){const _0xae9582=_0x2c4a56,_0x1a6f55=_0x40cd09(this[_0xae9582(0x2fa)])[_0xae9582(0x1f5)],_0x22e596=Array[_0xae9582(0x1ea)](_0x1a6f55[_0xae9582(0x2c0)][_0xae9582(0x222)](_0x3a377a));_0x1a6f55[_0xae9582(0x29e)](_0x5e2541=>{const _0x8fd253=_0xae9582;_0x22e596[_0x8fd253(0x264)](_0x23ec37=>_0x5e2541[_0x8fd253(0x29d)](_0x23ec37));});}[_0x2c4a56(0x1e8)](){const _0x535e53=_0x2c4a56;console[_0x535e53(0x23b)](_0x535e53(0x230));}[_0x2c4a56(0x257)](_0x5b8dab){const _0x3b53b9=_0x2c4a56;this[_0x3b53b9(0x2b3)][_0x3b53b9(0x1c3)](_0x5b8dab);}[_0x2c4a56(0x2e4)](_0x167251){const _0x18f637=_0x2c4a56;_0xbcf11b(_0x167251[_0x18f637(0x29a)]);}[_0x2c4a56(0x24b)](_0x1c6a61){const _0x33be45=_0x2c4a56;this[_0x33be45(0x267)]?.[_0x33be45(0x1d7)](_0x1c6a61);}[_0x2c4a56(0x2b5)](){const _0x1bde47=_0x2c4a56;this[_0x1bde47(0x267)]?.[_0x1bde47(0x1d3)]();}[_0x2c4a56(0x2a9)](){const _0x4d971d=_0x2c4a56;this[_0x4d971d(0x267)]?.[_0x4d971d(0x27b)]();}[_0x2c4a56(0x206)](_0x2aaf40){const _0x3de75b=_0x2c4a56,[_0x342ee7,_0x18f512]=_0x2aaf40[_0x3de75b(0x1b6)](':'),_0x272283=this[_0x3de75b(0x267)][_0x3de75b(0x2fd)](_0x342ee7),_0x47a4cc=_0x272283[_0x3de75b(0x2b6)](_0x18f512);return{'interaction':_0x272283,'reply':_0x47a4cc};}[_0x2c4a56(0x22a)](_0x2a8dfc,_0x28bc19=!0x1){const _0x527121=_0x2c4a56,_0x3dd663=_0x40cd09(this[_0x527121(0x2fa)]),_0x3085a8={'target':_0x3dd663[_0x527121(0x1b2)][_0x527121(0x2c2)][_0x527121(0x21a)][_0x527121(0x2da)](_0x3dd663[_0x527121(0x1b2)][_0x527121(0x2a6)][_0x527121(0x29b)](_0x2a8dfc)),'viewportOffset':{'top':0x96,'left':0x0,'bottom':0x32,'right':0x0},'ancestorOffset':0x14,'alignToTop':_0x28bc19};_0x28bc19&&(_0x3085a8[_0x527121(0x215)]=!0x0),_0x59c6ad(_0x3085a8);}[_0x2c4a56(0x27d)](_0x30f391,_0x1ef6d9=!0x1){const _0x3f82a0=_0x2c4a56;this[_0x3f82a0(0x2b3)][_0x3f82a0(0x201)](_0x30f391||_0x1523b1(this[_0x3f82a0(0x2fa)][_0x3f82a0(0x284)],_0x3f82a0(0x1ff)),_0x1ef6d9);}async[_0x2c4a56(0x28b)]({reply:_0x218b65,changeGroups:_0x592f38,renderingStrategy:_0x420936}){const _0x24e052=_0x2c4a56,{id:_0x9a0c77,isDone:_0x1a5e52,type:_0x388c9c,parsedContent:_0x369217}=_0x218b65;if(_0x24e052(0x213)===_0x388c9c){const _0x480c57=_0x40cd09(this[_0x24e052(0x2fa)]),_0x1aa1a3=_0x2b2350({'editor':_0x480c57,'showDiff':this[_0x24e052(0x2b3)][_0x24e052(0x1ec)],'changeGroups':_0x592f38,'documentContextContent':_0x218b65[_0x24e052(0x25a)]});await this[_0x24e052(0x2b3)][_0x24e052(0x1c1)]({'id':_0x9a0c77,'parts':_0x1aa1a3,'renderingStrategy':_0x420936,'isDone':_0x1a5e52});}else _0x24e052(0x263)===_0x388c9c&&await this[_0x24e052(0x2b3)][_0x24e052(0x1e1)]({'id':_0x9a0c77,'parsedContent':_0x369217,'renderingStrategy':_0x420936,'isDone':_0x1a5e52});_0x1a5e52&&_0x218b65[_0x24e052(0x1ba)][_0x24e052(0x1f0)]>0x0&&this[_0x24e052(0x2b3)][_0x24e052(0x251)](_0x9a0c77,_0x218b65[_0x24e052(0x1ba)]);}async[_0x2c4a56(0x1c9)](){const _0x2c97f4=_0x2c4a56,_0x1296ce=this[_0x2c97f4(0x267)]?.[_0x2c97f4(0x270)];_0x1296ce&&(_0x1296ce[_0x2c97f4(0x2e8)](),this[_0x2c97f4(0x2b3)][_0x2c97f4(0x2af)](_0x1296ce));}async[_0x2c4a56(0x1e2)](){const _0x5444ff=_0x2c4a56,_0x4bb465=this[_0x5444ff(0x267)]?.[_0x5444ff(0x270)];if(_0x4bb465){for await(const _0x4b8f0d of _0x4bb465[_0x5444ff(0x2a7)])await this[_0x5444ff(0x28b)]({'reply':_0x4b8f0d,'changeGroups':_0x4b8f0d[_0x5444ff(0x2df)],'renderingStrategy':_0x5444ff(0x288)});}}[_0x2c4a56(0x276)](_0x398468){const _0x1aa8d0=_0x2c4a56,_0x3cde4d={'positiveCount':_0x398468[_0x1aa8d0(0x2df)][_0x1aa8d0(0x1f3)](_0xedf94a=>_0x1aa8d0(0x275)===_0xedf94a[_0x1aa8d0(0x26a)])[_0x1aa8d0(0x1f0)],'totalCount':_0x398468[_0x1aa8d0(0x2df)][_0x1aa8d0(0x1f0)]},_0x472ce9=this[_0x1aa8d0(0x267)][_0x1aa8d0(0x2fd)](_0x398468[_0x1aa8d0(0x1f9)])[_0x1aa8d0(0x1da)];this[_0x1aa8d0(0x1f2)][_0x1aa8d0(0x200)](this[_0x1aa8d0(0x267)]['id'],_0x472ce9,_0x3cde4d);}}function _0x5d6c(){const _0x288cf1=['AI_CHAT_GENERIC_ERROR','AI_CHAT_UNTITLED_CONVERSATION','upsertAIChatRating','setConversationTitle','baseVersion','88KasHXK','Liked\x20response','_batchToChanges','getInteractionAndReplyById','_previewedChangeGroup','partIndex','load','getGroupId','addFeedItemAIReply','cloneNode','updateCapabilities','sendMessage','replyContentUpdated','createPositionFromPath','ai-chat-missing-channel-id','_handleUIUserMessage','modification-delta','chat','alignToTop','isDisabled','data','loadConversation','323667VrWxWu','domConverter','enableControls','isCurrentDocumentInContext','ai-conversation-','listenTo','addFeedInteractionHeader','isUploadInProgress','applySuggestion','getMarkersGroup','capabilitiesUpdated','rejectSuggestion','addUrlToContext','7VFhjcX','492ZFeMwM','3533826iFgtdl','outdated','_scrollToSuggestionRange','updateCurrentDocumentInContext','addSelectionToContext','handleUserInteraction','batch','push','Showing\x20conversation\x20history...','updateContent','addResourceToContext','replyChangeGroupStateUpdated','afterInit','children','_handleStartConversation','start','interactionStarted','abortPromptStream','ai-chat-controller-mouse-over','log','slice','1296010FmCamu','map','isCurrentDocumentInConversation','reasoningStarted','insertSuggestion','AITabs','setFeedItemRenderingStrategy','requires','howMany','removeContextItem','dialogClosed','full','sourcePosition','ready','_removeFromContext','setIsUploadInProgress','AI_CHAT_CONTEXT_INVALID_DATA','ai-chat-resource-load-failed','ai-chat-conversation-start-failed','resetMessageInput','updateFeedItemAIReplySources','startsWith','AI_CHAT_CONTEXT_UNSUPPORTED_TYPE','_applyOperationsAsSuggestions','add','populateSourceResourceBalloon','_setIsMaximized','ai-chat-file-upload-failed','getDocumentData','documentContextContent','redo','resizeTabs','240275JlCiWR','_balloonShowDiff','clearPendingContextUI','setContextItemLoading','clearConversationContextUI','contextItem','text-delta','forEach','_integrateEditor','contextItemRemoved','activeConversation','activateTab','maxOffset','state','48580hVKHUg','AIConnector','DocumentCompare','ai-chat-source-resources-load-failed','has','lastInteraction','webSearchFinished','webSearchStarted','selection','createConversation','accepted','_updateRatings','resizedTabs','_openBalloonFor','set','setChangeGroupState','toggleReasoning','new','updateConversationTitle','264308dDsgrN','Disliked\x20response','_insertSuggestion','uiId','end','mouseLeaveSuggestion','locale','modelSelected','applyOperation','rejected','static','updateFeedItemAIReplySuggestionPartState','contextSent','_updateReplyContent','4uAFbti','getAttribute','AI_CHAT_CONTEXT_UNABLE_TO_UPLOAD_FILE','ai-chat-controller-no-active-conversation','$graveyard','getFirstRange','AI_BALLOON_HEADER_TITLE','isStarted','unshift','_aiChatModels','collaboration.channelId','toggleSuggestionDisplayMode','sourceId','addOperation','message','toViewRange','query','removeMarker','change','ai-request-aborted','ai.chat.models.displayedModels','ai-chat-context-unsupported-type','3PogMVy','document','isInContext','resourceId','mapper','replies','getPath','_toggleReasoning','TrackChangesEditing','uploadProgressChanged','resize','range','toggleLoadingSkeleton','stopInteraction','marker','addFileToContext','removed','_aiChatUi','1087686kBWMBG','_toggleWebSearch','getReply','getTransformedByOperation','getSelectionText','type','showPrevious','closeSourceResourceBalloon','showNext','getDocumentContext','indexes','getRoot','markers','stopListening','view','config','dislike','resources','interactionCreated','remove','disableControls','history','Failed\x20to\x20load\x20conversation','isModelAvailable','options','parse','addContextItem','root','replyId','_removeAISelectionMarkers','AIChatController','showChangeInText','rootName','isOpen','open','AI_CHAT_UNABLE_TO_START_CONVERSATION','interactionFinished','isPremiumPlugin','viewRangeToDom','AI_CHAT_RESOURCE_LOAD_FAILED','showFakeVisualSelection','toString','addFilesToContext','changeGroups','contextItemAdded','getDiff','setConversationContext','plugins','_logError','close','version','ai-chat-conversation-init-failed','stop','addDocumentToContext','createRange','undo','isOfficialPlugin','mouseOverSuggestion','editors','AI_CHAT_CONTEXT_UNABLE_TO_LOAD_RESOURCES','isLoading','selectModel','_startConversationSafely','data-id','handleRemovedConversation','getChildAtOffset','resetConversationTitle','selectedModel','AI_CHAT_CONTEXT_CURRENT_DOCUMENT','error','context','nextSibling','focusPromptInput','getInteraction','AI_CHAT_CONTEXT_UNABLE_TO_UPLOAD_URL','anchorId','AIEditing','sendUserMessage','finishInteraction','resource','addCurrentDocumentToContext','like','hideFakeVisualSelection','ai-chat-context-invalid-data','contextItemLoadingEnded','addSelectionToChatContext','commands','editing','get','changes','find','split','ai.chat.context','content','_applySuggestion','sources','pending','pluginName','path','reasoningFinished','updateResourceState','uid','updateFeedItemAIReplySuggestionContent','setLoadingMessage','setIsMaximized','AIChatUI','addFeedItemAISuggestion','current-document','loadSourceResources','resourceStateChanged','_stopLastInteraction','createPositionAt','removeFeedInteraction','revert','node','_aiEditing','addFeedItemError','addFeedItemStaticMessage','getRanges','_createFromRanges','toggleWebSearch','isDocumentOperation','AI_CHAT_ABORTED_MESSAGE','setModel','removeFromContext','setSelectedModel','streaming','messageId','ai-chat-url-upload-failed','Undo','conversationInitialized','startInteraction','removeSelectionFromChatContext','source','updateFeedItemAIReplyContent','_flushLastInteractionUI','indexOf','delete','init','replyCreated','main','_showConversationHistory','startConversation','from','setAddContextOptions','showDiff','getChild','removeSelectionFromContext','getChildren','length','interactionDestroyed','_aiConnector','filter','sourceResourcesLoaded','model','contextItems','addFeedItemUserMessage','scrollFeedToSuggestion','interactionId','ai.chat.models.defaultModelId','_getDocumentRangeForReplyChanges','getOperations','addContextOptionsChanged'];_0x5d6c=function(){return _0x288cf1;};return _0x5d6c();}