/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x3f905d=_0x3d21;(function(_0xf8b4fa,_0x18f096){const _0x3febc2=_0x3d21,_0x564ea7=_0xf8b4fa();while(!![]){try{const _0x1259d2=-parseInt(_0x3febc2(0x17f))/0x1+parseInt(_0x3febc2(0x189))/0x2+parseInt(_0x3febc2(0x1a4))/0x3+parseInt(_0x3febc2(0x181))/0x4+-parseInt(_0x3febc2(0x198))/0x5*(parseInt(_0x3febc2(0x186))/0x6)+parseInt(_0x3febc2(0x1b0))/0x7+-parseInt(_0x3febc2(0x185))/0x8;if(_0x1259d2===_0x18f096)break;else _0x564ea7['push'](_0x564ea7['shift']());}catch(_0x4bc397){_0x564ea7['push'](_0x564ea7['shift']());}}}(_0x7f3a,0x628dc));import{CKEditorError as _0x6ff7d9,ObservableMixin as _0xc05edb,uid as _0x48b52e}from'ckeditor5/src/utils.js';function _0x3d21(_0x7613af,_0x324e4c){const _0x7f3a7e=_0x7f3a();return _0x3d21=function(_0x3d219c,_0x5c7af1){_0x3d219c=_0x3d219c-0x15e;let _0x53ca84=_0x7f3a7e[_0x3d219c];return _0x53ca84;},_0x3d21(_0x7613af,_0x324e4c);}function _0x7f3a(){const _0x322c3b=['message','isCurrentDocumentInContext','addFilesToContext','filter','fetchDocument','length','ai-chat-resource-no-data','getId','getSentContextItems','ai-chat-resource-load-failed','push','enabled','map','files','set','uploadUrl','name','isHidden','uiId','FILE','addResourceToContext','Current\x20document','uploadFile','_config','uploadDocument','_finishUploadOperation','_pendingContextItems','sourceResourcesLoaded','ai-chat-source-not-found','url-','from','clearPendingContextItems','TEXT','delete','type','getDocument','HTML','mapContextItemsToRequestData','contextItemLoadingEnded','size','end','has','_addToConversationContextItem','populateFromMessage','_removeContextItem','_setAddContextOptionsDefaultState','text/html','text/plain','ai-chat-context-invalid-data','_addContextItem','version','updateCurrentDocument','SELECTION','stack','_updateResourceInContextState','_createContextItemFromContent','abort','startsWith','all','addContextOptionsChanged','resources','get','sources','label','ai-request-aborted','forEach','ai-chat-source-resources-load-failed','63880uxQynE','isReadOnly','1835596qOHmOJ','_ongoingUploads','urls','uploadProgressChanged','12210544aiMIpu','60aXFzkM','files-','values','714666aHeckn','File','addToConversationContext','sessionId','addSelectionToContext','object\x20with\x20content\x20and\x20type\x20properties','fire','selection','isInContext','_conversationContextItems','URL','_startUploadOperation','contextItemAdded','_finishContextItemLoading','attributes','94745uSJdcm','getResources','getPendingContextItems','isSelectionInContext','_convertTextResourceToFile','_toggleAddCurrentDocumentOptionVisibility','object','contextSent','_ownerId','content','_mapContextItemToRequestData','removeSelectionFromContext','1795788OPYpMi','start','string','url','contextItemRemoved','_addContextOptionsState','data','_getCustomSourcesInitialState','isCurrentDocumentInConversation','hidden','abortController','loadSourceResources','5379752cHIPOk','_isResourceInContext','resourceId','getData','ai-chat-file-upload-failed','current-document','file-','_findSourceIdsByResourceId','error','resourceStateChanged','_connector','addUrlToContext','text/markdown','_ongoingUploadOperations','ai-chat-context-unsupported-type','ai-chat-url-upload-failed','addCurrentDocumentToContext','document','init','removeFromContext','ai-chat-document-upload-failed','find','DOCUMENT','MARKDOWN'];_0x7f3a=function(){return _0x322c3b;};return _0x7f3a();}import{AIContextItemType as _0x2f6bc3,AIContextTextResourceType as _0x59b10e}from'../../aicore/model/aicontext.js';import{escape as _0x2860e7}from'es-toolkit/compat';export const AI_CONTEXT_MODEL_EVENT_NAMES=[_0x3f905d(0x195),_0x3f905d(0x1a8),_0x3f905d(0x162),_0x3f905d(0x19f),_0x3f905d(0x1b8),_0x3f905d(0x177),_0x3f905d(0x1e3),_0x3f905d(0x1b9),_0x3f905d(0x184)];export class AIChatContext extends _0xc05edb(){[_0x3f905d(0x1ba)];[_0x3f905d(0x1df)];[_0x3f905d(0x1a0)];constructor({connector:_0x3b6b7b,config:_0x201f4b,ownerId:_0x44ef58}){const _0x59ebe3=_0x3f905d;super(),this[_0x59ebe3(0x1ba)]=_0x3b6b7b,this[_0x59ebe3(0x1df)]=_0x201f4b,this[_0x59ebe3(0x1a0)]=_0x44ef58;}[_0x3f905d(0x1c2)](){const _0x42b00e=_0x3f905d;this[_0x42b00e(0x1e2)]=new Map(),this[_0x42b00e(0x192)]=new Map(),this[_0x42b00e(0x182)]=new Map(),this[_0x42b00e(0x1bd)]=new Map(),this[_0x42b00e(0x169)]();}[_0x3f905d(0x19a)](){const _0x5246f6=_0x3f905d;return this[_0x5246f6(0x1e2)];}async[_0x3f905d(0x167)](_0x5a9824){const _0x3a1400=_0x3f905d,_0x44c2c5=await this[_0x3a1400(0x173)](_0x5a9824);return this[_0x3a1400(0x166)](_0x44c2c5),_0x3a1400(0x1b5)===_0x44c2c5[_0x3a1400(0x1da)]&&this[_0x3a1400(0x19d)](),_0x44c2c5;}async[_0x3f905d(0x173)](_0x5cec0e){const _0x5a415f=_0x3f905d;if(_0x5cec0e[_0x5a415f(0x15e)]===_0x2f6bc3[_0x5a415f(0x1c6)]){const _0x4ffa20=await this[_0x5a415f(0x1ba)][_0x5a415f(0x1cc)](this[_0x5a415f(0x1a0)],_0x5cec0e['id'])[_0x5a415f(0x15f)]();return{'id':_0x5a415f(0x1b5),'uiId':_0x5a415f(0x1b5),'label':_0x5a415f(0x1dd),'type':_0x5cec0e[_0x5a415f(0x15e)],'content':_0x4ffa20[_0x5a415f(0x1a1)],'hidden':this[_0x5a415f(0x192)][_0x5a415f(0x165)](_0x5a415f(0x1b5)),'version':_0x4ffa20[_0x5a415f(0x197)]?.[_0x5a415f(0x16e)],'sessionId':_0x4ffa20[_0x5a415f(0x197)]?.[_0x5a415f(0x18c)]};}return{'id':_0x5cec0e['id'],'uiId':_0x5cec0e['id'],'label':_0x5cec0e[_0x5a415f(0x197)]?.[_0x5a415f(0x17b)]||_0x5cec0e[_0x5a415f(0x1d8)]||_0x5cec0e[_0x5a415f(0x1a7)]||_0x5cec0e['id'],'type':_0x5cec0e[_0x5a415f(0x15e)],..._0x5cec0e?.[_0x5a415f(0x197)]?.[_0x5a415f(0x1b2)]?{'resourceId':_0x5cec0e[_0x5a415f(0x197)]?.[_0x5a415f(0x1b2)]}:{}};}[_0x3f905d(0x1d0)](){const _0x33f743=_0x3f905d;return new Map(this[_0x33f743(0x192)]);}[_0x3f905d(0x1c3)](_0xe7bfa3){const _0x5d9719=_0x3f905d,_0x57e081=this[_0x5d9719(0x1e2)][_0x5d9719(0x179)](_0xe7bfa3);_0x57e081?.[_0x5d9719(0x180)]||this[_0x5d9719(0x168)](_0xe7bfa3);}[_0x3f905d(0x1e7)](){const _0x5a4a4b=_0x3f905d;if(0x0===this[_0x5a4a4b(0x1e2)][_0x5a4a4b(0x163)])return;for(const _0x137ebc of this[_0x5a4a4b(0x1e2)][_0x5a4a4b(0x188)]())this[_0x5a4a4b(0x168)](_0x137ebc[_0x5a4a4b(0x1da)]);const _0x39cca0=this[_0x5a4a4b(0x192)][_0x5a4a4b(0x179)](_0x5a4a4b(0x1b5))||this[_0x5a4a4b(0x1e2)][_0x5a4a4b(0x179)](_0x5a4a4b(0x1b5));_0x39cca0&&this[_0x5a4a4b(0x16d)]({..._0x39cca0,'isReadOnly':!0x0,'hidden':!0x0});}[_0x3f905d(0x18b)](_0x59ead7){const _0x2dd530=_0x3f905d;for(const _0x1abf6 of _0x59ead7[_0x2dd530(0x188)]())this[_0x2dd530(0x166)](_0x1abf6);this[_0x2dd530(0x1e7)](),this[_0x2dd530(0x18f)](_0x2dd530(0x19f),{'contextItems':Array[_0x2dd530(0x1e6)](this[_0x2dd530(0x1d0)]()[_0x2dd530(0x188)]())});}[_0x3f905d(0x1c9)](){const _0x3ec319=_0x3f905d;return this[_0x3ec319(0x1e2)][_0x3ec319(0x165)](_0x3ec319(0x1b5));}[_0x3f905d(0x19b)](){const _0x1545fa=_0x3f905d;return this[_0x1545fa(0x1e2)][_0x1545fa(0x165)](_0x1545fa(0x190));}[_0x3f905d(0x1ac)](){const _0x2bd453=_0x3f905d;return this[_0x2bd453(0x192)][_0x2bd453(0x165)](_0x2bd453(0x1b5));}static[_0x3f905d(0x161)](_0x5661dc){const _0x47be00=_0x3f905d;return Array[_0x47be00(0x1e6)](_0x5661dc[_0x47be00(0x188)]())[_0x47be00(0x1d4)](_0x4647ef=>this[_0x47be00(0x1a2)](_0x4647ef))[_0x47be00(0x1cb)](_0x2712a7=>null!==_0x2712a7);}async[_0x3f905d(0x1ca)](_0x3df38a,_0x49802d,_0x1f089e=_0x2f6bc3[_0x3f905d(0x1db)]){const _0x53e15a=_0x3f905d,_0x42dc33=_0x53e15a(0x187)+_0x48b52e();this[_0x53e15a(0x194)](_0x42dc33);try{await Promise[_0x53e15a(0x176)](_0x3df38a[_0x53e15a(0x1d4)](async _0x3a8599=>{const _0xa4d109=_0x53e15a,_0x1a207a=_0xa4d109(0x1b6)+_0x48b52e(),_0x4885c9=_0x2860e7(_0x3a8599[_0xa4d109(0x1d8)]);try{this[_0xa4d109(0x16d)]({'type':_0x1f089e,'label':_0x49802d?.[_0xa4d109(0x17b)]||_0x4885c9,'uiId':_0x1a207a,'resourceId':_0x49802d?.[_0xa4d109(0x1b2)]},!0x0);const _0x4569ca=this[_0xa4d109(0x1ba)][_0xa4d109(0x1de)](this[_0xa4d109(0x1a0)],_0x3a8599,_0x49802d);this[_0xa4d109(0x182)][_0xa4d109(0x1d6)](_0x1a207a,_0x4569ca[_0xa4d109(0x1ae)]);const {id:_0x41c8c2}=await _0x4569ca[_0xa4d109(0x1cf)]();this[_0xa4d109(0x182)][_0xa4d109(0x1e9)](_0x1a207a),this[_0xa4d109(0x196)]({'type':_0x1f089e,'id':_0x41c8c2,'label':_0x49802d?.[_0xa4d109(0x17b)]||_0x4885c9,'uiId':_0x1a207a,'resourceId':_0x49802d?.[_0xa4d109(0x1b2)]},!0x1);}catch(_0x2232e9){this[_0xa4d109(0x182)][_0xa4d109(0x1e9)](_0x1a207a);if(!_0x2232e9[_0xa4d109(0x1c8)][_0xa4d109(0x175)](_0xa4d109(0x17c))){const _0x2996ab=new _0x6ff7d9(_0xa4d109(0x1b4),null,{'fileName':_0x4885c9});_0x2996ab[_0xa4d109(0x171)]=_0x2232e9[_0xa4d109(0x171)],this[_0xa4d109(0x18f)](_0xa4d109(0x1b8),{'error':_0x2996ab,'fileName':_0x4885c9});}this[_0xa4d109(0x168)](_0x1a207a);}}));}finally{this[_0x53e15a(0x1e1)](_0x42dc33);}}[_0x3f905d(0x1c0)](_0x2d4764){const _0x4f91bb=_0x3f905d;if(this[_0x4f91bb(0x1c9)]())return;const _0x1b9520={'type':_0x2f6bc3[_0x4f91bb(0x1c6)],'uiId':_0x4f91bb(0x1b5),'label':_0x2d4764,'isReadOnly':this[_0x4f91bb(0x192)][_0x4f91bb(0x165)](_0x4f91bb(0x1b5)),'hidden':this[_0x4f91bb(0x192)][_0x4f91bb(0x165)](_0x4f91bb(0x1b5))};this[_0x4f91bb(0x16d)](_0x1b9520);}async[_0x3f905d(0x16f)](_0x87c00,_0x4bb9ae,_0x1cb4f1,_0x4c7407){const _0x7aa733=_0x3f905d,_0x53d3ab=this[_0x7aa733(0x1e2)][_0x7aa733(0x179)](_0x7aa733(0x1b5));if(_0x53d3ab&&_0x87c00){_0x53d3ab[_0x7aa733(0x190)]=_0x4c7407?_0x4c7407[_0x7aa733(0x1d4)](_0x2b83ee=>({'start':_0x2b83ee[_0x7aa733(0x1a5)],'end':_0x2b83ee[_0x7aa733(0x164)]})):[];try{if(_0x53d3ab[_0x7aa733(0x16e)]===_0x4bb9ae)return;const {id:_0x4c3035}=await this[_0x7aa733(0x1ba)][_0x7aa733(0x1e0)](this[_0x7aa733(0x1a0)],_0x87c00,{'version':_0x4bb9ae,'sessionId':_0x1cb4f1})[_0x7aa733(0x1cf)]();_0x53d3ab['id']=_0x4c3035,_0x53d3ab[_0x7aa733(0x1a1)]=_0x87c00,_0x53d3ab[_0x7aa733(0x16e)]=_0x4bb9ae,_0x53d3ab[_0x7aa733(0x18c)]=_0x1cb4f1;}catch(_0x3e0c17){const _0x40fefa=new _0x6ff7d9(_0x7aa733(0x1c4),null);_0x40fefa[_0x7aa733(0x171)]=_0x3e0c17[_0x7aa733(0x171)],this[_0x7aa733(0x18f)](_0x7aa733(0x1b8),{'error':_0x40fefa});}}}[_0x3f905d(0x18d)](_0x4d0136){const _0x54e387=_0x3f905d;this[_0x54e387(0x16d)]({'type':_0x2f6bc3[_0x54e387(0x170)],'label':_0x4d0136,'uiId':_0x54e387(0x190),'content':_0x4d0136});}[_0x3f905d(0x1a3)](){const _0x2136b0=_0x3f905d;this[_0x2136b0(0x168)](_0x2136b0(0x190));}async[_0x3f905d(0x1bb)](_0x2175f1,_0x543768){const _0x19818d=_0x3f905d,_0xc1cfb5=_0x19818d(0x1e5)+_0x48b52e();this[_0x19818d(0x194)](_0xc1cfb5);const _0x54fd18=_0x19818d(0x1e5)+_0x48b52e();try{this[_0x19818d(0x16d)]({'type':_0x2f6bc3[_0x19818d(0x193)],'label':_0x543768?.[_0x19818d(0x17b)]||_0x2175f1,'uiId':_0x54fd18,'resourceId':_0x543768?.[_0x19818d(0x1b2)]},!0x0);const _0x27632e=this[_0x19818d(0x1ba)][_0x19818d(0x1d7)](this[_0x19818d(0x1a0)],_0x2175f1,_0x543768);this[_0x19818d(0x182)][_0x19818d(0x1d6)](_0x54fd18,_0x27632e[_0x19818d(0x1ae)]);const {id:_0x1d77ca}=await _0x27632e[_0x19818d(0x1cf)]();this[_0x19818d(0x182)][_0x19818d(0x1e9)](_0x54fd18),this[_0x19818d(0x196)]({'type':_0x2f6bc3[_0x19818d(0x193)],'id':_0x1d77ca,'label':_0x543768?.[_0x19818d(0x17b)]||_0x2175f1,'uiId':_0x54fd18,'resourceId':_0x543768?.[_0x19818d(0x1b2)]},!0x1);}catch(_0x5b40d5){this[_0x19818d(0x182)][_0x19818d(0x1e9)](_0x54fd18),(_0x5b40d5[_0x19818d(0x1c8)][_0x19818d(0x175)](_0x19818d(0x17c))||this[_0x19818d(0x18f)](_0x19818d(0x1b8),{'error':new _0x6ff7d9(_0x19818d(0x1bf),this,{'url':_0x2175f1,'originalError':_0x5b40d5}),'url':_0x2175f1}),this[_0x19818d(0x168)](_0x54fd18));}finally{this[_0x19818d(0x1e1)](_0xc1cfb5);}}async[_0x3f905d(0x1af)](_0x2fc0ed,_0x30ee0b,_0x3aefee){const _0x491962=_0x3f905d,_0x5bbe94=this[_0x491962(0x1a9)][_0x491962(0x17a)][_0x491962(0x1c5)](_0x66af4f=>_0x66af4f['id']===_0x2fc0ed);if(!_0x5bbe94)return this[_0x491962(0x18f)](_0x491962(0x1b8),{'error':new _0x6ff7d9(_0x491962(0x1e4),this,{'sourceId':_0x2fc0ed}),'sourceId':_0x2fc0ed}),[];try{const _0x53e974=(await _0x5bbe94[_0x491962(0x199)](_0x30ee0b))[_0x491962(0x1d4)](_0x2773f1=>{const _0x31689d=_0x491962,_0x2687df=this[_0x31689d(0x1b1)](_0x2773f1['id']);return{..._0x2773f1,'isInContext':_0x2687df};});return _0x5bbe94[_0x491962(0x178)]=_0x53e974,this[_0x491962(0x18f)](_0x491962(0x1e3),{'sourceId':_0x2fc0ed,'source':_0x5bbe94,'resources':_0x53e974,'uid':_0x3aefee}),_0x53e974;}catch(_0x1b6d1f){return this[_0x491962(0x18f)](_0x491962(0x1b8),{'error':new _0x6ff7d9(_0x491962(0x17e),this,{'sourceId':_0x2fc0ed,'originalError':_0x1b6d1f}),'sourceId':_0x2fc0ed,'sourceLabel':_0x5bbe94[_0x491962(0x17b)]}),[];}}async[_0x3f905d(0x1dc)](_0x3cd34b,_0x1a9e77){const _0x1ca901=_0x3f905d;if(this[_0x1ca901(0x1b1)](_0x1a9e77['id']))return;let _0x1aebe5=_0x1a9e77[_0x1ca901(0x1aa)];if(!_0x1aebe5&&_0x3cd34b[_0x1ca901(0x1b3)])try{_0x1aebe5=await _0x3cd34b[_0x1ca901(0x1b3)](_0x1a9e77['id']);}catch(_0x375ef){return void this[_0x1ca901(0x18f)](_0x1ca901(0x1b8),{'error':new _0x6ff7d9(_0x1ca901(0x1d1),this,{'resourceId':_0x1a9e77['id'],'sourceId':_0x3cd34b['id'],'originalError':_0x375ef}),'resourceId':_0x1a9e77['id'],'sourceId':_0x3cd34b['id']});}if(_0x1aebe5)switch(_0x1a9e77[_0x1ca901(0x15e)]){case _0x2f6bc3[_0x1ca901(0x193)]:if(_0x1ca901(0x1a6)!=typeof _0x1aebe5)return void this[_0x1ca901(0x18f)](_0x1ca901(0x1b8),{'error':new _0x6ff7d9(_0x1ca901(0x16c),this,{'resourceId':_0x1a9e77['id'],'sourceId':_0x3cd34b['id'],'expectedType':_0x1ca901(0x1a6),'actualType':typeof _0x1aebe5}),'resourceId':_0x1a9e77['id'],'sourceId':_0x3cd34b['id']});await this[_0x1ca901(0x1bb)](_0x1aebe5,{'label':_0x1a9e77[_0x1ca901(0x17b)],'resourceId':_0x1a9e77['id']});break;case _0x2f6bc3[_0x1ca901(0x1db)]:if(!(_0x1aebe5 instanceof File))return void this[_0x1ca901(0x18f)](_0x1ca901(0x1b8),{'error':new _0x6ff7d9(_0x1ca901(0x16c),this,{'resourceId':_0x1a9e77['id'],'sourceId':_0x3cd34b['id'],'expectedType':_0x1ca901(0x18a),'actualType':typeof _0x1aebe5}),'resourceId':_0x1a9e77['id'],'sourceId':_0x3cd34b['id']});await this[_0x1ca901(0x1ca)]([_0x1aebe5],{'label':_0x1a9e77[_0x1ca901(0x17b)],'resourceId':_0x1a9e77['id']});break;case _0x2f6bc3[_0x1ca901(0x1e8)]:if(_0x1ca901(0x19e)!=typeof _0x1aebe5||!(_0x1ca901(0x1a1)in _0x1aebe5)||!(_0x1ca901(0x15e)in _0x1aebe5))return void this[_0x1ca901(0x18f)](_0x1ca901(0x1b8),{'error':new _0x6ff7d9(_0x1ca901(0x16c),this,{'resourceId':_0x1a9e77['id'],'sourceId':_0x3cd34b['id'],'expectedType':_0x1ca901(0x18e),'actualType':typeof _0x1aebe5}),'resourceId':_0x1a9e77['id'],'sourceId':_0x3cd34b['id']});_0x1aebe5=AIChatContext[_0x1ca901(0x19c)](_0x1aebe5,_0x1a9e77[_0x1ca901(0x17b)]),await this[_0x1ca901(0x1ca)]([_0x1aebe5],{'label':_0x1a9e77[_0x1ca901(0x17b)],'resourceId':_0x1a9e77['id']},_0x2f6bc3[_0x1ca901(0x1e8)]);break;default:this[_0x1ca901(0x18f)](_0x1ca901(0x1b8),{'error':new _0x6ff7d9(_0x1ca901(0x1be),this,{'resourceId':_0x1a9e77['id'],'sourceId':_0x3cd34b['id'],'resourceType':_0x1a9e77[_0x1ca901(0x15e)]}),'resourceId':_0x1a9e77['id'],'sourceId':_0x3cd34b['id']});}else this[_0x1ca901(0x18f)](_0x1ca901(0x1b8),{'error':new _0x6ff7d9(_0x1ca901(0x1ce),this,{'resourceId':_0x1a9e77['id'],'sourceId':_0x3cd34b['id']}),'resourceId':_0x1a9e77['id'],'sourceId':_0x3cd34b['id']});}static[_0x3f905d(0x19c)](_0x2c39fd,_0xbee453){const _0x426fac=_0x3f905d;switch(_0x2c39fd[_0x426fac(0x15e)]){case _0x59b10e[_0x426fac(0x1c7)]:return new File([_0x2c39fd[_0x426fac(0x1a1)]],_0xbee453,{'type':_0x426fac(0x1bc)});case _0x59b10e[_0x426fac(0x160)]:return new File([_0x2c39fd[_0x426fac(0x1a1)]],_0xbee453,{'type':_0x426fac(0x16a)});default:return new File([_0x2c39fd[_0x426fac(0x1a1)]],_0xbee453,{'type':_0x426fac(0x16b)});}}static[_0x3f905d(0x1a2)](_0x3ebb4b){const _0x109206=_0x3f905d;switch(_0x3ebb4b[_0x109206(0x15e)]){case _0x2f6bc3[_0x109206(0x1db)]:return{'type':_0x2f6bc3[_0x109206(0x1db)],'id':_0x3ebb4b['id']};case _0x2f6bc3[_0x109206(0x193)]:return{'type':_0x2f6bc3[_0x109206(0x193)],'id':_0x3ebb4b['id']};case _0x2f6bc3[_0x109206(0x1c6)]:return{'type':_0x2f6bc3[_0x109206(0x1c6)],'id':_0x3ebb4b['id'],..._0x3ebb4b[_0x109206(0x190)]?.[_0x109206(0x1cd)]&&{'selection':_0x3ebb4b[_0x109206(0x190)]}};case _0x2f6bc3[_0x109206(0x1e8)]:return{'type':_0x2f6bc3[_0x109206(0x1db)],'id':_0x3ebb4b['id']};default:return null;}}[_0x3f905d(0x16d)](_0x3c1f15,_0x5b4a04=!0x1){const _0x4fc5f7=_0x3f905d;if(this[_0x4fc5f7(0x1e2)][_0x4fc5f7(0x1d6)](_0x3c1f15[_0x4fc5f7(0x1da)],_0x3c1f15),_0x3c1f15[_0x4fc5f7(0x1ad)]||this[_0x4fc5f7(0x18f)](_0x4fc5f7(0x195),{'contextItem':_0x3c1f15,'isLoading':_0x5b4a04}),_0x4fc5f7(0x1b5)===_0x3c1f15[_0x4fc5f7(0x1da)]&&this[_0x4fc5f7(0x19d)](),_0x3c1f15[_0x4fc5f7(0x1b2)]){const _0x4639cf=this[_0x4fc5f7(0x1b7)](_0x3c1f15[_0x4fc5f7(0x1b2)]);_0x4639cf&&_0x4639cf[_0x4fc5f7(0x17d)](_0x340657=>{const _0xaa620a=_0x4fc5f7;this[_0xaa620a(0x172)](_0x340657,_0x3c1f15[_0xaa620a(0x1b2)],!0x0);});}}[_0x3f905d(0x168)](_0x26dbd4){const _0x41aed3=_0x3f905d,_0x5a2db0=this[_0x41aed3(0x1e2)][_0x41aed3(0x179)](_0x26dbd4),_0x54736f=this[_0x41aed3(0x182)][_0x41aed3(0x179)](_0x26dbd4);if(_0x54736f&&(_0x54736f[_0x41aed3(0x174)](),this[_0x41aed3(0x182)][_0x41aed3(0x1e9)](_0x26dbd4)),_0x5a2db0?.[_0x41aed3(0x1b2)]){const _0x539a0e=this[_0x41aed3(0x1b7)](_0x5a2db0[_0x41aed3(0x1b2)]);_0x539a0e&&_0x539a0e[_0x41aed3(0x17d)](_0x5ac443=>{const _0x2d7169=_0x41aed3;this[_0x2d7169(0x172)](_0x5ac443,_0x5a2db0[_0x2d7169(0x1b2)],!0x1);});}this[_0x41aed3(0x1e2)][_0x41aed3(0x1e9)](_0x26dbd4),this[_0x41aed3(0x18f)](_0x41aed3(0x1a8),{'uiId':_0x26dbd4,'type':_0x5a2db0?.[_0x41aed3(0x15e)]}),_0x41aed3(0x1b5)===_0x26dbd4&&this[_0x41aed3(0x19d)]();}[_0x3f905d(0x196)](_0x194ffe,_0x5f4347){const _0x5772ee=_0x3f905d;if(this[_0x5772ee(0x1e2)][_0x5772ee(0x165)](_0x194ffe[_0x5772ee(0x1da)])&&(this[_0x5772ee(0x1e2)][_0x5772ee(0x1d6)](_0x194ffe[_0x5772ee(0x1da)],_0x194ffe),this[_0x5772ee(0x18f)](_0x5772ee(0x162),{'contextItem':_0x194ffe,'isLoading':_0x5f4347}),_0x194ffe[_0x5772ee(0x1b2)])){const _0x1b18a5=this[_0x5772ee(0x1b7)](_0x194ffe[_0x5772ee(0x1b2)]);_0x1b18a5&&_0x1b18a5[_0x5772ee(0x17d)](_0x5c4929=>{const _0x4b5ff2=_0x5772ee;this[_0x4b5ff2(0x172)](_0x5c4929,_0x194ffe[_0x4b5ff2(0x1b2)],!0x0);});}}[_0x3f905d(0x166)](_0x5c7e01){const _0x3a8c79=_0x3f905d;this[_0x3a8c79(0x192)][_0x3a8c79(0x1d6)](_0x5c7e01[_0x3a8c79(0x1da)],_0x5c7e01);}[_0x3f905d(0x169)](){const _0x99081f=_0x3f905d;this[_0x99081f(0x1a9)]={'document':{'enabled':!0x1!==this[_0x99081f(0x1df)]?.[_0x99081f(0x1c1)]?.[_0x99081f(0x1d3)],'isHidden':!0x1},'urls':{'enabled':!0x1!==this[_0x99081f(0x1df)]?.[_0x99081f(0x183)]?.[_0x99081f(0x1d3)]},'files':{'enabled':!0x1!==this[_0x99081f(0x1df)]?.[_0x99081f(0x1d5)]?.[_0x99081f(0x1d3)]},'sources':this[_0x99081f(0x1ab)]()},this[_0x99081f(0x18f)](_0x99081f(0x177),{'options':this[_0x99081f(0x1a9)]});}[_0x3f905d(0x1ab)](){const _0x1ea756=_0x3f905d;return this[_0x1ea756(0x1df)]?.[_0x1ea756(0x17a)]?.[_0x1ea756(0x1d4)](_0xed4b86=>({..._0xed4b86,'resources':[]}))??[];}[_0x3f905d(0x19d)](){const _0x36a3fc=_0x3f905d,_0x2adfd1=this[_0x36a3fc(0x1c9)]()||this[_0x36a3fc(0x1ac)]();this[_0x36a3fc(0x1a9)][_0x36a3fc(0x1c1)][_0x36a3fc(0x1d9)]=_0x2adfd1,this[_0x36a3fc(0x18f)](_0x36a3fc(0x177),{'options':this[_0x36a3fc(0x1a9)]});}[_0x3f905d(0x1b1)](_0x5af946){const _0x36f18e=_0x3f905d;for(const _0x3381de of this[_0x36f18e(0x1e2)][_0x36f18e(0x188)]())if(_0x3381de[_0x36f18e(0x1b2)]===_0x5af946)return!0x0;for(const _0x3efb89 of this[_0x36f18e(0x192)][_0x36f18e(0x188)]())if(_0x3efb89[_0x36f18e(0x1b2)]===_0x5af946)return!0x0;return!0x1;}[_0x3f905d(0x1b7)](_0x3a45d8){const _0x5b890b=_0x3f905d,_0x4e61e6=[];for(const _0x1cf325 of this[_0x5b890b(0x1a9)][_0x5b890b(0x17a)]){_0x1cf325[_0x5b890b(0x178)][_0x5b890b(0x1c5)](_0x56c611=>_0x56c611['id']===_0x3a45d8)&&_0x4e61e6[_0x5b890b(0x1d2)](_0x1cf325['id']);}return 0x0===_0x4e61e6[_0x5b890b(0x1cd)]?null:_0x4e61e6;}[_0x3f905d(0x172)](_0x2c83b3,_0x177b92,_0x207fc0){const _0x71f066=_0x3f905d,_0x41d0b8=this[_0x71f066(0x1a9)][_0x71f066(0x17a)][_0x71f066(0x1c5)](_0x267504=>_0x267504['id']===_0x2c83b3);if(!_0x41d0b8)return;const _0x4f68ef=_0x41d0b8[_0x71f066(0x178)][_0x71f066(0x1c5)](_0x295144=>_0x295144['id']===_0x177b92);_0x4f68ef&&(_0x4f68ef[_0x71f066(0x191)]=_0x207fc0,this[_0x71f066(0x18f)](_0x71f066(0x1b9),{'sourceId':_0x2c83b3,'resourceId':_0x177b92,'isInContext':_0x207fc0}));}[_0x3f905d(0x194)](_0x1c0c50){const _0x34c056=_0x3f905d;this[_0x34c056(0x1bd)][_0x34c056(0x1d6)](_0x1c0c50,!0x0),this[_0x34c056(0x1bd)][_0x34c056(0x163)]&&this[_0x34c056(0x18f)](_0x34c056(0x184),{'isUploadInProgress':!0x0});}[_0x3f905d(0x1e1)](_0x516a7b){const _0x23bf43=_0x3f905d;this[_0x23bf43(0x1bd)][_0x23bf43(0x1e9)](_0x516a7b),0x0===this[_0x23bf43(0x1bd)][_0x23bf43(0x163)]&&this[_0x23bf43(0x18f)](_0x23bf43(0x184),{'isUploadInProgress':!0x1});}}