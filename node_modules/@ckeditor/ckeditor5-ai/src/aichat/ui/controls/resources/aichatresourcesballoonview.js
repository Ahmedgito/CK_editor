/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x411dc6=_0x2202;(function(_0x166234,_0x4c4584){const _0x492306=_0x2202,_0x4c24a8=_0x166234();while(!![]){try{const _0x3740f6=-parseInt(_0x492306(0x9b))/0x1*(-parseInt(_0x492306(0x7b))/0x2)+-parseInt(_0x492306(0x85))/0x3+-parseInt(_0x492306(0x7f))/0x4*(-parseInt(_0x492306(0x9f))/0x5)+parseInt(_0x492306(0x81))/0x6*(-parseInt(_0x492306(0x6e))/0x7)+-parseInt(_0x492306(0x89))/0x8*(-parseInt(_0x492306(0x82))/0x9)+parseInt(_0x492306(0x91))/0xa*(parseInt(_0x492306(0x75))/0xb)+parseInt(_0x492306(0x90))/0xc;if(_0x3740f6===_0x4c4584)break;else _0x4c24a8['push'](_0x4c24a8['shift']());}catch(_0x3f593e){_0x4c24a8['push'](_0x4c24a8['shift']());}}}(_0x683d,0x53077));import{BalloonPanelView as _0x5b94b8,ButtonView as _0x220a83,clickOutsideHandler as _0x18d836,FormHeaderView as _0x1e905a}from'ckeditor5/src/ui.js';import{IconPreviousArrow as _0x4d9d62}from'@ckeditor/ckeditor5-icons';import{getTranslation as _0x4d496d}from'../../../../aicore/utils/common-translations.js';import{AIChatContextResourcesView as _0x35bc87}from'./aichatresourcesview.js';const Zo=_0x411dc6(0x69),Or=_0x411dc6(0x80),Hr=_0x411dc6(0x97);function _0x2202(_0x3eca81,_0x4c99da){const _0x683d62=_0x683d();return _0x2202=function(_0x2202ad,_0x554ec5){_0x2202ad=_0x2202ad-0x64;let _0x5a1d7a=_0x683d62[_0x2202ad];return _0x5a1d7a;},_0x2202(_0x3eca81,_0x4c99da);}export class AIChatResourcesBalloonView{[_0x411dc6(0x8c)]=new Map();[_0x411dc6(0x84)];[_0x411dc6(0x67)];[_0x411dc6(0x70)];constructor(_0x4e5ba2,_0xcf14e2,_0x41245d){const _0x184bd8=_0x411dc6;this[_0x184bd8(0x67)]=_0x4e5ba2,this[_0x184bd8(0x84)]=_0xcf14e2,this[_0x184bd8(0x70)]=_0x41245d;}[_0x411dc6(0x6f)](_0x22379e){const _0x242b5d=_0x411dc6;let _0x52810e=this[_0x242b5d(0x8c)][_0x242b5d(0x88)](_0x22379e['id']);_0x52810e||(_0x52810e=this[_0x242b5d(0x8f)](),this[_0x242b5d(0x8c)][_0x242b5d(0x9e)](_0x22379e['id'],_0x52810e),this[_0x242b5d(0x7a)](_0x52810e)),this[_0x242b5d(0x83)](_0x52810e,_0x22379e),_0x52810e[_0x242b5d(0x6d)]();const _0x1d88ab=this[_0x242b5d(0x70)][_0x242b5d(0x7c)]();_0x1d88ab&&_0x52810e[_0x242b5d(0x79)]({'target':_0x1d88ab,'limiter':this[_0x242b5d(0x70)][_0x242b5d(0x95)]()});}[_0x411dc6(0x77)](_0x3207bf,_0x10d69b,_0x9435ec){const _0x475704=_0x411dc6,_0x1c2162=this[_0x475704(0x8c)][_0x475704(0x88)](_0x3207bf);if(!_0x1c2162)return;const _0x88f401=this[_0x475704(0x8b)](_0x1c2162);_0x88f401&&_0x88f401[_0x475704(0x8a)](_0x10d69b,_0x9435ec);}[_0x411dc6(0x86)](_0x1fc586){const _0x24eb07=_0x411dc6,_0x132cc0=this[_0x24eb07(0x8c)][_0x24eb07(0x88)](_0x1fc586);_0x132cc0&&requestAnimationFrame(()=>{const _0x158cd6=_0x24eb07;_0x132cc0[_0x158cd6(0x6b)](),this[_0x158cd6(0x8c)][_0x158cd6(0x64)](_0x1fc586),this[_0x158cd6(0x70)][_0x158cd6(0x73)]();});}[_0x411dc6(0x6a)](){const _0x52c748=_0x411dc6;for(const _0x125dc8 of this[_0x52c748(0x8c)][_0x52c748(0x9a)]())if(_0x125dc8[_0x52c748(0x94)])return!0x0;return!0x1;}[_0x411dc6(0x92)](_0x5cc853,_0x415f7c,_0x690f4){const _0x2b997e=_0x411dc6,_0x3161e3=this[_0x2b997e(0x8c)][_0x2b997e(0x88)](_0x5cc853);if(!_0x3161e3||!_0x3161e3[_0x2b997e(0x94)])return;const _0x3d8944=this[_0x2b997e(0x70)][_0x2b997e(0x7c)]();if(!_0x3d8944)return;_0x3161e3[_0x2b997e(0x79)]({'target':_0x3d8944,'limiter':this[_0x2b997e(0x70)][_0x2b997e(0x95)]()});const _0x157561=this[_0x2b997e(0x8b)](_0x3161e3);_0x157561&&_0x157561[_0x2b997e(0x92)](_0x415f7c,_0x690f4);}[_0x411dc6(0x68)](){const _0x27847c=_0x411dc6;for(const _0x6855df of this[_0x27847c(0x8c)][_0x27847c(0x9a)]())_0x6855df[_0x27847c(0x68)]();this[_0x27847c(0x8c)][_0x27847c(0x78)]();}[_0x411dc6(0x8f)](){const _0x3bc88c=_0x411dc6,_0x22030d=new _0x5b94b8(this[_0x3bc88c(0x67)]);return _0x22030d[_0x3bc88c(0x6c)]({'attributes':{'class':Zo}}),this[_0x3bc88c(0x84)][_0x3bc88c(0x66)](_0x22030d),_0x22030d;}[_0x411dc6(0x83)](_0x18ee1f,_0x255193){const _0x26a2aa=_0x411dc6;_0x18ee1f[_0x26a2aa(0x8e)][_0x26a2aa(0x78)]();const _0xd6a1a2=this[_0x26a2aa(0x93)](_0x18ee1f,_0x255193);_0x18ee1f[_0x26a2aa(0x8e)][_0x26a2aa(0x66)](_0xd6a1a2);const _0x4ae5b7=this[_0x26a2aa(0x9d)](_0x255193);_0x18ee1f[_0x26a2aa(0x8e)][_0x26a2aa(0x66)](_0x4ae5b7);}[_0x411dc6(0x93)](_0x2c4171,_0x5d448f){const _0xaf8d65=_0x411dc6,_0x479f82=this[_0xaf8d65(0x9c)](_0x2c4171),_0x2a21c2=new _0x1e905a(this[_0xaf8d65(0x67)],{'label':_0x5d448f[_0xaf8d65(0x98)],'class':Hr});return _0x2a21c2[_0xaf8d65(0x7e)][_0xaf8d65(0x66)](_0x479f82,0x0),_0x2a21c2;}[_0x411dc6(0x9c)](_0x38aa48){const _0x1a2514=_0x411dc6,_0x1522ed=new _0x220a83(this[_0x1a2514(0x67)]);return _0x1522ed[_0x1a2514(0x9e)]({'icon':_0x4d9d62,'tooltip':_0x4d496d(this[_0x1a2514(0x67)],_0x1a2514(0x71)),'tooltipPosition':'n','class':Or}),_0x1522ed['on'](_0x1a2514(0x96),()=>{const _0x490698=_0x1a2514;_0x38aa48[_0x490698(0x6b)](),this[_0x490698(0x70)][_0x490698(0x65)]();}),_0x1522ed;}[_0x411dc6(0x9d)](_0x1c20ad){const _0x2cb7f8=_0x411dc6,_0x5cbbfe=new _0x35bc87(this[_0x2cb7f8(0x67)],_0x1c20ad);return _0x5cbbfe['on'](_0x2cb7f8(0x99),(_0x2aa4cd,_0x144c66)=>{const _0x2f1dda=_0x2cb7f8;this[_0x2f1dda(0x70)][_0x2f1dda(0x76)](_0x144c66);}),_0x5cbbfe['on'](_0x2cb7f8(0x72),(_0x1b6e37,_0x50988a)=>{const _0x14be4b=_0x2cb7f8;this[_0x14be4b(0x70)][_0x14be4b(0x74)](_0x50988a[_0x14be4b(0x7d)],_0x50988a[_0x14be4b(0x87)]),this[_0x14be4b(0x86)](_0x1c20ad['id']);}),_0x5cbbfe;}[_0x411dc6(0x8b)](_0x22502d){const _0x12194f=_0x411dc6,_0x41485f=_0x22502d[_0x12194f(0x8e)][_0x12194f(0x88)](0x1);return _0x41485f instanceof _0x35bc87?_0x41485f:null;}[_0x411dc6(0x7a)](_0x13c380){const _0xfd2666=_0x411dc6;_0x18d836({'emitter':_0x13c380,'contextElements':[_0x13c380[_0xfd2666(0x8d)]],'callback':()=>{const _0x1910b5=_0xfd2666;_0x13c380[_0x1910b5(0x6b)](),this[_0x1910b5(0x70)][_0x1910b5(0x73)]();},'activator':()=>_0x13c380[_0xfd2666(0x94)]});}}function _0x683d(){const _0x2f3843=['delete','onBackToContext','add','_locale','destroy','ck-ai-chat-context-controls__source-balloon-panel','isAnyResourceBalloonVisible','hide','extendTemplate','show','382067YOTnfb','showSourceResourcesBalloon','_config','AI_CHAT_CONTEXT_URL_BACK_TO_CONTEXT','addResourceToContext','onBalloonClosed','onResourceSelected','187NdpUot','onLoadSourceResources','populateSourceResourceBalloon','clear','pin','_setupSingleResourceBalloonClickOutsideHandler','26PWvivd','getTargetElement','source','children','143680ZoXycH','ck-button-icon\x20ck-button-back','48kewwcw','695619ssbRMy','_addSourceResourceContent','_bodyCollection','1325613rqSTkG','closeSourceResourceBalloon','resource','get','24gFXDJe','setResources','_getResourcesViewFromBalloon','_sourceResourceBalloons','element','content','_createSourceResourceBalloonPanel','6082668DgBEXg','238550hylOhE','updateResourceState','_createBalloonHeader','isVisible','getLimiterElement','execute','ck-ai-header\x20ck-ai-header_small\x20ck-ai-header_source','label','loadSourceResources','values','2953DQUmdn','_createBackButton','_createBalloonResourcesView','set','5XdJHzy'];_0x683d=function(){return _0x2f3843;};return _0x683d();}