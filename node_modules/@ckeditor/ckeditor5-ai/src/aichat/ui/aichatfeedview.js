/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x36572d=_0xe104;(function(_0x524826,_0x47c2dd){const _0x29f050=_0xe104,_0x39a07d=_0x524826();while(!![]){try{const _0x300632=parseInt(_0x29f050(0xea))/0x1*(-parseInt(_0x29f050(0xc6))/0x2)+parseInt(_0x29f050(0xb7))/0x3*(-parseInt(_0x29f050(0xaa))/0x4)+parseInt(_0x29f050(0xba))/0x5+-parseInt(_0x29f050(0xd7))/0x6+parseInt(_0x29f050(0xdb))/0x7*(-parseInt(_0x29f050(0xf3))/0x8)+parseInt(_0x29f050(0xde))/0x9*(-parseInt(_0x29f050(0xe8))/0xa)+parseInt(_0x29f050(0xd3))/0xb*(parseInt(_0x29f050(0xe7))/0xc);if(_0x300632===_0x47c2dd)break;else _0x39a07d['push'](_0x39a07d['shift']());}catch(_0x1211af){_0x39a07d['push'](_0x39a07d['shift']());}}}(_0x532f,0x983d2));import{CKEditorError as _0x93584d,logWarning as _0x3fe92d,scrollViewportToShowTarget as _0x29c801}from'ckeditor5/src/utils.js';import{View as _0x22d56f}from'ckeditor5/src/ui.js';import{AI_CHAT_UI_EVENT_NAMES as _0x2c87fd}from'../utils/eventnames.js';import{AIChatFeedSuggestionItemView as _0x1d05b2}from'./feed/aichatfeedsuggestionitemview.js';function _0xe104(_0x4409e0,_0x11a6ac){const _0x532f98=_0x532f();return _0xe104=function(_0xe10485,_0x862465){_0xe10485=_0xe10485-0xa4;let _0x4ecc0f=_0x532f98[_0xe10485];return _0x4ecc0f;},_0xe104(_0x4409e0,_0x11a6ac);}import{AIChatFeedReplyItemView as _0xcd8acf}from'./feed/aichatfeedreplyitemview.js';import{AIChatFeedUserMessageItemView as _0x2c9a81}from'./feed/aichatfeedusermessageitem.js';function _0x532f(){const _0x28d8ee=['add','7nALMFo','clear','delegate','61443NicFsR','_createFeedItems','toggleLoadingSkeleton','ck-hidden','ai-chat-feed-view-item-not-a-suggestion-or-reply-item','scrollManager','map','updateSuggestionPartState','find','1318776LGynJT','1070LBRpJm','startAutoScroll','106ABUSen','isTrackChangesOn','includes','stop','user-message','_createSkeletonLoader','createCollection','aiFeed','updateContent','7561448qeGqzW','ai-suggestion-reply','updateWebSources','stopAutoScroll','ck-ai-chat__loader','element','_setupTemplate','interaction-header','_bodyCollection','ck-ai-chat-feed-view-scroll-to-suggestion-part-view-not-found','4ZQXXqU','span','_createTemplateChildren','ck-ai-chat-feed-view-scroll-to-suggestion-invalid-item','start','removeItem','destroy','options','children','setTemplate','bindTemplate','locale','ai-chat-feed-view-item-not-a-suggestion-item','305625zGbTYM','bind','ck-ai-chat__feed__items','4597375nTkNNw','updatePartState','loadingMessage','ck-ai-chat__feed','getPartView','ai-chat-feed-view-item-not-a-reply-item','updateSuggestionItem','markItemAsDone','div','addItem','markAsDone','isLoadingSkeletonVisible','9938girAPw','_createFeedLoader','render','updateReplyItem','ck-ai-chat__loader-text','scrollToSuggestion','remove','updateSources','getItemById','setLoadingMessage','ai-chat-feed-view-item-not-found','set','_createLoaderChildren','286EzCTeO','isPending','getItemIds','ai-reply','5093964FgsIbm','isVisible','extendTemplate'];_0x532f=function(){return _0x28d8ee;};return _0x532f();}import{AIChatFeedErrorItemView as _0x2e3ca3}from'./feed/aichatfeederroritemview.js';import{AIChatFeedInteractionHeaderView as _0x5b8e8b}from'./feed/aichatfeedinteractionheaderview.js';import{ScrollManager as _0x2f1edb}from'../utils/scrollmanager.js';import{AISkeletonView as _0x39bec6,SKELETON_DEFINITIONS as _0x220a2b}from'../../aicore/ui/aiskeleton.js';import{AISpinnerView as _0x4fdc13}from'../../aicore/ui/aispinner.js';export class AIChatFeedView extends _0x22d56f{[_0x36572d(0xb2)];[_0x36572d(0xe3)];[_0x36572d(0xa8)];constructor(_0x6f0735,_0xfb55d6){const _0x52d2d2=_0x36572d;super(_0x6f0735),this[_0x52d2d2(0xa8)]=_0xfb55d6,this[_0x52d2d2(0xd1)](_0x52d2d2(0xd4),!0x1),this[_0x52d2d2(0xd1)](_0x52d2d2(0xbc),''),this[_0x52d2d2(0xd1)](_0x52d2d2(0xc5),!0x1),this[_0x52d2d2(0xd1)](_0x52d2d2(0xeb),!0x1),this[_0x52d2d2(0xb2)]=this[_0x52d2d2(0xf0)](),this[_0x52d2d2(0xb2)][_0x52d2d2(0xdd)](..._0x2c87fd)['to'](this),this[_0x52d2d2(0xa6)]();}[_0x36572d(0xc8)](){const _0x69dbc4=_0x36572d;super[_0x69dbc4(0xc8)](),this[_0x69dbc4(0xe3)]=new _0x2f1edb(this[_0x69dbc4(0xa5)]);}[_0x36572d(0xb0)](){const _0x3e5c42=_0x36572d;super[_0x3e5c42(0xb0)](),this[_0x3e5c42(0xe3)][_0x3e5c42(0xb0)]();}[_0x36572d(0xdc)](){const _0x19f3be=_0x36572d;this[_0x19f3be(0xb2)][_0x19f3be(0xdc)]();}[_0x36572d(0xc3)](_0x1b3410,_0xff401e){const _0x313897=_0x36572d;let _0xf67c39;_0x313897(0xd6)===_0x1b3410?_0xf67c39=new _0xcd8acf(this[_0x313897(0xb5)],_0xff401e):_0x313897(0xf4)===_0x1b3410?(_0xf67c39=new _0x1d05b2(this[_0x313897(0xb5)],_0xff401e),_0xf67c39[_0x313897(0xb8)](_0x313897(0xeb))['to'](this,_0x313897(0xeb))):_0xf67c39=_0x313897(0xee)===_0x1b3410?new _0x2c9a81(this[_0x313897(0xb5)],_0xff401e,this[_0x313897(0xa8)]):_0x313897(0xa7)===_0x1b3410?new _0x5b8e8b(this[_0x313897(0xb5)],_0xff401e):new _0x2e3ca3(_0xff401e),this[_0x313897(0xb2)][_0x313897(0xda)](_0xf67c39);}async[_0x36572d(0xc9)]({id:_0x114bab,parsedContent:_0x13075c,renderingStrategy:_0x2891b1,abortSignal:_0xf3d2a9}){const _0x3d8061=_0x36572d,_0x3d3905=this[_0x3d8061(0xce)](_0x114bab);if(!(_0x3d3905 instanceof _0xcd8acf))throw new _0x93584d(_0x3d8061(0xbf),null,{'itemView':_0x3d3905,'id':_0x114bab,'parsedContent':_0x13075c});await _0x3d3905[_0x3d8061(0xf2)]({'parsedContent':_0x13075c,'renderingStrategy':_0x2891b1,'abortSignal':_0xf3d2a9});}async[_0x36572d(0xf5)](_0x2862f8,_0x5b66aa){const _0x47aa98=_0x36572d,_0x55b984=this[_0x47aa98(0xce)](_0x2862f8);if(_0x55b984 instanceof _0x1d05b2)_0x55b984[_0x47aa98(0xcd)](_0x5b66aa);else{if(!(_0x55b984 instanceof _0xcd8acf))throw new _0x93584d(_0x47aa98(0xe2),null,{'itemView':_0x55b984,'id':_0x2862f8,'sources':_0x5b66aa});_0x55b984[_0x47aa98(0xcd)](_0x5b66aa);}}async[_0x36572d(0xc0)]({id:_0x4ca48d,parts:_0x54fff1,renderingStrategy:_0x1cc358,abortSignal:_0x5080c1}){const _0x35f7c3=_0x36572d,_0x52dcc6=this[_0x35f7c3(0xce)](_0x4ca48d);if(!(_0x52dcc6 instanceof _0x1d05b2))throw new _0x93584d(_0x35f7c3(0xb6),null,{'itemView':_0x52dcc6,'id':_0x4ca48d,'parts':_0x54fff1});await _0x52dcc6[_0x35f7c3(0xf2)]({'parts':_0x54fff1,'renderingStrategy':_0x1cc358,'abortSignal':_0x5080c1});}[_0x36572d(0xe5)]({id:_0x4ffa7d,index:_0x127ba5,state:_0x586c29}){const _0x2d7d95=_0x36572d,_0xa1f68c=this[_0x2d7d95(0xce)](_0x4ffa7d);if(!(_0xa1f68c instanceof _0x1d05b2))throw new _0x93584d(_0x2d7d95(0xb6),this,{'id':_0x4ffa7d});_0xa1f68c[_0x2d7d95(0xbb)](_0x127ba5,_0x586c29);}[_0x36572d(0xc1)](_0x1ab76a){const _0x2101c8=_0x36572d;this[_0x2101c8(0xce)](_0x1ab76a)[_0x2101c8(0xc4)]();}[_0x36572d(0xd5)](){const _0x273e48=_0x36572d;return this[_0x273e48(0xb2)][_0x273e48(0xe4)](_0x21317d=>_0x21317d[_0x273e48(0xb1)]['id']);}[_0x36572d(0xaf)](_0x2c70e8){const _0x212ebe=_0x36572d;this[_0x212ebe(0xb2)][_0x212ebe(0xcc)](this[_0x212ebe(0xce)](_0x2c70e8));}[_0x36572d(0xcb)](_0x2f86a7,_0x2cc6aa){const _0x2836c8=_0x36572d,_0x57eb5a=this[_0x2836c8(0xce)](_0x2f86a7);if(!(_0x57eb5a instanceof _0x1d05b2))return void _0x3fe92d(_0x2836c8(0xad),{'replyId':_0x2f86a7,'partIndex':_0x2cc6aa});const _0x49bc25=_0x57eb5a[_0x2836c8(0xbe)](_0x2cc6aa);_0x49bc25?_0x29c801({'target':_0x49bc25[_0x2836c8(0xa5)],'ancestorOffset':0x14,'alignToTop':!0x0,'forceScroll':!0x0}):_0x3fe92d(_0x2836c8(0xa9),{'replyId':_0x2f86a7,'partIndex':_0x2cc6aa});}[_0x36572d(0xa6)](){const _0x4a35a2=_0x36572d;this[_0x4a35a2(0xb3)]({'tag':_0x4a35a2(0xc2),'attributes':{'class':['ck',_0x4a35a2(0xbd)]},'children':this[_0x4a35a2(0xac)]()});}[_0x36572d(0xac)](){const _0x16232f=_0x36572d,_0x404b8b=this[_0x16232f(0xef)]();return[this[_0x16232f(0xdf)](),_0x404b8b,this[_0x16232f(0xc7)]()];}[_0x36572d(0xef)](){const _0x5bace1=_0x36572d,_0x14d85b=new _0x39bec6(this[_0x5bace1(0xb5)],_0x220a2b[_0x5bace1(0xf1)]);return _0x14d85b[_0x5bace1(0xd9)]({'attributes':{'class':[this[_0x5bace1(0xb4)]['if'](_0x5bace1(0xc5),_0x5bace1(0xe1),_0x3a3739=>!_0x3a3739)]}}),_0x14d85b;}[_0x36572d(0xdf)](){const _0x2621d6=_0x36572d,_0x39d3df=new _0x22d56f(this[_0x2621d6(0xb5)]);return _0x39d3df[_0x2621d6(0xb3)]({'tag':_0x2621d6(0xc2),'attributes':{'class':['ck',_0x2621d6(0xb9),this[_0x2621d6(0xb4)]['if'](_0x2621d6(0xc5),_0x2621d6(0xe1))]},'children':this[_0x2621d6(0xb2)]}),_0x39d3df;}[_0x36572d(0xc7)](){const _0x4fe81b=_0x36572d,_0x4f7f5c=new _0x22d56f(this[_0x4fe81b(0xb5)]);return _0x4f7f5c[_0x4fe81b(0xb3)]({'tag':_0x4fe81b(0xc2),'attributes':{'class':['ck',_0x4fe81b(0xa4),this[_0x4fe81b(0xb4)]['if'](_0x4fe81b(0xd4),_0x4fe81b(0xe1),_0x12c2e0=>!_0x12c2e0)]},'children':this[_0x4fe81b(0xd2)]()}),_0x4f7f5c;}[_0x36572d(0xd2)](){const _0x53abdd=_0x36572d,_0x948276=new _0x4fdc13();return _0x948276[_0x53abdd(0xd8)]=!0x0,[_0x948276,{'tag':_0x53abdd(0xab),'attributes':{'class':['ck',_0x53abdd(0xca)]},'children':[{'text':this[_0x53abdd(0xb4)]['to'](_0x53abdd(0xbc))}]}];}[_0x36572d(0xce)](_0x3d3dfb){const _0x555019=_0x36572d,_0x1f32a2=this[_0x555019(0xb2)][_0x555019(0xe6)](_0x5c5341=>_0x5c5341[_0x555019(0xb1)]['id'][_0x555019(0xec)](_0x3d3dfb));if(!_0x1f32a2)throw new _0x93584d(_0x555019(0xd0),this,{'id':_0x3d3dfb});return _0x1f32a2;}[_0x36572d(0xcf)](_0x7df104){const _0x36d820=_0x36572d;this[_0x36d820(0xd1)](_0x36d820(0xbc),_0x7df104);}[_0x36572d(0xe0)](_0xcaaf86){const _0x1a27a3=_0x36572d;this[_0x1a27a3(0xd1)](_0x1a27a3(0xc5),_0xcaaf86);}[_0x36572d(0xe9)](){const _0x3180e7=_0x36572d;this[_0x3180e7(0xe3)][_0x3180e7(0xae)]();}[_0x36572d(0xf6)](){const _0x28a645=_0x36572d;this[_0x28a645(0xe3)][_0x28a645(0xed)]();}}