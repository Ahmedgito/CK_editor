/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
function _0xc721(){const _0x5b8e11=['getShiftedBy','schema','moveTargetPosition','data','createPositionFromPath','749541Nklstp','position','offset','isBlock','changes','448esjdtZ','stickiness','getOperations','backward','type','marker','start','$root','plugins','parent','batch','sourcePosition','12YPaDYV','116417Cfdfiu','word','range','...','getMinimalFlatRanges','removeAttribute','children','POSITIVE_INFINITY','2lPBfJy','remove','132bPiQwF','11622gmYajM','split','4272345CvQZdQ','isBefore','insert','getTransformedByOperation','splitPosition','nodeBefore','length','_getTransformedByDeletion','$text','root','get','data-id','focus','model','TrackChangesEditing','forward','isDocumentOperation','name','rename','createPositionAt','1390XseJuy','applyOperation','element','textNode','modifySelection','1057698DeRtoH','slice','createSelection','parse','_getTransformedByInsertion','targetPosition','getFirstRange','getMovedRangeStart','DocumentCompare','push','change','markers','node','nodeAfter','createRange','end','newRange','20AhsYIh','isAfter','clone','isObject','path','baseVersion','getDiff','isMarkedRemoveOperation','setTo','removed','cloneNode','index','merge','map','new','7735023StJfpu','addOperation','howMany','stringify','changeAttribute','delete','152548xRCEXc','_applyOperationsAsSuggestions','reverse','addAttribute','set','toNone'];_0xc721=function(){return _0x5b8e11;};return _0xc721();}(function(_0x32999f,_0x27bd4a){const _0x5f4a18=_0x17ec,_0x4d6606=_0x32999f();while(!![]){try{const _0x5bf491=-parseInt(_0x5f4a18(0x19e))/0x1*(-parseInt(_0x5f4a18(0x1c3))/0x2)+-parseInt(_0x5f4a18(0x1e1))/0x3*(-parseInt(_0x5f4a18(0x1ba))/0x4)+parseInt(_0x5f4a18(0x1dc))/0x5*(-parseInt(_0x5f4a18(0x1c6))/0x6)+parseInt(_0x5f4a18(0x1bb))/0x7*(parseInt(_0x5f4a18(0x1ae))/0x8)+-parseInt(_0x5f4a18(0x198))/0x9*(parseInt(_0x5f4a18(0x189))/0xa)+parseInt(_0x5f4a18(0x1c8))/0xb+parseInt(_0x5f4a18(0x1c5))/0xc*(parseInt(_0x5f4a18(0x1a9))/0xd);if(_0x5bf491===_0x27bd4a)break;else _0x4d6606['push'](_0x4d6606['shift']());}catch(_0x4c2609){_0x4d6606['push'](_0x4d6606['shift']());}}}(_0xc721,0xdd648));import{findOne as _0x4fdeb9,getAttribute as _0x47d62d,Document as _0x278575,serialize as _0x1d3397,parse as _0x3bee13}from'./htmlparser.js';import{_DetachOperation as _0x5ce2a7,_removeFromModelNodeList as _0x73569e,_insertIntoModelNodeList as _0x3900a9}from'ckeditor5/src/engine.js';export function getSuggestionPartsFromReply({editor:_0x507e9c,changeGroups:_0xff4717,documentContextContent:_0x3debcd,showDiff:_0x40ec87,trimUnchanged:_0x13f7f7=!0x0}){const _0x1457c9=_0x17ec;return _0xff4717[_0x1457c9(0x196)](_0x36ae06=>{const _0x30ba63=_0x1457c9,_0x5cd868=new _0x278575([]),_0x3089bd=new _0x278575([]);for(const _0x1b07fe of _0x36ae06[_0x30ba63(0x1ad)])if(_0x40ec87&&_0x30ba63(0x192)==_0x1b07fe[_0x30ba63(0x1b2)]||_0x3089bd[_0x30ba63(0x1c1)][_0x30ba63(0x181)](_0x1b07fe[_0x30ba63(0x184)][_0x30ba63(0x193)](!0x0)),_0x30ba63(0x197)!=_0x1b07fe[_0x30ba63(0x1b2)]&&(_0x40ec87||_0x30ba63(0x192)!=_0x1b07fe[_0x30ba63(0x1b2)])){const _0x4fa9c7=_0x4fdeb9(_0x5dba69=>_0x47d62d(_0x5dba69,_0x30ba63(0x1d3))==_0x1b07fe['id'],_0x3debcd,!0x0);_0x4fa9c7&&_0x5cd868[_0x30ba63(0x1c1)][_0x30ba63(0x181)](_0x4fa9c7[_0x30ba63(0x193)](!0x0));}const {content:_0xabaa05,hasChanges:_0x418b61}=function(_0x19b501,_0x3cb5a1,_0xbfd8f4,_0x34fef6,_0x167e2b=!0x0){const _0xc1005d=_0x30ba63,_0x1203f2=_0x19b501[_0xc1005d(0x1b6)][_0xc1005d(0x1d2)](_0xc1005d(0x180)),_0x2c9b09=_0x19b501[_0xc1005d(0x1b6)][_0xc1005d(0x1d2)](_0xc1005d(0x1d6)),_0x2b7a09=_0x1d3397(_0x3cb5a1),_0xe70ce1=_0x1d3397(_0xbfd8f4),_0x340319=_0x19b501[_0xc1005d(0x1a7)][_0xc1005d(0x17b)](_0x2b7a09,_0xc1005d(0x1b5)),_0x3d16ff=_0x19b501[_0xc1005d(0x1d5)][_0xc1005d(0x1db)](_0x340319,0x0),_0x3ed867=_0x1203f2[_0xc1005d(0x18f)](_0x2b7a09,_0xe70ce1,{'anchor':_0x3d16ff,'markDeletions':_0x34fef6}),_0x76763a=_0x3ed867[_0xc1005d(0x1b0)]();if(0x0==_0x76763a[_0xc1005d(0x1ce)])return{'content':_0x3cb5a1[_0xc1005d(0x193)](!0x0),'hasChanges':!0x1};_0x34fef6?_0x2c9b09[_0xc1005d(0x19f)](_0x76763a):_0x19b501[_0xc1005d(0x1d5)][_0xc1005d(0x182)](_0x33d334=>{const _0x559660=_0xc1005d;for(const _0x490dce of _0x76763a)if(_0x559660(0x1c4)==_0x490dce[_0x559660(0x1b2)]){const _0x1aee73=_0x490dce[_0x559660(0x1b9)],_0x1f0df8=_0x490dce[_0x559660(0x19a)],_0x503bad=new _0x5ce2a7(_0x1aee73,_0x1f0df8);_0x33d334[_0x559660(0x1b8)][_0x559660(0x199)](_0x503bad),_0x19b501[_0x559660(0x1d5)][_0x559660(0x1dd)](_0x503bad);}else{if(_0x559660(0x1b3)==_0x490dce[_0x559660(0x1b2)]){const _0xc8020f=_0x490dce[_0x559660(0x1d9)],_0x166626=_0x490dce[_0x559660(0x188)];_0x340319[_0x559660(0x183)][_0x559660(0x1a2)](_0xc8020f,_0x166626);}else _0x490dce[_0x559660(0x18e)]=null,_0x490dce[_0x559660(0x1d8)]=!0x1,_0x33d334[_0x559660(0x1b8)][_0x559660(0x199)](_0x490dce),_0x19b501[_0x559660(0x1d5)][_0x559660(0x1dd)](_0x490dce);}});if(_0x167e2b){const _0x326531=getMinimalSelection(_0x19b501,_0x76763a,_0x340319);expandSelectionWithContext(_0x19b501[_0xc1005d(0x1d5)],_0x326531),function(_0x4a23bc,_0xc21bd8){const _0x469585=_0xc1005d,_0x12c79d=_0xc21bd8[_0x469585(0x17e)]()[_0x469585(0x1b4)];let _0x52fd27=_0xc21bd8[_0x469585(0x17e)]()[_0x469585(0x187)];const _0x1e1933=_0x12c79d[_0x469585(0x1d1)];(_0x52fd27[_0x469585(0x1df)]||_0x52fd27[_0x469585(0x185)]&&_0x52fd27[_0x469585(0x185)]['is'](_0x469585(0x1d0)))&&(_0x3900a9(_0x52fd27,_0x469585(0x1be)),_0x52fd27=_0x52fd27[_0x469585(0x1a4)](0x3)),(_0x12c79d[_0x469585(0x1df)]||_0x12c79d[_0x469585(0x1cd)]&&_0x12c79d[_0x469585(0x1cd)]['is'](_0x469585(0x1d0)))&&(_0x3900a9(_0x12c79d,_0x469585(0x1be)),function(_0x403d2e,_0x48a6db,_0x927af1){const _0x4ddc4f=_0x469585;for(let [_0x3832f6,_0x45ca1c]of _0x403d2e[_0x4ddc4f(0x183)]){const _0x3f8c58=_0x45ca1c[_0x4ddc4f(0x17c)](_0x48a6db,_0x927af1,!0x1);_0x45ca1c=_0x3f8c58[0x0],_0x403d2e[_0x4ddc4f(0x183)][_0x4ddc4f(0x1a2)](_0x3832f6,_0x45ca1c);}}(_0x1e1933,_0x12c79d,0x3),_0x12c79d[_0x469585(0x1b7)]==_0x52fd27[_0x469585(0x1b7)]&&(_0x52fd27=_0x52fd27[_0x469585(0x1a4)](0x3)));const _0x119513=_0x4a23bc[_0x469585(0x186)](_0x4a23bc[_0x469585(0x1db)](_0x1e1933,0x0),_0x12c79d),_0x3237af=_0x4a23bc[_0x469585(0x186)](_0x52fd27,_0x4a23bc[_0x469585(0x1db)](_0x1e1933,_0x469585(0x187))),_0x409f3e=[..._0x119513[_0x469585(0x1bf)](),..._0x3237af[_0x469585(0x1bf)]()];_0x409f3e[_0x469585(0x1a0)]();for(const _0x127e0a of _0x409f3e)_0x73569e(_0x127e0a),_transformMarkersByDeletion(_0x1e1933,_0x127e0a);}(_0x19b501[_0xc1005d(0x1d5)],_0x326531);}const _0x4192aa=_0x19b501[_0xc1005d(0x1a7)][_0xc1005d(0x19b)](_0x340319,{'showSuggestionHighlights':!0x0});return{'content':_0x3bee13(_0x4192aa),'hasChanges':!0x0};}(_0x507e9c,_0x5cd868,_0x3089bd,_0x40ec87,_0x13f7f7);return{'type':_0x36ae06[_0x30ba63(0x1ad)][0x0][_0x30ba63(0x1b2)],'index':_0x36ae06[_0x30ba63(0x194)],'content':_0xabaa05,'hasChanges':_0x418b61};});}export function getMinimalSelection(_0x5afcb7,_0x4e958b,_0x1b85cf){const _0x2d984b=_0x17ec,_0x2c75ab=_0x5afcb7[_0x2d984b(0x1b6)][_0x2d984b(0x1d2)](_0x2d984b(0x180));let _0x5f0b8a=_0x5afcb7[_0x2d984b(0x1d5)][_0x2d984b(0x1db)](_0x1b85cf,Number[_0x2d984b(0x1c2)]),_0x437c35=_0x5afcb7[_0x2d984b(0x1d5)][_0x2d984b(0x1db)](_0x1b85cf,0x0);for(const _0x4b7947 of _0x4e958b){let _0x44284d,_0x5a7f08;if(_0x2c75ab[_0x2d984b(0x190)](_0x4b7947))_0x44284d=_0x4b7947[_0x2d984b(0x188)][_0x2d984b(0x1b4)],_0x5a7f08=_0x4b7947[_0x2d984b(0x188)][_0x2d984b(0x187)];else switch(_0x5f0b8a=_0x5f0b8a[_0x2d984b(0x1cb)](_0x4b7947),_0x437c35=_0x437c35[_0x2d984b(0x1cb)](_0x4b7947),_0x4b7947[_0x2d984b(0x1b2)]){case _0x2d984b(0x1da):_0x44284d=_0x4b7947[_0x2d984b(0x1aa)],_0x5a7f08=_0x44284d[_0x2d984b(0x1a4)](0x1);break;case _0x2d984b(0x1a1):case _0x2d984b(0x1c0):case _0x2d984b(0x19c):_0x44284d=_0x4b7947[_0x2d984b(0x1bd)][_0x2d984b(0x1b4)],_0x5a7f08=_0x4b7947[_0x2d984b(0x1bd)][_0x2d984b(0x187)];break;case _0x2d984b(0x1ca):_0x44284d=_0x4b7947[_0x2d984b(0x1aa)],_0x5a7f08=_0x44284d[_0x2d984b(0x1a4)](_0x4b7947[_0x2d984b(0x19a)]);break;case _0x2d984b(0x1c7):_0x44284d=_0x4b7947[_0x2d984b(0x1cc)],_0x5a7f08=_0x4b7947[_0x2d984b(0x1a6)];break;case _0x2d984b(0x195):{const _0x592162=_0x4b7947[_0x2d984b(0x17d)][_0x2d984b(0x18d)][_0x2d984b(0x179)](0x0,-0x1);_0x44284d=_0x5afcb7[_0x2d984b(0x1d5)][_0x2d984b(0x1a8)](_0x1b85cf,_0x592162),_0x5a7f08=_0x44284d[_0x2d984b(0x1a4)](0x1);break;}case _0x2d984b(0x1c4):{const _0x42abf3=_0x4b7947[_0x2d984b(0x19a)],_0x4e4224=_0x4b7947[_0x2d984b(0x1b9)][_0x2d984b(0x17c)](_0x4b7947[_0x2d984b(0x17d)],_0x42abf3),_0x2ed9ce=_0x4b7947[_0x2d984b(0x17f)]();_0x2d984b(0x1c4)==_0x4b7947[_0x2d984b(0x1b2)]?(_0x44284d=_0x4e4224,_0x5a7f08=_0x4e4224):(_0x44284d=_0x2ed9ce,_0x5a7f08=_0x2ed9ce[_0x2d984b(0x1a4)](_0x42abf3));break;}}_0x44284d&&_0x44284d[_0x2d984b(0x1c9)](_0x5f0b8a)&&(_0x5f0b8a=_0x44284d[_0x2d984b(0x18b)](),_0x5f0b8a[_0x2d984b(0x1af)]=_0x2d984b(0x1a3)),_0x5a7f08&&_0x5a7f08[_0x2d984b(0x18a)](_0x437c35)&&(_0x437c35=_0x5a7f08[_0x2d984b(0x18b)](),_0x437c35[_0x2d984b(0x1af)]=_0x2d984b(0x1a3));}return _0x5afcb7[_0x2d984b(0x1d5)][_0x2d984b(0x17a)](_0x5afcb7[_0x2d984b(0x1d5)][_0x2d984b(0x186)](_0x5f0b8a,_0x437c35));}function _0x17ec(_0x47ce67,_0xa26545){const _0xc721a1=_0xc721();return _0x17ec=function(_0x17ec85,_0x22b026){_0x17ec85=_0x17ec85-0x179;let _0x1b7001=_0xc721a1[_0x17ec85];return _0x1b7001;},_0x17ec(_0x47ce67,_0xa26545);}export function expandSelectionWithContext(_0xdc11df,_0xb51261){const _0x4ba687=_0x17ec;an(_0xdc11df,_0xb51261,_0x4ba687(0x1d7));const _0x1f8298=_0xb51261[_0x4ba687(0x17e)]();_0xb51261[_0x4ba687(0x191)]([]),_0xb51261[_0x4ba687(0x191)](_0x1f8298,{'backward':!0x0}),an(_0xdc11df,_0xb51261,_0x4ba687(0x1b1));}function an(_0x54711c,_0x5ed219,_0x521364){const _0x190e86=_0x17ec;let _0x4ad5b6=0x14;for(;_0x4ad5b6;){_0x54711c[_0x190e86(0x1e0)](_0x5ed219,{'unit':_0x190e86(0x1bc),'direction':_0x521364}),_0x4ad5b6--;const _0x7b1459=_0x5ed219[_0x190e86(0x1d4)][_0x190e86(0x1d7)==_0x521364?_0x190e86(0x1cd):_0x190e86(0x185)];if(_0x7b1459&&_0x7b1459['is'](_0x190e86(0x1de))&&_0x54711c[_0x190e86(0x1a5)][_0x190e86(0x1ac)](_0x7b1459)&&_0x54711c[_0x190e86(0x1a5)][_0x190e86(0x18c)](_0x7b1459))break;}}export function _transformMarkersByDeletion(_0x5773a7,_0x560142){const _0x564f51=_0x17ec;for(const [_0x24f464,_0x1dfa36]of _0x5773a7[_0x564f51(0x183)]){const _0x18b79a=_0x1dfa36[_0x564f51(0x1cf)](_0x560142[_0x564f51(0x1b4)],_0x560142[_0x564f51(0x187)][_0x564f51(0x1ab)]-_0x560142[_0x564f51(0x1b4)][_0x564f51(0x1ab)]);null!=_0x18b79a?_0x5773a7[_0x564f51(0x183)][_0x564f51(0x1a2)](_0x24f464,_0x18b79a):_0x5773a7[_0x564f51(0x183)][_0x564f51(0x19d)](_0x24f464);}}