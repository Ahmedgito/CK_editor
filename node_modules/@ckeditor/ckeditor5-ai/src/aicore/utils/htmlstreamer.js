/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
function _0x517d(){const _0x517760=['match','ai-html-streamer-current-index-out-of-bounds','currentIndex','mark','30IoHiFz','getParsedDocumentNodeList','replaceWith','div','document','393198cBXMuI','code','reverse','textNodeStyle','forEach','abort','push','212872XYpeIY','nodesList','strong','span[data-ck-html-streamer-word-chunk]','bind','sup','splitTextNodeIntoWordNodes','1604274fDYfQT','2076020CcIiPI','ins','length','delay','timeoutAbortController','childNodes','sub','renderNode','attribs','querySelectorAll','shouldBeStreamed','span','options','stream','9237512CINKYG','signal','parent','isStreaming','stop','join','entries','cleanUpAnimations','987395axsjZr','isWordSplitResult','3TWbVNQ','onStreamUpdate','10608363DSbxPp','from','map','del','includes','children','now','isWordSplitSource','addEventListener','10fOrkGM','tagName'];_0x517d=function(){return _0x517760;};return _0x517d();}const _0x325413=_0x2175;(function(_0x4e0c76,_0x41092f){const _0x72eb65=_0x2175,_0x570d9f=_0x4e0c76();while(!![]){try{const _0x45a43d=-parseInt(_0x72eb65(0xd6))/0x1+parseInt(_0x72eb65(0xc0))/0x2+parseInt(_0x72eb65(0xd8))/0x3*(-parseInt(_0x72eb65(0xb8))/0x4)+-parseInt(_0x72eb65(0xac))/0x5*(-parseInt(_0x72eb65(0xb1))/0x6)+parseInt(_0x72eb65(0xbf))/0x7+parseInt(_0x72eb65(0xce))/0x8+parseInt(_0x72eb65(0xda))/0x9*(-parseInt(_0x72eb65(0xa6))/0xa);if(_0x45a43d===_0x41092f)break;else _0x570d9f['push'](_0x570d9f['shift']());}catch(_0x154ccf){_0x570d9f['push'](_0x570d9f['shift']());}}}(_0x517d,0x9172f));import _0x32708f from'morphdom';import{NodeWithChildren as _0xc77718,Text as _0x10af63,Element as _0x25e46a,isText as _0x2c85d6,isDocument as _0x13f7a5,isTag as _0x4923f1,cloneNode as _0x684441,getChildren as _0x13b0c2,prepend as _0x91ee0c,removeElement as _0x405553,textContent as _0x3c8bf9,render as _0x4f29ac}from'./htmlparser.js';import{logWarning as _0x3b4df0}from'ckeditor5/src/utils.js';export class HTMLStreamer{[_0x325413(0xcc)];[_0x325413(0xd1)]=!0x1;[_0x325413(0xb0)]=null;[_0x325413(0xb9)]=[];[_0x325413(0xaa)]=0x0;[_0x325413(0xc4)]=null;constructor(_0x472426){const _0x4387a3=_0x325413;this[_0x4387a3(0xcc)]={'delay':_0x472426[_0x4387a3(0xc3)]??0x14,'textNodeStyle':_0x472426[_0x4387a3(0xb4)],'onStreamUpdate':_0x472426[_0x4387a3(0xd9)]||(()=>{})};}async[_0x325413(0xcd)]({document:_0x25ab76,targetElement:_0x37362e,abortSignal:_0x4eda18}){const _0x49834b=_0x325413;this[_0x49834b(0xd1)]&&this[_0x49834b(0xd2)](),_0x4eda18?.[_0x49834b(0xa5)](_0x49834b(0xb6),this[_0x49834b(0xd2)][_0x49834b(0xbc)](this)),this[_0x49834b(0xb0)]=_0x684441(_0x25ab76,!0x0),this[_0x49834b(0xb9)]=this[_0x49834b(0xad)](),this[_0x49834b(0xd1)]=!0x0,this[_0x49834b(0xaa)]>this[_0x49834b(0xb9)][_0x49834b(0xc2)]&&(_0x3b4df0(_0x49834b(0xa9),{'currentIndex':this[_0x49834b(0xaa)],'nodeList':this[_0x49834b(0xb9)]}),this[_0x49834b(0xaa)]=this[_0x49834b(0xb9)][_0x49834b(0xc2)]);for(let _0x876693=0x0;_0x876693<this[_0x49834b(0xaa)];_0x876693++)this[_0x49834b(0xb9)][_0x876693][_0x49834b(0xca)]=!0x0;let _0x10a6f3=0x0;for(let _0x380f2f=this[_0x49834b(0xaa)];_0x380f2f<this[_0x49834b(0xb9)][_0x49834b(0xc2)];_0x380f2f++){const _0x23a0e3=Date[_0x49834b(0xa3)](),_0x5672f0=this[_0x49834b(0xb9)][_0x380f2f],_0x28ed6e=_0x23a0e3-_0x10a6f3;_0x5672f0[_0x49834b(0xca)]=!0x0;let _0x14a0fc=_0x5672f0[_0x49834b(0xd0)];for(;_0x14a0fc;)_0x14a0fc[_0x49834b(0xca)]=!0x0,_0x14a0fc=_0x14a0fc[_0x49834b(0xd0)];if(_0x28ed6e<this[_0x49834b(0xcc)][_0x49834b(0xc3)])try{const {promise:_0x4d3621,abortController:_0x14743b}=mr(this[_0x49834b(0xcc)][_0x49834b(0xc3)]-_0x28ed6e);this[_0x49834b(0xc4)]=_0x14743b,await _0x4d3621;}catch(_0x305284){return;}_0x32708f(_0x37362e,'<'+_0x37362e[_0x49834b(0xa7)]+'>'+this[_0x49834b(0xc7)](this[_0x49834b(0xb0)])+'</'+_0x37362e[_0x49834b(0xa7)]+'>',{'childrenOnly':!0x0}),this[_0x49834b(0xcc)][_0x49834b(0xd9)]&&this[_0x49834b(0xcc)][_0x49834b(0xd9)](),this[_0x49834b(0xaa)]=_0x380f2f,_0x10a6f3=Date[_0x49834b(0xa3)]();}this[_0x49834b(0xd1)]=!0x1;}[_0x325413(0xd5)]({targetElement:_0x868350}){const _0x6dfb6c=_0x325413;Array[_0x6dfb6c(0xdb)](_0x868350[_0x6dfb6c(0xc9)](_0x6dfb6c(0xbb)))[_0x6dfb6c(0xb3)]()[_0x6dfb6c(0xb5)](_0x1a86bf=>{const _0x178f89=_0x6dfb6c;_0x1a86bf[_0x178f89(0xae)](_0x1a86bf[_0x178f89(0xc5)][0x0]);});}[_0x325413(0xd2)](){const _0x2f5fb9=_0x325413;this[_0x2f5fb9(0xd1)]=!0x1,this[_0x2f5fb9(0xc4)]&&(this[_0x2f5fb9(0xc4)][_0x2f5fb9(0xb6)](),this[_0x2f5fb9(0xc4)]=null);}[_0x325413(0xc7)](_0x1cb102){const _0x3334e6=_0x325413;let _0x3bc37a='';if(function(_0x268c8e){return _0x13f7a5(_0x268c8e);}(_0x1cb102)){for(const _0x81d2df of _0x1cb102[_0x3334e6(0xa2)])_0x3bc37a+=this[_0x3334e6(0xc7)](_0x81d2df);}else{if(ar(_0x1cb102)){if(!_0x1cb102[_0x3334e6(0xca)])return'';const _0x2c5981=_0x1cb102,_0x7a3b09=Object[_0x3334e6(0xd4)](_0x2c5981[_0x3334e6(0xc8)])[_0x3334e6(0xdc)](([_0x42858a,_0x3f72b4])=>_0x42858a+'=\x22'+_0x3f72b4+'\x22')[_0x3334e6(0xd3)]('\x20');_0x3bc37a+='<'+_0x2c5981[_0x3334e6(0xa7)]+(_0x7a3b09?'\x20'+_0x7a3b09:'')+'>';for(const _0x54b96d of _0x13b0c2(_0x2c5981))_0x3bc37a+=this[_0x3334e6(0xc7)](_0x54b96d);_0x3bc37a+='</'+_0x2c5981[_0x3334e6(0xa7)]+'>';}else{if(!cr(_0x1cb102))return'';if(!_0x1cb102[_0x3334e6(0xca)])return'';!function(_0x551e50){const _0x4ac303=_0x3334e6;if(!_0x551e50[_0x4ac303(0xd0)]||!ar(_0x551e50[_0x4ac303(0xd0)]))return!0x1;if(!hr[_0x4ac303(0xde)](_0x551e50[_0x4ac303(0xd0)][_0x4ac303(0xa7)]))return!0x1;return!_0x3c8bf9(_0x551e50)[_0x4ac303(0xa8)](/^\s*[<>]\s*$/);}(_0x1cb102)?_0x3bc37a+=_0x4f29ac(_0x1cb102):_0x3bc37a+=_0x4f29ac(new _0x25e46a(_0x3334e6(0xcb),{'data-ck-html-streamer-word-chunk':'','style':this[_0x3334e6(0xcc)][_0x3334e6(0xb4)]},[_0x1cb102]));}}return _0x3bc37a;}[_0x325413(0xad)](){const _0x50aff4=_0x325413,_0x10962d=[];return function(_0x395f16,_0x77b364){const _0x9c416d=_0x2175,_0x50dd51=_0x3dc1d8=>{const _0x3b4d37=_0x2175;if(_0x77b364(_0x3dc1d8),_0x3dc1d8 instanceof _0xc77718)for(let _0x58f9a7=0x0;_0x58f9a7<_0x3dc1d8[_0x3b4d37(0xa2)][_0x3b4d37(0xc2)];_0x58f9a7++){const _0x28961b=_0x3dc1d8[_0x3b4d37(0xa2)][_0x58f9a7];_0x50dd51(_0x28961b);}};for(let _0x4b7e61=0x0;_0x4b7e61<_0x395f16[_0x9c416d(0xa2)][_0x9c416d(0xc2)];_0x4b7e61++)_0x50dd51(_0x395f16[_0x9c416d(0xa2)][_0x4b7e61]);}(this[_0x50aff4(0xb0)],_0x544613=>{const _0x2e0e81=_0x50aff4;if(cr(_0x544613)){const _0x3496f2=this[_0x2e0e81(0xbe)](_0x544613);_0x3496f2[_0x2e0e81(0xc2)]&&_0x10962d[_0x2e0e81(0xb7)](..._0x3496f2);}_0x544613[_0x2e0e81(0xa4)]||_0x544613[_0x2e0e81(0xd7)]||_0x10962d[_0x2e0e81(0xb7)](_0x544613);}),_0x10962d;}[_0x325413(0xbe)](_0x131ad1){const _0x26fd71=_0x325413;if(_0x131ad1[_0x26fd71(0xa4)]||_0x131ad1[_0x26fd71(0xd7)])return[];const _0x53b7c9=_0x3c8bf9(_0x131ad1)[_0x26fd71(0xa8)](/(?:\s*\S+\s*)/g),_0x541d05=[];if(_0x53b7c9&&_0x53b7c9[_0x26fd71(0xc2)]>0x1){for(const _0x84dfd5 of _0x53b7c9){const _0x6a61ac=new _0x10af63(_0x84dfd5);_0x6a61ac[_0x26fd71(0xd7)]=!0x0,_0x91ee0c(_0x131ad1,_0x6a61ac),_0x541d05[_0x26fd71(0xb7)](_0x6a61ac);}_0x131ad1[_0x26fd71(0xa4)]=!0x0,_0x405553(_0x131ad1);}return _0x541d05;}}const hr=['p','li','td','th',_0x325413(0xcb),'h1','h2','h3','h4','h5','h6','b',_0x325413(0xba),'i','em',_0x325413(0xab),_0x325413(0xdd),_0x325413(0xc1),_0x325413(0xbd),_0x325413(0xc6),'a',_0x325413(0xb2),_0x325413(0xaf)];function cr(_0x3fb154){return _0x2c85d6(_0x3fb154);}function _0x2175(_0x39e825,_0x272217){const _0x517d66=_0x517d();return _0x2175=function(_0x2175ec,_0x25ac83){_0x2175ec=_0x2175ec-0xa2;let _0x114781=_0x517d66[_0x2175ec];return _0x114781;},_0x2175(_0x39e825,_0x272217);}function ar(_0x4a8582){return _0x4923f1(_0x4a8582);}function mr(_0x379481){const _0x41510a=new AbortController();return{'promise':new Promise((_0x5b23df,_0x67a6c3)=>{const _0x2a295b=_0x2175,_0x3f527f=setTimeout(_0x5b23df,_0x379481);_0x41510a[_0x2a295b(0xcf)][_0x2a295b(0xa5)](_0x2a295b(0xb6),()=>{clearTimeout(_0x3f527f),_0x67a6c3();});}),'abortController':_0x41510a};}