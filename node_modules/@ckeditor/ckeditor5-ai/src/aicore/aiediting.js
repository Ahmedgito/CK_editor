/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1a8fdf=_0x3633;function _0x3633(_0xe33b82,_0x174d71){const _0x11c02c=_0x11c0();return _0x3633=function(_0x3633c3,_0x2ceead){_0x3633c3=_0x3633c3-0x7b;let _0x1f6a2c=_0x11c02c[_0x3633c3];return _0x1f6a2c;},_0x3633(_0xe33b82,_0x174d71);}(function(_0x1b57f2,_0x20e367){const _0x4e09fa=_0x3633,_0x49261a=_0x1b57f2();while(!![]){try{const _0xdd967c=-parseInt(_0x4e09fa(0xc5))/0x1*(-parseInt(_0x4e09fa(0x8d))/0x2)+parseInt(_0x4e09fa(0x97))/0x3*(parseInt(_0x4e09fa(0xc6))/0x4)+-parseInt(_0x4e09fa(0x81))/0x5+-parseInt(_0x4e09fa(0xb2))/0x6*(-parseInt(_0x4e09fa(0xbd))/0x7)+parseInt(_0x4e09fa(0xb5))/0x8+-parseInt(_0x4e09fa(0xb4))/0x9+-parseInt(_0x4e09fa(0xc7))/0xa*(parseInt(_0x4e09fa(0xd6))/0xb);if(_0xdd967c===_0x20e367)break;else _0x49261a['push'](_0x49261a['shift']());}catch(_0x364bec){_0x49261a['push'](_0x49261a['shift']());}}}(_0x11c0,0x1994c));import{ViewDowncastWriter as _0x441827}from'ckeditor5/src/engine.js';import{ContextPlugin as _0x40b0f0,Editor as _0x2d8962}from'ckeditor5/src/core.js';import{uid as _0x2fb2bb}from'ckeditor5/src/utils.js';function _0x11c0(){const _0x1a1645=['_sessionId','has','trim','sessionId','12cwQKlR','getWalker','774UqTRNS','411296PHPNIA','_integrateEditor','add','getMarkersGroup','ready','push','editing','change','496965ShegIq','_nextDataId','isOfficialPlugin','isBefore','$textProxy','getSelection','editingDowncast','context','608ORgpar','79708TKUQit','10uIzqvj','dataDowncast','containerElement','join','toView',':end></','showFakeVisualSelection','isContent','start','markerToElement','RealTimeCollaborationClient','length','sort','get','toData','2066449vhobbE','getSelectionText',':start></','selection','substring','emptyElement','_getMarkersInDocumentOrder','model','editors','getChildren',':start>','modelToViewWithIds','pluginName','fromCharCode','markerToHighlight','afterInit','name','isAtEnd','plugins','version','data','301150pKYmXO','conversion','floor','createRange','listenTo','isOpening','processor','_setDataIdsOnChildren','isPremiumPlugin','convertAiChatSelectionMarker','ai-selection','ck-fake-ai-selection','66IPTAQZ',':end>','createUIElement','random','from','_displayedFakeSelectionId','element','addMarker','view','createRangeIn','21JSOpBZ','document','getStart','getLastMatchingPosition','setAttribute','end','getSelectedContent','removeAllRanges','hideFakeVisualSelection','for','getRoot','markers','isAfter','indexOf','_displayedFakeSelectionLocked','ai-selection:','ck-ai-assistant-ui_theme','schema','removeMarker','AIEditing','data-id','getDocumentData','markerName'];_0x11c0=function(){return _0x1a1645;};return _0x11c0();}import{getEditorFromContext as _0x568ca2}from'./utils/geteditorfromcontext.js';export const AI_VISUAL_SELECTION_MARKER_NAME=_0x1a8fdf(0x8b);export class AIEditing extends _0x40b0f0{[_0x1a8fdf(0x92)]=null;[_0x1a8fdf(0xa5)]=!0x1;[_0x1a8fdf(0xae)];static get[_0x1a8fdf(0xe2)](){const _0x4ed4ef=_0x1a8fdf;return _0x4ed4ef(0xaa);}static get[_0x1a8fdf(0xbf)](){return!0x0;}static get[_0x1a8fdf(0x89)](){return!0x0;}get[_0x1a8fdf(0xb1)](){const _0x535534=_0x1a8fdf;if(!this[_0x535534(0xae)]){const _0x466511=_0x568ca2(this[_0x535534(0xc4)]),_0x13876f=_0x466511[_0x535534(0x7e)][_0x535534(0xaf)](_0x535534(0xd1))&&_0x466511[_0x535534(0x7e)][_0x535534(0xd4)](_0x535534(0xd1))[_0x535534(0xb1)];this[_0x535534(0xae)]=_0x13876f||_0x2fb2bb();}return this[_0x535534(0xae)];}[_0x1a8fdf(0xac)](){const _0x5a039d=_0x1a8fdf,_0x387709=_0x568ca2(this[_0x5a039d(0xc4)]),_0xb781cb=_0x387709[_0x5a039d(0xdd)],_0x256834=_0x387709[_0x5a039d(0x80)][_0x5a039d(0xcb)](_0xb781cb[_0x5a039d(0x98)][_0x5a039d(0xa1)](),{'convertAiChatSelectionMarker':!0x0}),_0xc66112=new _0x441827(_0x387709[_0x5a039d(0xbb)][_0x5a039d(0x95)][_0x5a039d(0x98)]);this[_0x5a039d(0x88)](_0x256834,_0xc66112);let _0x1a3f6e=_0x387709[_0x5a039d(0x80)][_0x5a039d(0x87)][_0x5a039d(0xd5)](_0x256834);const _0x3c23c4=this[_0x5a039d(0xdc)](),_0x3e8539=[];for(const _0x1dab5f of _0x3c23c4){const _0x5b2cf0='<'+_0x1dab5f[_0x5a039d(0x7c)]+_0x5a039d(0xd8)+_0x1dab5f[_0x5a039d(0x7c)]+_0x5a039d(0xe0),_0x3347ea=_0x1a3f6e[_0x5a039d(0xa4)](_0x5b2cf0);_0x1a3f6e=_0x1a3f6e[_0x5a039d(0xda)](0x0,_0x3347ea)+_0x1a3f6e[_0x5a039d(0xda)](_0x3347ea+_0x5b2cf0[_0x5a039d(0xd2)]);const _0x14f3ab='<'+_0x1dab5f[_0x5a039d(0x7c)]+_0x5a039d(0xcc)+_0x1dab5f[_0x5a039d(0x7c)]+_0x5a039d(0x8e),_0x1c3be4=_0x1a3f6e[_0x5a039d(0xa4)](_0x14f3ab);_0x1a3f6e=_0x1a3f6e[_0x5a039d(0xda)](0x0,_0x1c3be4)+_0x1a3f6e[_0x5a039d(0xda)](_0x1c3be4+_0x14f3ab[_0x5a039d(0xd2)]),_0x3e8539[_0x5a039d(0xba)]({'markerName':_0x1dab5f[_0x5a039d(0x7c)],'start':_0x3347ea,'end':_0x1c3be4,'htmlFragment':_0x1a3f6e[_0x5a039d(0xda)](_0x3347ea,_0x1c3be4)});}return{'content':_0x1a3f6e,'version':_0x387709[_0x5a039d(0xdd)][_0x5a039d(0x98)][_0x5a039d(0x7f)],'sessionId':this[_0x5a039d(0xb1)],'selections':_0x3e8539};}async[_0x1a8fdf(0x7b)](){const _0xae4481=_0x1a8fdf;this[_0xae4481(0xc4)]instanceof _0x2d8962?this[_0xae4481(0xb6)](this[_0xae4481(0xc4)]):this[_0xae4481(0x85)](this[_0xae4481(0xc4)][_0xae4481(0xde)],_0xae4481(0xb7),(_0x9aacbe,_0x1c9379)=>{const _0x1bc735=_0xae4481;_0x1c9379['on'](_0x1bc735(0xb9),()=>{const _0x19afa9=_0x1bc735;this[_0x19afa9(0xb6)](_0x1c9379);});});}[_0x1a8fdf(0xb6)](_0x66635f){const _0x7f9ed1=_0x1a8fdf;_0x66635f[_0x7f9ed1(0x82)][_0x7f9ed1(0xa0)](_0x7f9ed1(0xc3))[_0x7f9ed1(0xe4)]({'model':_0x7f9ed1(0x8b),'view':{'classes':[_0x7f9ed1(0x8c),_0x7f9ed1(0xa7)],'priority':0xc}}),_0x66635f[_0x7f9ed1(0x82)][_0x7f9ed1(0xa0)](_0x7f9ed1(0xc8))[_0x7f9ed1(0xd0)]({'model':_0x7f9ed1(0x8b),'view':(_0x3797a3,{writer:_0x5b23de,options:_0x565af3})=>_0x565af3[_0x7f9ed1(0x8a)]?_0x5b23de[_0x7f9ed1(0x8f)](_0x3797a3[_0x7f9ed1(0xad)]+':'+(_0x3797a3[_0x7f9ed1(0x86)]?_0x7f9ed1(0xcf):_0x7f9ed1(0x9c))):null});}[_0x1a8fdf(0xcd)](_0x2a7c85,_0x34e6f2,_0x592794=!0x1,_0x559220=!0x1){const _0x39a525=_0x1a8fdf;if(this[_0x39a525(0xa5)]&&!_0x559220)return!0x1;this[_0x39a525(0x92)]&&this[_0x39a525(0x9f)](this[_0x39a525(0x92)]),this[_0x39a525(0x92)]=_0x34e6f2,this[_0x39a525(0xa5)]=_0x592794;const _0x53d9a6=_0x568ca2(this[_0x39a525(0xc4)])[_0x39a525(0xdd)];return _0x53d9a6[_0x39a525(0xbc)](_0x57223b=>{const _0x3a2bc7=_0x39a525;let _0x4f7ca7=0x0;for(let _0x4ae293 of _0x2a7c85){const _0x538eb1=_0x3a2bc7(0xa6)+_0x4f7ca7;if(_0x4ae293[_0x3a2bc7(0xcf)][_0x3a2bc7(0x7d)]){const _0x339dc5=_0x4ae293[_0x3a2bc7(0xcf)][_0x3a2bc7(0x9a)](({item:_0x43dce3})=>!_0x53d9a6[_0x3a2bc7(0xa8)][_0x3a2bc7(0xce)](_0x43dce3),{'boundaries':_0x4ae293});_0x4ae293=_0x57223b[_0x3a2bc7(0x84)](_0x339dc5,_0x4ae293[_0x3a2bc7(0x9c)]);}_0x57223b[_0x3a2bc7(0x94)](_0x538eb1,{'usingOperation':!0x1,'affectsData':!0x1,'range':_0x4ae293}),_0x4f7ca7++;}}),window[_0x39a525(0xc2)]()?.[_0x39a525(0x9e)](),!0x0;}[_0x1a8fdf(0x9f)](_0x45910e){const _0x2b9fde=_0x1a8fdf;if(this[_0x2b9fde(0x92)]!=_0x45910e)return!0x1;this[_0x2b9fde(0x92)]=null,this[_0x2b9fde(0xa5)]=!0x1;const _0x20297f=_0x568ca2(this[_0x2b9fde(0xc4)]),_0x3e3dc6=_0x20297f[_0x2b9fde(0xdd)][_0x2b9fde(0xa2)][_0x2b9fde(0xb8)](_0x2b9fde(0x8b));return _0x20297f[_0x2b9fde(0xdd)][_0x2b9fde(0xbc)](_0x1468fe=>{const _0x19c503=_0x2b9fde;for(const _0x49394d of _0x3e3dc6)_0x1468fe[_0x19c503(0xa9)](_0x49394d);}),!0x0;}[_0x1a8fdf(0xe1)](_0x3c0ad0){const _0x557bcc=_0x1a8fdf,_0x43b0bd=_0x568ca2(this[_0x557bcc(0xc4)]),_0x9f2097=_0x43b0bd[_0x557bcc(0x80)][_0x557bcc(0xcb)](_0x3c0ad0),_0x2de95b=new _0x441827(_0x43b0bd[_0x557bcc(0xbb)][_0x557bcc(0x95)][_0x557bcc(0x98)]);return this[_0x557bcc(0x88)](_0x9f2097,_0x2de95b),_0x9f2097;}[_0x1a8fdf(0x88)](_0x1f4455,_0x1853a6){const _0x5b75ca=_0x1a8fdf;let _0x5a5c18=!0x1;const _0x446bb6=new Set();for(const _0x22d13c of _0x1f4455[_0x5b75ca(0xdf)]()){const _0x86b99d=_0x22d13c['is'](_0x5b75ca(0xdb))||_0x22d13c['is'](_0x5b75ca(0xc9));if(!_0x22d13c['is'](_0x5b75ca(0x93)))continue;(this[_0x5b75ca(0x88)](_0x22d13c,_0x1853a6)||_0x86b99d)&&(_0x1853a6[_0x5b75ca(0x9b)](_0x5b75ca(0xab),this[_0x5b75ca(0xbe)](_0x446bb6),_0x22d13c),_0x5a5c18=!0x0);}return _0x5a5c18;}[_0x1a8fdf(0xbe)](_0x5452a0){const _0x3ec19e=_0x1a8fdf;let _0x3fa8fa;do{_0x3fa8fa='';for(let _0x1e6073=0x0;_0x1e6073<0x4;_0x1e6073++)_0x3fa8fa+=String[_0x3ec19e(0xe3)](0x61+Math[_0x3ec19e(0x83)](0x1a*Math[_0x3ec19e(0x90)]()));}while(_0x5452a0[_0x3ec19e(0xaf)](_0x3fa8fa));return _0x5452a0[_0x3ec19e(0xb7)](_0x3fa8fa),_0x3fa8fa;}[_0x1a8fdf(0xd7)](){const _0x372bfb=_0x1a8fdf,{model:_0xf42a2f}=_0x568ca2(this[_0x372bfb(0xc4)]),_0x2a68d4=_0xf42a2f[_0x372bfb(0x98)][_0x372bfb(0xd9)],_0x4c3426=_0xf42a2f[_0x372bfb(0x9d)](_0x2a68d4),_0x4c14c4=[],_0x1ed58c=_0xf42a2f[_0x372bfb(0x96)](_0x4c3426)[_0x372bfb(0xb3)]();for(const {item:_0x2d29f8}of _0x1ed58c)_0x2d29f8['is'](_0x372bfb(0xc1))?_0x4c14c4[_0x372bfb(0xba)](_0x2d29f8[_0x372bfb(0x80)]):_0x2d29f8['is'](_0x372bfb(0x93))&&_0x4c14c4[_0x372bfb(0xd2)]>0x0&&'\x20'!==_0x4c14c4[_0x4c14c4[_0x372bfb(0xd2)]-0x1]&&_0x4c14c4[_0x372bfb(0xba)]('\x20');return'\x22'+_0x4c14c4[_0x372bfb(0xca)]('')[_0x372bfb(0xb0)]()+'\x22';}[_0x1a8fdf(0xdc)](){const _0x556358=_0x1a8fdf,_0x3c647e=_0x568ca2(this[_0x556358(0xc4)])[_0x556358(0xdd)];return Array[_0x556358(0x91)](_0x3c647e[_0x556358(0xa2)][_0x556358(0xb8)](_0x556358(0x8b)))[_0x556358(0xd3)]((_0x57ced5,_0x447a16)=>_0x57ced5[_0x556358(0x99)]()[_0x556358(0xc0)](_0x447a16[_0x556358(0x99)]())?-0x1:_0x57ced5[_0x556358(0x99)]()[_0x556358(0xa3)](_0x447a16[_0x556358(0x99)]())?0x1:0x0);}}