/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{ListItemView as _0x4d5d30,IconView as _0x3d0365,View as _0x28e73e,ViewCollection as _0x471add,ButtonView as _0x43ac9c,clickOutsideHandler as _0x1cc99e}from'ckeditor5/src/ui.js';import{IconChevronRight as _0x124c6f}from'ckeditor5/src/icons.js';import{AIReviewModeFormManagerView as _0x24e3df}from'./form/aireviewmodeformmanager.js';import{AIReviewModeCustomCheckView as _0x4b562b}from'./aireviewmodecustomcheckview.js';export class AIReviewModeReviewCommandListItemView extends _0x4d5d30{['_formItemsCollection']=new _0x471add();['_customCheckView']=null;constructor(_0x1957fa,_0x34d4aa,_0x5bd8bc){super(_0x1957fa),this['set']('isParametrizedViewOpen',!0x1),this['set']('isListItemRendered',!0x1),this['set']('isItemParametrized',_0x34d4aa['isParameterized']);const _0x230a3f=this['_createIconView']();this['setTemplate']({'tag':'div','attributes':{'class':['ck-ai-review-mode__check-list-item',this['bindTemplate']['if']('isParametrizedViewOpen','ck-ai-review-mode__check-list-item_selected',_0x5daabd=>_0x5daabd),this['bindTemplate']['if']('isListItemRendered','ck-ai-review-mode__check-list-item_rendered',_0x56a957=>_0x56a957)],'style':{'--ck-ai-check-list-item-index':_0x5bd8bc}},'on':{'click':this['bindTemplate']['to']('click')},'children':[{'tag':'div','attributes':{'class':['ck-ai-review-mode__check-list-item-content']},'children':[{'tag':'div','attributes':{'class':['ck-ai-review-mode__check-list-item-main-content']},'children':[{'tag':'div','attributes':{'class':['ck-ai-review-mode__check-list-item-title']},'children':[{'tag':'span','attributes':{'class':['ck-ai-review-mode__check-list-item-title-text']},'children':[{'text':_0x34d4aa['title']}]},_0x230a3f]},{'tag':'div','attributes':{'class':['ck-ai-review-mode__check-list-item-description']},'children':[{'text':_0x34d4aa['description']}]}]}]},..._0x34d4aa['isParameterized']?[this['_createParameterizedView'](_0x34d4aa)]:[],...'custom'===_0x34d4aa['id']?[this['_createCustomView'](_0x34d4aa)]:[]]}),this['on']('click',()=>{_0x34d4aa['isParameterized']?this['isParametrizedViewOpen']=!0x0:this['fire']('runReviewCheck',{'id':_0x34d4aa['id']});}),requestAnimationFrame(()=>{this['isListItemRendered']=!0x0;});}['render'](){super['render'](),this['isItemParametrized']&&_0x1cc99e({'emitter':this,'activator':()=>!0x0===this['isParametrizedViewOpen'],'contextElements':[this['element']],'callback':()=>{this['isParametrizedViewOpen']=!0x1;}});}['resetToDefault'](){this['isParametrizedViewOpen']=!0x1,this['_formItemsCollection']['forEach'](_0x26ed4b=>{_0x26ed4b['resetToDefault']();}),this['_customCheckView']&&this['_customCheckView']['resetToDefault']();}['_createIconView'](){const _0x5a921f=new _0x3d0365();return _0x5a921f['content']=_0x124c6f,_0x5a921f['extendTemplate']({'attributes':{'class':['ck-ai-review-mode__check-list-item-title-icon']}}),_0x5a921f;}['_createParameterizedView'](_0x4f6b0a){const _0x1368e9=new _0x28e73e(),_0x1a1970=this['_createFormView'](_0x4f6b0a);return _0x1368e9['setTemplate']({'tag':'div','attributes':{'class':['ck-ai-review-mode__check-list-item-parameterized',this['bindTemplate']['if']('isParametrizedViewOpen','ck-hidden',_0x477f0c=>!_0x477f0c)]},'children':[_0x1a1970]}),_0x1368e9;}['_createFormView'](_0x40422a){const _0x3a883b=new _0x28e73e(),_0xbe53ed=Array['isArray'](_0x40422a['options'])?_0x40422a['options']:[],_0x620e2d=new _0x43ac9c(this['locale']),t=this['locale']['t'];_0x620e2d['set']({'label':t('Submit'),'withText':!0x0,'class':'ck-ai-button-primary'}),_0x620e2d['extendTemplate']({'on':{'click':this['bindTemplate']['to'](_0xc0e66b=>{_0xc0e66b['stopPropagation']();})}}),_0x620e2d['on']('execute',()=>{const _0x5aff92=[],_0x4502da={};this['_formItemsCollection']['forEach'](_0x46fae5=>{_0x5aff92['push'](_0x46fae5['value']),_0x40422a['useArgs']&&_0x40422a['options']&&(_0x4502da[_0x46fae5['argsKey']]=_0x46fae5['value']);}),this['fire']('runReviewCheck',{'id':_0x40422a['id'],'params':_0x5aff92['length']?_0x5aff92:void 0x0,'args':Object['keys'](_0x4502da)['length']?_0x4502da:void 0x0});});const _0x136eda=_0xbe53ed['length'];return _0xbe53ed['forEach']((_0x4ee311,_0x1eb8df)=>{const _0x2ec24a=_0x1eb8df===_0x136eda-0x1;this['_formItemsCollection']['add'](new _0x24e3df(this['locale'],_0x4ee311,_0x2ec24a?_0x620e2d:null));}),_0x3a883b['setTemplate']({'tag':'div','attributes':{'class':['ck-ai-review-mode__check-list-item-parameterized-form']},'children':this['_formItemsCollection']}),_0x3a883b;}['_createCustomView'](_0x47a7c1){return this['_customCheckView']=new _0x4b562b(this['locale'],_0x47a7c1),this['_customCheckView']['extendTemplate']({'attributes':{'class':['ck-ai-review-mode__check-list-item-parameterized','ck-ai-review-mode__check-list-item-parameterized_custom',this['bindTemplate']['if']('isParametrizedViewOpen','ck-hidden',_0x33206b=>!_0x33206b)]}}),this['_customCheckView']['delegate']('runReviewCheck')['to'](this),this['listenTo'](this['_customCheckView'],'closeCustomCheck',()=>{this['isParametrizedViewOpen']=!0x1;}),this['on']('change:isParametrizedViewOpen',(_0x25fe65,_0x1e21a2,_0x1e8681)=>{_0x1e8681||this['_customCheckView']['resetFormValidationStatus']();}),this['_customCheckView'];}}