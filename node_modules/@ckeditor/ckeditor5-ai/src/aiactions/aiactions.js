/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x2479e0=_0x9c3d;function _0x9c3d(_0x3586fc,_0x58b81e){const _0x385163=_0x3851();return _0x9c3d=function(_0x9c3d5b,_0x86f40a){_0x9c3d5b=_0x9c3d5b-0x15a;let _0x49c35e=_0x385163[_0x9c3d5b];return _0x49c35e;},_0x9c3d(_0x3586fc,_0x58b81e);}(function(_0x33060b,_0x4991f0){const _0x5573ed=_0x9c3d,_0x3d9888=_0x33060b();while(!![]){try{const _0x19877c=parseInt(_0x5573ed(0x1e0))/0x1*(parseInt(_0x5573ed(0x18b))/0x2)+parseInt(_0x5573ed(0x213))/0x3+-parseInt(_0x5573ed(0x1cd))/0x4+parseInt(_0x5573ed(0x22f))/0x5+parseInt(_0x5573ed(0x1bd))/0x6*(parseInt(_0x5573ed(0x1d4))/0x7)+parseInt(_0x5573ed(0x196))/0x8+-parseInt(_0x5573ed(0x1a2))/0x9;if(_0x19877c===_0x4991f0)break;else _0x3d9888['push'](_0x3d9888['shift']());}catch(_0x1b0e6c){_0x3d9888['push'](_0x3d9888['shift']());}}}(_0x3851,0xe95ec));import{Plugin as _0x237fee}from'ckeditor5/src/core.js';import{AIConnector as _0x4af7c2}from'../aicore/aiconnector.js';import{AISuggestionContainerView as _0x9c00ca}from'../aicore/ui/suggestioncontainer/aisuggestioncontainerview.js';import{Dialog as _0x21b127,ButtonView as _0x4add50,ViewCollection as _0x46fe62,View as _0x1ec23b}from'ckeditor5/src/ui.js';import{AIEditing as _0x96b669}from'../aicore/aiediting.js';import{AIActionsInteraction as _0x188218}from'./model/aiactionsinteraction.js';import{first as _0x5c3470}from'ckeditor5/src/utils.js';function _0x3851(){const _0x4d34b6=['startsWith','message','setLoading','getSelectionAsFragment','getChildAtOffset','replyCreated','hasPendingParts','error','editor','sourcePosition','isCollapsed','1/1','stopInteraction','path','removeNavigationItem','ck-ai-interaction-counter','start','_createInteraction','TableSelection','Error\x20updating\x20content\x20in\x20toggleSuggestionDisplayMode:','set','add','isDocumentOperation','isLoading','actionCallId','documentContextContent','open','_clearInteractionHistory','miniToolbarView','isPremiumPlugin','setErrorState','toggleSuggestionDisplayMode','queueEmptyPromise','AIBalloon','focus','_isNavigationPreviousButtonInView','setSelection','AI_ACTIONS_TRY_AGAIN','createPositionAt','icon','actionName','document','stopListening','isOfficialPlugin','bodyView','getRoot','reinsert','batch','history','nodeAfter','_applyOperationsAsSuggestions','22reyQkx','clearErrorState','toolbar','showLoader','filter','_refreshInteraction','_aiConnector','Error\x20updating\x20content\x20in\x20replyContentUpdated:','getDocumentContext','state','_filterOperationsOutsideRange','7665264HSrkcB','mainView','documentFragment','AI_ACTIONS_PREVIOUS_INTERACTION','howMany','getLimitElement','stop','split','insert','upsertCustomAIActionRating','dialogClosed','requires','27747099iMasdi','setChangeGroupState','end','stickiness','rootName','applySuggestion','ck-ai-custom-action-button','change','Error\x20updating\x20content\x20during\x20navigation:','changeGroups','addNavigationItem','catch','length','_clearSuggestionContent','upsertAIActionRating','_setLoadingState','slice','close','updateContent','replyChangeGroupStateUpdated','_getExecuteDataRegular','_clearLoadingState','plugins','getOperations','nextSibling','balloonView','Error\x20refreshing\x20interaction:','6VPUEIq','getSelectedTableCells','first','_customViews','getRanges','pluginName','AI_ACTIONS_GENERIC_ERROR','operationsA','createPositionAfter','model','_setErrorState','_navigationNextButton','execute','_applyChanges','clone','createPositionBefore','3063056HXaprc','push','modelToViewWithIds','executeAction','_clearErrorState','replies','clearLoading','10797367uReNAL','processor','_children','insertSuggestion','toData','version','parent','textContent','ck-ai-navigation-button\x20ck-ai-next-button','replyContentUpdated','remove','enqueue','25019ohLMFf','_clone','pending','setTemplate','getChild','Error\x20clearing\x20loading\x20state\x20in\x20interactionFinished:','$graveyard','_executeAction','_displayInteractionAtIndex','position','has','isBusy','_currentInteractionIndex','_interactions','move','getFirstRange','type','static','baseVersion','random','AIConnector','_navigateToPrevious','bind','get','element','createRange','_navigateToNext','signal','applyOperation','accepted','schema','_navigationPreviousButton','aiBalloon','_execute','selection','rejected','_setupCustomViews','_interaction','showError','includes','AI_ACTIONS_NEXT_INTERACTION','Attribute','interactionFinished','_updateNavigationUI','showChangesButton','AIActions','getAncestors','streaming','_appendChild','_interactionParams','ck-ai-navigation-button\x20ck-ai-previous-button','5524593Plwuhc','_getExecuteDataInTable','_isNavigationCounterInView','merge','data','getSelectedBlocks','addOperation','span','range','rename','Error\x20updating\x20content\x20in\x20replyCreated:','_isAbortError','listenTo','abort','locale','_isNavigationNextButtonInView','getSelectedContent','getCommonAncestor','_balloonShowDiff','_navigationCounter','TrackChangesEditing','hasError','hideLoader','map','indexOf','hideError','isEnabled','areChangesVisible','936400rnFApn','_anchorOperation','_promiseQueue','ai-request-aborted','_wrapWithCommonAncestors','root','_stopInteraction'];_0x3851=function(){return _0x4d34b6;};return _0x3851();}import{IconAIQuickActions as _0x362165,IconRefresh as _0x1a5cb6,IconNextArrow as _0x1a6bc0,IconPreviousArrow as _0xc58103,IconShowChangesOff as _0x2c4432}from'@ckeditor/ckeditor5-icons';import{AIBalloon as _0x1671e1}from'../aiballoon/aiballoon.js';import{PromiseQueue as _0x769762}from'../aichat/utils/promisequeue.js';import{getTranslation as _0x335cac}from'../aicore/utils/common-translations.js';import{getSuggestionPartsFromReply as _0x2b0cca}from'../aicore/utils/getsuggestionpartsfromreply.js';import{DocumentCompare as _0x3ee950}from'@ckeditor/ckeditor5-collaboration-core';import{getOperationsFromReply as _0x50152c}from'../aicore/utils/getoperationsfromreply.js';import{ModelDocumentFragment as _0x1e8921,ModelRange as _0x5275ab,ModelPosition as _0x25505,_DetachOperation as _0x1204ad,transformOperationSets as _0x296773}from'ckeditor5/src/engine.js';export class AIActions extends _0x237fee{static get[_0x2479e0(0x1a1)](){return[_0x4af7c2,_0x21b127,_0x96b669,_0x1671e1,_0x3ee950];}static get[_0x2479e0(0x1c2)](){const _0x29edd0=_0x2479e0;return _0x29edd0(0x20d);}static get[_0x2479e0(0x183)](){return!0x0;}static get[_0x2479e0(0x175)](){return!0x0;}[_0x2479e0(0x191)];[_0x2479e0(0x1ed)]=[];[_0x2479e0(0x1ec)]=0x0;[_0x2479e0(0x211)];[_0x2479e0(0x225)]=!0x1;[_0x2479e0(0x1c0)]=new _0x46fe62();[_0x2479e0(0x1ff)];[_0x2479e0(0x226)];[_0x2479e0(0x215)]=!0x1;[_0x2479e0(0x1c8)];[_0x2479e0(0x17b)]=!0x1;[_0x2479e0(0x222)]=!0x1;[_0x2479e0(0x231)];get[_0x2479e0(0x205)](){const _0x26eb15=_0x2479e0;return this[_0x26eb15(0x1ed)][this[_0x26eb15(0x1ed)][_0x26eb15(0x1ae)]-0x1];}constructor(_0x40e251){const _0x14f42f=_0x2479e0;super(_0x40e251),this[_0x14f42f(0x191)]=this[_0x14f42f(0x160)][_0x14f42f(0x1b8)][_0x14f42f(0x1f7)](_0x14f42f(0x1f4)),this[_0x14f42f(0x16c)](_0x14f42f(0x1eb),!0x1),this[_0x14f42f(0x231)]=new _0x769762(),this[_0x14f42f(0x204)]();}[_0x2479e0(0x164)](){const _0x2b87d9=_0x2479e0;this[_0x2b87d9(0x235)]();}async[_0x2479e0(0x1d0)](_0x340927,_0x27bab2,_0x352685){const _0x13541f=_0x2479e0;if(this[_0x13541f(0x160)][_0x13541f(0x1b8)][_0x13541f(0x1ea)](_0x13541f(0x16a))){if(this[_0x13541f(0x160)][_0x13541f(0x1b8)][_0x13541f(0x1f7)](_0x13541f(0x16a))[_0x13541f(0x1be)]()){const {modelFragment:_0x472def,anchorData:_0x5c3662}=this[_0x13541f(0x214)]();return this[_0x13541f(0x1e7)](_0x340927,_0x472def,_0x5c3662,_0x27bab2,_0x352685);}}const {modelFragment:_0x4a2087,anchorData:_0x14a65d}=this[_0x13541f(0x1b6)]();return this[_0x13541f(0x1e7)](_0x340927,_0x4a2087,_0x14a65d,_0x27bab2,_0x352685);}[_0x2479e0(0x1b6)](){const _0x57d34c=_0x2479e0,_0x4bb531=this[_0x57d34c(0x160)][_0x57d34c(0x1c6)][_0x57d34c(0x181)][_0x57d34c(0x202)];if(_0x4bb531[_0x57d34c(0x162)]){const _0x419a30=_0x5c3470(_0x4bb531[_0x57d34c(0x218)]())||this[_0x57d34c(0x160)][_0x57d34c(0x1c6)][_0x57d34c(0x1fe)][_0x57d34c(0x19b)](_0x4bb531);this[_0x57d34c(0x160)][_0x57d34c(0x1c6)][_0x57d34c(0x1a9)](_0x179c34=>{const _0x140626=_0x57d34c;_0x179c34[_0x140626(0x17c)](_0x419a30,'in');});}const _0x34e996=_0x4bb531[_0x57d34c(0x1ef)](),_0x75ffd5=this[_0x57d34c(0x233)](this[_0x57d34c(0x160)][_0x57d34c(0x1c6)][_0x57d34c(0x223)](_0x4bb531),_0x34e996[_0x57d34c(0x168)],_0x34e996[_0x57d34c(0x1a4)]),_0x22f5b4=_0x4bb531[_0x57d34c(0x1ef)]()[_0x57d34c(0x168)],_0x2aac6e=new Map();let _0x8e8866=_0x75ffd5;for(let _0x306617=0x0;_0x306617<_0x22f5b4[_0x57d34c(0x165)][_0x57d34c(0x1ae)];_0x306617++)_0x2aac6e[_0x57d34c(0x16c)](_0x8e8866,_0x22f5b4[_0x57d34c(0x165)][_0x306617]),_0x8e8866=_0x8e8866[_0x57d34c(0x1e4)](0x0);return{'modelFragment':_0x75ffd5,'anchorData':_0x2aac6e};}[_0x2479e0(0x214)](){const _0x1497be=_0x2479e0,_0x242623=this[_0x1497be(0x160)][_0x1497be(0x1c6)][_0x1497be(0x181)][_0x1497be(0x202)],_0x294240=this[_0x1497be(0x160)][_0x1497be(0x1b8)][_0x1497be(0x1f7)](_0x1497be(0x16a))[_0x1497be(0x15b)](),_0x5dc38b=_0x242623[_0x1497be(0x1ef)]()[_0x1497be(0x168)][_0x1497be(0x1da)][_0x1497be(0x1da)],_0x165851=this[_0x1497be(0x233)](_0x294240,this[_0x1497be(0x160)][_0x1497be(0x1c6)][_0x1497be(0x1cc)](_0x5dc38b),this[_0x1497be(0x160)][_0x1497be(0x1c6)][_0x1497be(0x1c5)](_0x5dc38b)),_0x3b84a6=_0x242623[_0x1497be(0x1ef)]()[_0x1497be(0x168)],_0x383ebc=new Map();let _0x5b3e3d=_0x165851;for(let _0x4e268d=0x0;_0x4e268d<_0x3b84a6[_0x1497be(0x165)][_0x1497be(0x1ae)];_0x4e268d++)if(_0x383ebc[_0x1497be(0x16c)](_0x5b3e3d,_0x3b84a6[_0x1497be(0x165)][_0x4e268d]),_0x4e268d<_0x3b84a6[_0x1497be(0x165)][_0x1497be(0x1ae)]-0x1)_0x5b3e3d=_0x5b3e3d[_0x1497be(0x1e4)](0x0);else{let _0x703c87=_0x5b3e3d[_0x1497be(0x1ba)];for(;_0x703c87;)_0x383ebc[_0x1497be(0x16c)](_0x703c87,_0x3b84a6[_0x1497be(0x165)][_0x4e268d]),_0x703c87=_0x703c87[_0x1497be(0x1ba)];}return{'modelFragment':_0x165851,'anchorData':_0x383ebc};}[_0x2479e0(0x1e7)](_0x172fc9,_0x2b9544,_0x10275a,_0x2ae408,_0x1fd311){const _0x2c858c=_0x2479e0,_0xf26977=this[_0x2c858c(0x160)][_0x2c858c(0x1b8)][_0x2c858c(0x1f7)](_0x96b669),_0x15e205=this[_0x2c858c(0x160)][_0x2c858c(0x1b8)][_0x2c858c(0x1f7)](_0x1671e1),_0x2e22c1=this[_0x2c858c(0x160)][_0x2c858c(0x1c6)][_0x2c858c(0x181)][_0x2c858c(0x202)],_0x49aeb0=_0xf26977[_0x2c858c(0x1cf)](_0x2b9544),_0x4010c3=this[_0x2c858c(0x160)][_0x2c858c(0x217)][_0x2c858c(0x1d5)][_0x2c858c(0x1d8)](_0x49aeb0),_0x1caa00=this[_0x2c858c(0x160)][_0x2c858c(0x1c6)][_0x2c858c(0x181)][_0x2c858c(0x1d9)],_0x31827b=[..._0x2e22c1[_0x2c858c(0x1c1)]()],_0x3c38c6=new _0x9c00ca(this[_0x2c858c(0x160)][_0x2c858c(0x221)],{'showDiff':!0x1,'areActionsDisabled':!0x1,'hideHeader':!0x0,'showLoader':!0x0,'miniToolbarConfig':{'showChanges':_0x2c858c(0x17f),'customView':this[_0x2c858c(0x1c0)]},'showUnchangedParts':!0x0});return _0x15e205[_0x2c858c(0x172)]({'index':0x3e8*Math[_0x2c858c(0x1f3)]()%0x3e8,'title':_0x2ae408,'icon':_0x1fd311||_0x362165,'mainView':_0x3c38c6,'showRotator':!0x1,'showApplyButton':!0x0,'showSuggestButton':!0x0,'ranges':_0x31827b}),this[_0x2c858c(0x1b1)](_0x3c38c6,_0x15e205),this[_0x2c858c(0x21f)](_0x15e205,_0x2c858c(0x1a7),()=>{const _0x345aff=_0x2c858c;this[_0x345aff(0x1ca)](_0x2b9544,_0x10275a,!0x1);}),this[_0x2c858c(0x21f)](_0x15e205,_0x2c858c(0x1d7),()=>{const _0x22fbaa=_0x2c858c;this[_0x22fbaa(0x1ca)](_0x2b9544,_0x10275a,!0x0);}),this[_0x2c858c(0x21f)](_0x15e205,_0x2c858c(0x1a0),()=>{const _0x50a0c0=_0x2c858c;if(this[_0x50a0c0(0x205)]&&this[_0x50a0c0(0x205)][_0x50a0c0(0x1d2)][_0x50a0c0(0x1ae)]>0x0){const _0x4e7a7e=this[_0x50a0c0(0x205)][_0x50a0c0(0x1d2)][this[_0x50a0c0(0x205)][_0x50a0c0(0x1d2)][_0x50a0c0(0x1ae)]-0x1],_0x57fba3=_0x4e7a7e[_0x50a0c0(0x1ab)][0x0];_0x57fba3&&_0x50a0c0(0x1e2)===_0x57fba3[_0x50a0c0(0x194)]&&_0x4e7a7e[_0x50a0c0(0x1a3)](0x0,_0x50a0c0(0x203));}this[_0x50a0c0(0x235)](),this[_0x50a0c0(0x173)](),this[_0x50a0c0(0x182)](_0x15e205);}),this[_0x2c858c(0x169)](_0x4010c3,_0x1caa00,_0x3c38c6,_0x15e205,_0x172fc9);}[_0x2479e0(0x233)](_0x3edc9e,_0x3164d2,_0x2701cf){const _0x57777e=_0x2479e0,_0x35c55e=this[_0x57777e(0x160)][_0x57777e(0x1c6)][_0x57777e(0x1f9)](_0x3164d2,_0x2701cf)[_0x57777e(0x224)](),_0x131847=_0x35c55e['is'](_0x57777e(0x198))?[]:_0x35c55e[_0x57777e(0x20e)]({'includeSelf':!0x0})[_0x57777e(0x1b2)](0x1);if(_0x131847[_0x57777e(0x1ae)]){const _0x305933=_0x131847[_0x57777e(0x22a)](_0x26e3d0=>_0x26e3d0[_0x57777e(0x1e1)](!0x1));for(let _0x209112=0x1;_0x209112<_0x305933[_0x57777e(0x1ae)];_0x209112++)_0x305933[_0x209112-0x1][_0x57777e(0x210)](_0x305933[_0x209112]);return _0x305933[_0x305933[_0x57777e(0x1ae)]-0x1][_0x57777e(0x210)](_0x3edc9e),new _0x1e8921(_0x305933[0x0]);}return _0x3edc9e;}async[_0x2479e0(0x169)](_0x373310,_0x32328d,_0x40f871,_0x510115,_0x26db83){const _0x58bf20=_0x2479e0,_0x41855e=this[_0x58bf20(0x160)];this[_0x58bf20(0x211)]={'action':_0x26db83,'content':_0x373310,'version':_0x32328d,'mainView':_0x40f871,'aiBalloon':_0x510115};const _0x34f731=new _0x188218({'connector':this[_0x58bf20(0x191)],'editor':_0x41855e,'content':_0x373310,'version':_0x32328d,..._0x26db83});this[_0x58bf20(0x1ed)][_0x58bf20(0x1ce)](_0x34f731),_0x40f871[_0x58bf20(0x22c)]();const _0x4de5ea=(_0x56bd3d,_0x40fdf4,_0x4f8863=!0x1,_0x22071b=_0x58bf20(0x20f))=>this[_0x58bf20(0x231)][_0x58bf20(0x1df)](async _0x59d8f3=>{const _0x5238ec=_0x58bf20;try{const _0x57ce30=_0x2b0cca({'editor':_0x41855e,'changeGroups':_0x56bd3d[_0x5238ec(0x1ab)],'documentContextContent':_0x56bd3d[_0x5238ec(0x171)],'showDiff':_0x4f8863,'trimUnchanged':!0x1});await _0x40fdf4[_0x5238ec(0x1b4)]({'parts':_0x57ce30,'renderingStrategy':_0x22071b,'abortSignal':_0x59d8f3});}catch(_0x48e776){if(this[_0x5238ec(0x21e)](_0x48e776))return;throw _0x48e776;}});this[_0x58bf20(0x205)]['on'](_0x58bf20(0x15d),(_0x50c757,_0x359f8c)=>{const _0xab1895=_0x58bf20;_0x40f871[_0xab1895(0x229)](),_0x4de5ea(_0x359f8c,_0x40f871)[_0xab1895(0x1ad)](_0x494574=>{const _0x44ce2e=_0xab1895;this[_0x44ce2e(0x21e)](_0x494574)||(console[_0x44ce2e(0x15f)](_0x44ce2e(0x21d),_0x494574),this[_0x44ce2e(0x1c7)](_0x34f731,_0x40f871));});}),this[_0x58bf20(0x205)]['on'](_0x58bf20(0x1dd),(_0x3fd68d,_0x300660)=>{const _0xf5b49f=_0x58bf20;_0x4de5ea(_0x300660,_0x40f871)[_0xf5b49f(0x1ad)](_0x1c8210=>{const _0x5b7813=_0xf5b49f;this[_0x5b7813(0x21e)](_0x1c8210)||(console[_0x5b7813(0x15f)](_0x5b7813(0x192),_0x1c8210),this[_0x5b7813(0x1c7)](_0x34f731,_0x40f871));});}),this[_0x58bf20(0x205)]['on'](_0x58bf20(0x20a),async()=>{const _0xdbd97c=_0x58bf20;try{await this[_0xdbd97c(0x1b7)](_0x40f871,_0x510115),this[_0xdbd97c(0x20b)]();}catch(_0x25a8c6){this[_0xdbd97c(0x21e)](_0x25a8c6)||(console[_0xdbd97c(0x15f)](_0xdbd97c(0x1e5),_0x25a8c6),this[_0xdbd97c(0x1c7)](_0x34f731,_0x40f871));}}),this[_0x58bf20(0x21f)](_0x40f871,_0x58bf20(0x177),(_0x5c4efd,{showDiff:_0x2772a4})=>{const _0x2899ed=_0x58bf20;this[_0x2899ed(0x225)]=_0x2772a4;const _0x38da21=this[_0x2899ed(0x205)][_0x2899ed(0x1d2)][this[_0x2899ed(0x205)][_0x2899ed(0x1d2)][_0x2899ed(0x1ae)]-0x1];_0x38da21&&_0x4de5ea(_0x38da21,_0x40f871,_0x2772a4,_0x2899ed(0x1f1))[_0x2899ed(0x1ad)](_0x91968d=>{const _0x6360eb=_0x2899ed;this[_0x6360eb(0x21e)](_0x91968d)||(console[_0x6360eb(0x15f)](_0x6360eb(0x16b),_0x91968d),this[_0x6360eb(0x1c7)](_0x34f731,_0x40f871));});}),this[_0x58bf20(0x205)]['on'](_0x58bf20(0x1b5),(_0xb6fc04,{reply:_0x345860})=>{const _0x365ed7=_0x58bf20,_0x11469a={'positiveCount':_0x345860[_0x365ed7(0x1ab)][_0x365ed7(0x18f)](_0x493eb4=>_0x365ed7(0x1fd)===_0x493eb4[_0x365ed7(0x194)])[_0x365ed7(0x1ae)],'totalCount':_0x345860[_0x365ed7(0x1ab)][_0x365ed7(0x1ae)]},_0x130d79=this[_0x365ed7(0x205)][_0x365ed7(0x170)],_0x490204=this[_0x365ed7(0x205)][_0x365ed7(0x180)];_0x490204?this[_0x365ed7(0x191)][_0x365ed7(0x1b0)](_0x490204,_0x130d79,_0x11469a):this[_0x365ed7(0x191)][_0x365ed7(0x19f)](_0x130d79,_0x11469a);}),this[_0x58bf20(0x1b1)](_0x40f871,_0x510115);try{const _0x2403c1=await this[_0x58bf20(0x205)][_0x58bf20(0x168)]();return this[_0x58bf20(0x20b)](),_0x2403c1;}catch(_0x285f46){if(this[_0x58bf20(0x21e)](_0x285f46))return;_0x40f871[_0x58bf20(0x229)](),this[_0x58bf20(0x1c7)](_0x34f731,_0x40f871);}}[_0x2479e0(0x1ca)](_0x4b3b8d,_0x58b92e,_0x55a6a4){const _0xf0d9f0=_0x2479e0,_0x7830e=this[_0xf0d9f0(0x160)],_0x21493b=this[_0xf0d9f0(0x160)][_0xf0d9f0(0x1b8)][_0xf0d9f0(0x1f7)](_0x3ee950),_0x1c855d=this[_0xf0d9f0(0x205)],_0x3c6d1c=this[_0xf0d9f0(0x205)][_0xf0d9f0(0x1d2)][this[_0xf0d9f0(0x205)][_0xf0d9f0(0x1d2)][_0xf0d9f0(0x1ae)]-0x1],_0x2564f9=_0x3c6d1c[_0xf0d9f0(0x1ab)];_0x3c6d1c[_0xf0d9f0(0x1a3)](0x0,_0xf0d9f0(0x1fd));let _0x6ab507=_0x50152c({'editor':_0x7830e,'reply':_0x3c6d1c,'interaction':_0x1c855d,'groups':_0x2564f9,'transform':!0x1,'documentCompare':_0x21493b,'documentCompareOptions':{'anchor':_0x7830e[_0xf0d9f0(0x1c6)][_0xf0d9f0(0x17e)](_0x4b3b8d,0x0),'markDeletions':_0x55a6a4}});_0x6ab507=this[_0xf0d9f0(0x195)](_0x6ab507,_0x58b92e);for(const _0xe58c7e of _0x6ab507)this[_0xf0d9f0(0x230)](_0x58b92e,_0xe58c7e,_0x7830e[_0xf0d9f0(0x1c6)][_0xf0d9f0(0x181)][_0xf0d9f0(0x185)]());const _0xec9634=_0x1c855d[_0xf0d9f0(0x193)]()[_0xf0d9f0(0x1d9)],_0x59d91b=_0x7830e[_0xf0d9f0(0x1c6)][_0xf0d9f0(0x181)][_0xf0d9f0(0x188)][_0xf0d9f0(0x1b9)](_0xec9634),_0x26ff10={'document':_0x7830e[_0xf0d9f0(0x1c6)][_0xf0d9f0(0x181)],'useRelations':!0x1,'padWithNoOps':!0x1},_0x227c10=_0x296773(_0x6ab507,_0x59d91b,_0x26ff10)[_0xf0d9f0(0x1c4)];_0x7830e[_0xf0d9f0(0x1c6)][_0xf0d9f0(0x1a9)](_0x3cf540=>{const _0x1d5a1c=_0xf0d9f0;if(_0x3cf540[_0x1d5a1c(0x17c)](_0x7830e[_0x1d5a1c(0x1c6)][_0x1d5a1c(0x181)][_0x1d5a1c(0x202)][_0x1d5a1c(0x17a)]),_0x55a6a4)_0x7830e[_0x1d5a1c(0x1b8)][_0x1d5a1c(0x1f7)](_0x1d5a1c(0x227))[_0x1d5a1c(0x18a)](_0x227c10);else{for(const _0x4f345f of _0x227c10)_0x4f345f[_0x1d5a1c(0x1f2)]=_0x7830e[_0x1d5a1c(0x1c6)][_0x1d5a1c(0x181)][_0x1d5a1c(0x1d9)],_0x3cf540[_0x1d5a1c(0x187)][_0x1d5a1c(0x219)](_0x4f345f),_0x7830e[_0x1d5a1c(0x1c6)][_0x1d5a1c(0x1fc)](_0x4f345f);}}),this[_0xf0d9f0(0x160)][_0xf0d9f0(0x1b8)][_0xf0d9f0(0x1f7)](_0xf0d9f0(0x179))[_0xf0d9f0(0x1b3)]();}[_0x2479e0(0x195)](_0x15e224,_0x20e8b9){const _0x252b5c=_0x2479e0;return _0x15e224[_0x252b5c(0x18f)](_0x2f5c1f=>{const _0x7ef5cc=_0x252b5c;if(_0x7ef5cc(0x21c)==_0x2f5c1f[_0x7ef5cc(0x1f0)]){const _0x4e52eb=_0x2f5c1f[_0x7ef5cc(0x1e9)][_0x7ef5cc(0x189)];return!_0x20e8b9[_0x7ef5cc(0x1ea)](_0x4e52eb);}if(_0x2f5c1f[_0x7ef5cc(0x1f0)][_0x7ef5cc(0x22b)](_0x7ef5cc(0x209))>-0x1){const _0xb05ecf=_0x2f5c1f[_0x7ef5cc(0x21b)][_0x7ef5cc(0x168)][_0x7ef5cc(0x189)];return!_0x20e8b9[_0x7ef5cc(0x1ea)](_0xb05ecf);}return!0x0;});}[_0x2479e0(0x230)](_0x48981f,_0x262b1c,_0x24c238){const _0x76d996=_0x2479e0,_0x34a225=_0x262b1c[_0x76d996(0x1cb)]();for(const _0x4c02ac in _0x262b1c){const _0xd8c5bd=_0x262b1c[_0x4c02ac];_0xd8c5bd instanceof _0x5275ab?_0x262b1c[_0x4c02ac]=new _0x5275ab(_0x2af09b(_0xd8c5bd[_0x76d996(0x168)]),_0x2af09b(_0xd8c5bd[_0x76d996(0x1a4)])):_0xd8c5bd instanceof _0x25505&&(_0x262b1c[_0x4c02ac]=_0x2af09b(_0xd8c5bd));}if([_0x76d996(0x19e),_0x76d996(0x1ee),_0x76d996(0x1de),_0x76d996(0x186),_0x76d996(0x19d),_0x76d996(0x216)][_0x76d996(0x207)](_0x34a225[_0x76d996(0x1f0)])){if(_0x34a225[_0x76d996(0x16e)]=!0x1,_0x34a225[_0x76d996(0x1f2)]=null,_0x76d996(0x1de)==_0x34a225[_0x76d996(0x1f0)]){const _0x2d9024=_0x34a225[_0x76d996(0x161)],_0x5b14d9=_0x34a225[_0x76d996(0x19a)];new _0x1204ad(_0x2d9024,_0x5b14d9)[_0x76d996(0x201)]();}else _0x34a225[_0x76d996(0x201)]();}function _0x2af09b(_0xacdf6a){const _0x5559b3=_0x76d996;if(_0x5559b3(0x1e6)==_0xacdf6a[_0x5559b3(0x234)][_0x5559b3(0x1a6)])return _0xacdf6a;const _0x558075=[];let _0x568f7b=_0xacdf6a[_0x5559b3(0x234)];for(let _0x51446f=0x0;_0x51446f<_0xacdf6a[_0x5559b3(0x165)][_0x5559b3(0x1ae)];_0x51446f++){const _0x5f59d5=_0x48981f[_0x5559b3(0x1f7)](_0x568f7b)||0x0;_0x558075[_0x51446f]=_0xacdf6a[_0x5559b3(0x165)][_0x51446f]+_0x5f59d5,_0x568f7b=_0x568f7b[_0x5559b3(0x15c)](_0xacdf6a[_0x5559b3(0x165)][_0x51446f]);}return new _0x25505(_0x24c238,_0x558075,_0xacdf6a[_0x5559b3(0x1a5)]);}}[_0x2479e0(0x190)](){const _0x4f37b5=_0x2479e0;if(!this[_0x4f37b5(0x211)])return;this[_0x4f37b5(0x1ed)][_0x4f37b5(0x1ae)]>0x0&&this[_0x4f37b5(0x235)](),this[_0x4f37b5(0x1ec)]=0x0,this[_0x4f37b5(0x225)]=!0x1;const {action:_0x5b5f9a,content:_0x51482c,version:_0x48e892,mainView:_0x5c003d,aiBalloon:_0x40a631}=this[_0x4f37b5(0x211)];_0x5c003d[_0x4f37b5(0x22e)]=!0x1,_0x5c003d[_0x4f37b5(0x22c)](),this[_0x4f37b5(0x1d1)](_0x5c003d,_0x40a631);const _0x132fcc=_0x5c003d;_0x132fcc[_0x4f37b5(0x174)]&&_0x132fcc[_0x4f37b5(0x174)][_0x4f37b5(0x20c)]&&_0x132fcc[_0x4f37b5(0x174)][_0x4f37b5(0x20c)][_0x4f37b5(0x16c)]({'isOn':!0x1,'icon':_0x2c4432}),this[_0x4f37b5(0x1af)](_0x5c003d),_0x5c003d[_0x4f37b5(0x18e)](),this[_0x4f37b5(0x20b)](),this[_0x4f37b5(0x169)](_0x51482c,_0x48e892,_0x5c003d,_0x40a631,_0x5b5f9a)[_0x4f37b5(0x1ad)](_0x42638c=>{const _0x2641b8=_0x4f37b5;this[_0x2641b8(0x21e)](_0x42638c)||console[_0x2641b8(0x15f)](_0x2641b8(0x1bc),_0x42638c);});}[_0x2479e0(0x1af)](_0xc14997){const _0x1ac4d1=_0x2479e0,_0x1a828a=_0xc14997[_0x1ac4d1(0x184)][_0x1ac4d1(0x1d6)];for(;_0x1a828a[_0x1ac4d1(0x1ae)]>0x0;)_0x1a828a[_0x1ac4d1(0x1de)](_0x1a828a[_0x1ac4d1(0x1bf)]);_0xc14997[_0x1ac4d1(0x184)][_0x1ac4d1(0x15e)]=!0x1;}[_0x2479e0(0x21e)](_0x4cbdec){const _0x558d08=_0x2479e0;return!!_0x4cbdec[_0x558d08(0x237)]&&_0x4cbdec[_0x558d08(0x237)][_0x558d08(0x236)](_0x558d08(0x232));}[_0x2479e0(0x173)](){const _0x1cbc18=_0x2479e0;this[_0x1cbc18(0x1ed)]=[],this[_0x1cbc18(0x211)]=void 0x0,this[_0x1cbc18(0x1ec)]=0x0,this[_0x1cbc18(0x20b)]();}[_0x2479e0(0x235)](){const _0x46c345=_0x2479e0;this[_0x46c345(0x205)]&&this[_0x46c345(0x205)][_0x46c345(0x19c)](),this[_0x46c345(0x231)][_0x46c345(0x220)](),this[_0x46c345(0x1eb)]=!0x1;}[_0x2479e0(0x204)](){const _0xf871ab=_0x2479e0,_0xc9b852=new _0x4add50(this[_0xf871ab(0x160)][_0xf871ab(0x221)]),_0x4741fd=new _0x4add50(this[_0xf871ab(0x160)][_0xf871ab(0x221)]),_0x3a8473=new _0x1ec23b(this[_0xf871ab(0x160)][_0xf871ab(0x221)]),_0x44b0a4=new _0x4add50(this[_0xf871ab(0x160)][_0xf871ab(0x221)]);_0xc9b852[_0xf871ab(0x16c)]({'icon':_0x1a5cb6,'label':_0x335cac(this[_0xf871ab(0x160)][_0xf871ab(0x221)],_0xf871ab(0x17d)),'tooltip':!0x0,'class':_0xf871ab(0x1a8)}),_0x4741fd[_0xf871ab(0x16c)]({'icon':_0xc58103,'tooltip':_0x335cac(this[_0xf871ab(0x160)][_0xf871ab(0x221)],_0xf871ab(0x199)),'class':_0xf871ab(0x212)}),_0x3a8473[_0xf871ab(0x1e3)]({'tag':_0xf871ab(0x21a),'attributes':{'class':[_0xf871ab(0x167)]},'children':[_0xf871ab(0x163)]}),_0x44b0a4[_0xf871ab(0x16c)]({'icon':_0x1a6bc0,'tooltip':_0x335cac(this[_0xf871ab(0x160)][_0xf871ab(0x221)],_0xf871ab(0x208)),'class':_0xf871ab(0x1dc)}),_0xc9b852[_0xf871ab(0x1f6)](_0xf871ab(0x22d))['to'](this,_0xf871ab(0x1eb),_0x4e6aac=>!_0x4e6aac),_0xc9b852['on'](_0xf871ab(0x1c9),()=>{const _0x66f958=_0xf871ab;this[_0x66f958(0x190)]();}),_0x4741fd[_0xf871ab(0x1f6)](_0xf871ab(0x22d))['to'](this,_0xf871ab(0x1eb),_0x8448da=>!_0x8448da),_0x4741fd['on'](_0xf871ab(0x1c9),()=>{const _0x44558d=_0xf871ab;this[_0x44558d(0x1f5)]();}),_0x44b0a4[_0xf871ab(0x1f6)](_0xf871ab(0x22d))['to'](this,_0xf871ab(0x1eb),_0x217ab7=>!_0x217ab7),_0x44b0a4['on'](_0xf871ab(0x1c9),()=>{const _0x482b8a=_0xf871ab;this[_0x482b8a(0x1fa)]();}),this[_0xf871ab(0x1ff)]=_0x4741fd,this[_0xf871ab(0x226)]=_0x3a8473,this[_0xf871ab(0x1c8)]=_0x44b0a4,this[_0xf871ab(0x1c0)][_0xf871ab(0x16d)](_0xc9b852);}[_0x2479e0(0x1f5)](){const _0x263ea8=_0x2479e0,_0x31a722=this[_0x263ea8(0x1ed)][_0x263ea8(0x1ae)];this[_0x263ea8(0x1ec)]<_0x31a722-0x1&&this[_0x263ea8(0x1e8)](this[_0x263ea8(0x1ec)]+0x1);}[_0x2479e0(0x1fa)](){const _0x225ecc=_0x2479e0;this[_0x225ecc(0x1ec)]>0x0&&this[_0x225ecc(0x1e8)](this[_0x225ecc(0x1ec)]-0x1);}async[_0x2479e0(0x1e8)](_0x4d317e){const _0x52eb4c=_0x2479e0;if(!this[_0x52eb4c(0x211)])return;this[_0x52eb4c(0x1ec)]=_0x4d317e;const {mainView:_0x5d3a24}=this[_0x52eb4c(0x211)],_0x100717=this[_0x52eb4c(0x1ed)][this[_0x52eb4c(0x1ed)][_0x52eb4c(0x1ae)]-0x1-this[_0x52eb4c(0x1ec)]];if(!_0x100717)return;if(_0x100717[_0x52eb4c(0x228)])return this[_0x52eb4c(0x1c7)](_0x100717,_0x5d3a24),void this[_0x52eb4c(0x20b)]();if(!_0x100717[_0x52eb4c(0x1d2)][_0x52eb4c(0x1ae)])return;_0x5d3a24[_0x52eb4c(0x22c)](),this[_0x52eb4c(0x211)]&&this[_0x52eb4c(0x1d1)](_0x5d3a24,this[_0x52eb4c(0x211)][_0x52eb4c(0x200)]);const _0x5d1d8a=_0x100717[_0x52eb4c(0x1d2)][_0x100717[_0x52eb4c(0x1d2)][_0x52eb4c(0x1ae)]-0x1];if(_0x5d1d8a){const _0x468f09=this[_0x52eb4c(0x160)];this[_0x52eb4c(0x1af)](_0x5d3a24);try{const _0x201af3=_0x2b0cca({'editor':_0x468f09,'changeGroups':_0x5d1d8a[_0x52eb4c(0x1ab)],'documentContextContent':_0x5d1d8a[_0x52eb4c(0x171)],'showDiff':this[_0x52eb4c(0x225)],'trimUnchanged':!0x1});this[_0x52eb4c(0x1af)](_0x5d3a24),await new Promise(_0x5d4e8e=>setTimeout(_0x5d4e8e,0x32)),await _0x5d3a24[_0x52eb4c(0x1b4)]({'parts':_0x201af3,'renderingStrategy':_0x52eb4c(0x1f1),'abortSignal':new AbortController()[_0x52eb4c(0x1fb)]});}catch(_0x146b5f){this[_0x52eb4c(0x21e)](_0x146b5f)||console[_0x52eb4c(0x15f)](_0x52eb4c(0x1aa),_0x146b5f);}}this[_0x52eb4c(0x20b)]();}[_0x2479e0(0x20b)](){const _0x16ea9c=_0x2479e0;if(!this[_0x16ea9c(0x1ff)]||!this[_0x16ea9c(0x226)]||!this[_0x16ea9c(0x1c8)])return;const _0x25c409=this[_0x16ea9c(0x1ed)][_0x16ea9c(0x1ae)],_0x3e1f0b=_0x25c409>0x1,_0x5d51b5=this[_0x16ea9c(0x211)]?.[_0x16ea9c(0x197)];if(_0x3e1f0b){this[_0x16ea9c(0x17b)]||this[_0x16ea9c(0x215)]||this[_0x16ea9c(0x222)]||(this[_0x16ea9c(0x1c0)][_0x16ea9c(0x16d)](this[_0x16ea9c(0x1ff)]),_0x5d51b5?.[_0x16ea9c(0x1ac)](this[_0x16ea9c(0x1ff)]),this[_0x16ea9c(0x17b)]=!0x0,this[_0x16ea9c(0x1c0)][_0x16ea9c(0x16d)](this[_0x16ea9c(0x226)]),_0x5d51b5?.[_0x16ea9c(0x1ac)](this[_0x16ea9c(0x226)]),this[_0x16ea9c(0x215)]=!0x0,this[_0x16ea9c(0x1c0)][_0x16ea9c(0x16d)](this[_0x16ea9c(0x1c8)]),_0x5d51b5?.[_0x16ea9c(0x1ac)](this[_0x16ea9c(0x1c8)]),this[_0x16ea9c(0x222)]=!0x0);const _0x346194=_0x25c409-this[_0x16ea9c(0x1ec)];this[_0x16ea9c(0x226)][_0x16ea9c(0x1f8)]&&(this[_0x16ea9c(0x226)][_0x16ea9c(0x1f8)][_0x16ea9c(0x1db)]=_0x346194+'/'+_0x25c409),this[_0x16ea9c(0x1ff)][_0x16ea9c(0x22d)]=this[_0x16ea9c(0x1ec)]<_0x25c409-0x1,this[_0x16ea9c(0x1c8)][_0x16ea9c(0x22d)]=this[_0x16ea9c(0x1ec)]>0x0;}else(this[_0x16ea9c(0x17b)]||this[_0x16ea9c(0x215)]||this[_0x16ea9c(0x222)])&&(this[_0x16ea9c(0x1c0)][_0x16ea9c(0x1de)](this[_0x16ea9c(0x1ff)]),_0x5d51b5?.[_0x16ea9c(0x166)](this[_0x16ea9c(0x1ff)]),this[_0x16ea9c(0x17b)]=!0x1,this[_0x16ea9c(0x1c0)][_0x16ea9c(0x1de)](this[_0x16ea9c(0x226)]),_0x5d51b5?.[_0x16ea9c(0x166)](this[_0x16ea9c(0x226)]),this[_0x16ea9c(0x215)]=!0x1,this[_0x16ea9c(0x1c0)][_0x16ea9c(0x1de)](this[_0x16ea9c(0x1c8)]),_0x5d51b5?.[_0x16ea9c(0x166)](this[_0x16ea9c(0x1c8)]),this[_0x16ea9c(0x222)]=!0x1);}[_0x2479e0(0x1b1)](_0x1f6438,_0x44e83d){const _0x24b2e6=_0x2479e0;_0x1f6438[_0x24b2e6(0x15a)](),_0x44e83d[_0x24b2e6(0x1bb)][_0x24b2e6(0x15a)](),this[_0x24b2e6(0x1eb)]=!0x0;}async[_0x2479e0(0x1c7)](_0xf0b78e,_0x31bbbc){const _0x31bdb4=_0x2479e0,_0x55e810=_0x335cac(this[_0x31bdb4(0x160)][_0x31bdb4(0x221)],_0x31bdb4(0x1c3));_0x31bbbc[_0x31bdb4(0x206)](_0x55e810),_0xf0b78e[_0x31bdb4(0x228)]=!0x0,await this[_0x31bdb4(0x231)][_0x31bdb4(0x178)],_0x31bbbc[_0x31bdb4(0x176)](),this[_0x31bdb4(0x211)]?.[_0x31bdb4(0x200)][_0x31bdb4(0x1bb)][_0x31bdb4(0x18d)]&&(this[_0x31bdb4(0x211)][_0x31bdb4(0x200)][_0x31bdb4(0x1bb)][_0x31bdb4(0x18d)][_0x31bdb4(0x16f)]=!0x0);}[_0x2479e0(0x1d1)](_0x80028a,_0xc1bad3){const _0x27e281=_0x2479e0;_0x80028a[_0x27e281(0x18c)](),_0xc1bad3[_0x27e281(0x1bb)][_0x27e281(0x18d)]&&(_0xc1bad3[_0x27e281(0x1bb)][_0x27e281(0x18d)][_0x27e281(0x16f)]=!0x1);}async[_0x2479e0(0x1b7)](_0x261a3a,_0x57098b){const _0x25c80d=_0x2479e0;await this[_0x25c80d(0x231)][_0x25c80d(0x178)],this[_0x25c80d(0x1eb)]=!0x1,_0x261a3a[_0x25c80d(0x1d3)](),_0x57098b[_0x25c80d(0x1bb)][_0x25c80d(0x1d3)]();}}