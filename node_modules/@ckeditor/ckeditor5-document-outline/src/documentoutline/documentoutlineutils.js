/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
function _0x3f4e(_0x364a1a,_0x28c35a){const _0x2e0109=_0x2e01();return _0x3f4e=function(_0x3f4e53,_0x347765){_0x3f4e53=_0x3f4e53-0x106;let _0x2c9f72=_0x2e0109[_0x3f4e53];return _0x2c9f72;},_0x3f4e(_0x364a1a,_0x28c35a);}const _0x594af3=_0x3f4e;(function(_0x523c39,_0x2e4700){const _0x1e08f5=_0x3f4e,_0x382c67=_0x523c39();while(!![]){try{const _0x538202=parseInt(_0x1e08f5(0x10b))/0x1*(-parseInt(_0x1e08f5(0x112))/0x2)+parseInt(_0x1e08f5(0x109))/0x3*(parseInt(_0x1e08f5(0x12f))/0x4)+-parseInt(_0x1e08f5(0x135))/0x5*(-parseInt(_0x1e08f5(0x115))/0x6)+-parseInt(_0x1e08f5(0x10a))/0x7+parseInt(_0x1e08f5(0x12d))/0x8*(-parseInt(_0x1e08f5(0x107))/0x9)+parseInt(_0x1e08f5(0x126))/0xa+-parseInt(_0x1e08f5(0x132))/0xb*(-parseInt(_0x1e08f5(0x117))/0xc);if(_0x538202===_0x2e4700)break;else _0x382c67['push'](_0x382c67['shift']());}catch(_0x15cc7b){_0x382c67['push'](_0x382c67['shift']());}}}(_0x2e01,0xcbab1));function _0x2e01(){const _0xe8498=['DocumentOutlineUtils','907822VBRNlF','indexOf','activeItemIndex','2976492tQAMtP','includes','3408432QnNrRg','selection','findIndex','domToView','_getActiveHeading','data','pluginName','editor','_deriveHeadingElementsFromConversion','documentOutline.headings','name','isPremiumPlugin','modelElement','backward','get','2684970OfHFUx','getRoot','domConverter','document','push','level','item','8PVSvOS','afterInit','100pGuAbR','init','toModel','77TCKuTq','length','view','5YqxmDE','getFirstPosition','text','element','config','_headingNames','_getOutlineDefinitions','editing','createElement','getRootNames','fire','7172712EnVgiD','isOfficialPlugin','59322YpxzCZ','8134539wOKKbl','1bIeUZu','_getHeadingNames','change','getChildren','model','getChild'];_0x2e01=function(){return _0xe8498;};return _0x2e01();}import{Plugin as _0x19bbe2}from'ckeditor5/src/core.js';import{debounce as _0x52fc28}from'es-toolkit/compat';import{ModelTreeWalker as _0x468244}from'ckeditor5/src/engine.js';import{getElementText as _0x262cb7,getDefaultFeatureHeadingNames as _0xecd4eb}from'./utils.js';import{diff as _0x36dcee,diffToChanges as _0xaf9f5}from'ckeditor5/src/utils.js';export class DocumentOutlineUtils extends _0x19bbe2{static get[_0x594af3(0x11d)](){const _0x1fbc5d=_0x594af3;return _0x1fbc5d(0x111);}static get[_0x594af3(0x108)](){return!0x0;}static get[_0x594af3(0x122)](){return!0x0;}[_0x594af3(0x13a)]=[];[_0x594af3(0x130)](){const _0x2c2c97=_0x594af3,_0x14d2d8=this[_0x2c2c97(0x11e)];this[_0x2c2c97(0x13a)]=this[_0x2c2c97(0x10c)]();let _0x5311d3=[];_0x14d2d8[_0x2c2c97(0x10f)][_0x2c2c97(0x129)]['on'](_0x2c2c97(0x10d),_0x52fc28(()=>{const _0x219a1e=_0x2c2c97,_0x1d8788=_0x5311d3;_0x5311d3=this[_0x219a1e(0x13b)]();const _0x23f1b9=_0x36dcee(_0x1d8788,_0x5311d3,(_0x216dc3,_0x26e514)=>_0x216dc3[_0x219a1e(0x12b)]===_0x26e514[_0x219a1e(0x12b)]&&_0x216dc3[_0x219a1e(0x137)]===_0x26e514[_0x219a1e(0x137)]&&_0x216dc3[_0x219a1e(0x123)]===_0x26e514[_0x219a1e(0x123)]),_0x39e2f=_0xaf9f5(_0x23f1b9,_0x5311d3),_0x3eddd7=this[_0x219a1e(0x11b)](),_0x1f97a5=_0x5311d3[_0x219a1e(0x119)](_0x390ff2=>_0x390ff2[_0x219a1e(0x123)]===_0x3eddd7);_0x39e2f[_0x219a1e(0x133)]&&this[_0x219a1e(0x106)](_0x219a1e(0x10d),{'outlineDefinitions':_0x5311d3,'activeItemIndex':_0x1f97a5,'outlineChanges':_0x39e2f}),this[_0x219a1e(0x106)](_0x219a1e(0x114),{'index':_0x1f97a5});},0xfa,{'leading':!0x0,'trailing':!0x0}));}[_0x594af3(0x12e)](){const _0x5d5598=_0x594af3;this[_0x5d5598(0x13a)][_0x5d5598(0x133)]||this[_0x5d5598(0x11f)]();}[_0x594af3(0x13b)](){const _0x3a3d5f=_0x594af3,_0x4cf796=this[_0x3a3d5f(0x11e)],_0x33b834=[],_0x58c120=this[_0x3a3d5f(0x13a)];for(const _0x41200 of _0x4cf796[_0x3a3d5f(0x10f)][_0x3a3d5f(0x129)][_0x3a3d5f(0x13e)]())_0x2f7fc7(_0x4cf796[_0x3a3d5f(0x10f)][_0x3a3d5f(0x129)][_0x3a3d5f(0x127)](_0x41200));function _0x2f7fc7(_0x267bf2){const _0x4bf1f0=_0x3a3d5f;for(const _0x58dfd6 of _0x267bf2[_0x4bf1f0(0x10e)]())_0x58dfd6['is'](_0x4bf1f0(0x138))&&(_0x58c120[_0x4bf1f0(0x116)](_0x58dfd6[_0x4bf1f0(0x121)])&&_0x33b834[_0x4bf1f0(0x12a)]({'level':_0x58c120[_0x4bf1f0(0x113)](_0x58dfd6[_0x4bf1f0(0x121)])+0x1,'text':_0x262cb7(_0x58dfd6),'modelElement':_0x58dfd6}),_0x2f7fc7(_0x58dfd6));}return _0x33b834;}[_0x594af3(0x11b)](){const _0x344a79=_0x594af3,_0x1a6e36=this[_0x344a79(0x11e)][_0x344a79(0x10f)][_0x344a79(0x129)][_0x344a79(0x118)][_0x344a79(0x136)](),_0x221e10=new _0x468244({'direction':_0x344a79(0x124),'startPosition':_0x1a6e36});for(const _0x4f1c8e of _0x221e10)if(_0x4f1c8e[_0x344a79(0x12c)]['is'](_0x344a79(0x138))&&this[_0x344a79(0x13a)][_0x344a79(0x116)](_0x4f1c8e[_0x344a79(0x12c)][_0x344a79(0x121)]))return _0x4f1c8e[_0x344a79(0x12c)];}[_0x594af3(0x10c)](){const _0x462713=_0x594af3,_0x4011af=this[_0x462713(0x11e)][_0x462713(0x139)][_0x462713(0x125)](_0x462713(0x120));return _0x4011af||_0xecd4eb(this[_0x462713(0x11e)]);}[_0x594af3(0x11f)](){const _0x3dfd9f=_0x594af3,_0x546d2f=this[_0x3dfd9f(0x11e)],_0x4a8a35=['h1','h2','h3','h4','h5','h6'],_0x581e9c=[];for(const _0x2f224d of _0x4a8a35){const _0x4ecf62=_0x546d2f[_0x3dfd9f(0x13c)][_0x3dfd9f(0x134)][_0x3dfd9f(0x128)][_0x3dfd9f(0x11a)](document[_0x3dfd9f(0x13d)](_0x2f224d)),_0x484ec2=_0x546d2f[_0x3dfd9f(0x11c)][_0x3dfd9f(0x131)](_0x4ecf62)[_0x3dfd9f(0x110)](0x0);_0x484ec2?.['is'](_0x3dfd9f(0x138))&&_0x581e9c[_0x3dfd9f(0x12a)](_0x484ec2[_0x3dfd9f(0x121)]);}this[_0x3dfd9f(0x13a)]=_0x581e9c;}}